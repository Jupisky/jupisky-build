(this["webpackJsonpjupisky-ui"]=this["webpackJsonpjupisky-ui"]||[]).push([[35],{1375:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(1379),i=function(e){var t=e.currentTarget;/token_placeholder/.test(t.src)||(t.src=a.a)};n(433)},1379:function(e,t,n){"use strict";t.a=n.p+"static/media/token_placeholder.c1abe466.svg"},1391:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(38),i=n(390),r=n(0),c=n.p+"static/media/qrcode.fec1b6d8.svg",o=n(271),s=n(515),l=n.n(s),d=n(1422),u=n.n(d),b=n(13),j=n(492),m=Object(j.a)({heading:{padding:b.lg,justifyContent:"space-between",maxHeight:"75px",boxSizing:"border-box"},loaderContainer:{width:"100%",height:"100%"},close:{height:"25px",width:"25px",color:b.secondaryText},detailsContainer:{backgroundColor:b.background,maxHeight:"450px"},buttonRow:{height:"84px",justifyContent:"center"},button:{"&:last-child":{marginLeft:b.sm}}}),f=n(323),O=n(146),g=n(235),h=n(108),p=n(167),x=n(87),v=n(113),y=n(2),k=Object(i.a)(m),w=function(e){var t=e.isOpen,n=e.onClose,i=e.onScan,c=k(),s=Object(r.useState)(!1),d=Object(a.a)(s,2),b=d[0],j=d[1],m=Object(r.useState)(null),w=Object(a.a)(m,2),P=w[0],S=w[1],C=Object(r.useState)(!1),T=Object(a.a)(C,2),R=T[0],I=T[1],E=r.createRef(),B=r.useCallback((function(){E.current.openImageDialog()}),[E]);Object(r.useEffect)((function(){b||!R||P||(j(!0),B())}),[R,B,b,j,P]);var N=function(e,t){if(e)return console.error("QR code error",e),void("NotAllowedError"===e.name||"PermissionDismissedError"===e.name?(I(!0),j(!1)):S("The QR could not be read"));t?i(t):R&&S("The QR could not be read")};return Object(y.jsxs)(f.c,{description:"Receive Tokens Form",handleClose:n,open:t,title:"Receive Tokens",children:[Object(y.jsxs)(v.a,{align:"center",className:c.heading,grow:!0,children:[Object(y.jsx)(x.a,{noMargin:!0,size:"xl",children:"Scan QR"}),Object(y.jsx)(o.a,{disableRipple:!0,onClick:n,children:Object(y.jsx)(l.a,{className:c.close})})]}),Object(y.jsx)(p.a,{}),Object(y.jsxs)(h.a,{className:c.detailsContainer,layout:"column",middle:"xs",children:[P&&Object(y.jsx)(O.a,{padding:"md",margin:"md",children:P}),Object(y.jsx)(u.a,{legacyMode:R,onError:function(e){return N(e,null)},onScan:function(e){return N(null,e)},ref:E,style:{width:"400px",height:"400px"},facingMode:"user"})]}),Object(y.jsx)(p.a,{}),Object(y.jsxs)(v.a,{align:"center",className:c.buttonRow,children:[Object(y.jsx)(g.a,{className:c.button,color:"secondary",minWidth:154,onClick:n,children:"Close"}),Object(y.jsx)(g.a,{className:c.button,color:"primary",minWidth:154,onClick:function(){I(!0),S(null),j(!1)},variant:"contained",children:"Upload an image"})]})]})},P=n(126),S=Object(i.a)({qrCodeBtn:{cursor:"pointer"}}),C=function(e){var t=e.handleScan,n=e.testId,i=S(),o=Object(r.useState)(!1),s=Object(a.a)(o,2),l=s[0],d=s[1],u=function(){d(!1)};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(P.a,{alt:"Scan QR",className:i.qrCodeBtn,height:20,onClick:function(){d(!0)},role:"button",src:c,testId:n||"qr-icon"}),l&&Object(y.jsx)(w,{isOpen:l,onClose:u,onScan:function(e){t(e,u)}})]})}},1400:function(e,t,n){"use strict";var a=n(8),i=n(60),r=n(493),c=n(496),o=n(1273),s=n(499),l=n(2),d=["name","onChange","value"],u=["classes","disableError","formControlProps","input","label","meta","renderValue"],b={minWidth:"100%"};t.a=function(e){var t=e.classes,n=e.disableError,j=e.formControlProps,m=e.input,f=m.name,O=m.onChange,g=m.value,h=Object(i.a)(m,d),p=e.label,x=e.meta,v=e.renderValue,y=Object(i.a)(e,u),k=(x.submitError&&!x.dirtySinceLastSubmit||x.error)&&x.touched&&!n,w=Object(a.a)(Object(a.a)({},h),{},{name:f});return Object(l.jsxs)(r.a,Object(a.a)(Object(a.a)({},j),{},{error:k,style:b,children:[Object(l.jsx)(o.a,{htmlFor:f,children:p}),Object(l.jsx)(s.a,Object(a.a)({classes:t,inputProps:w,onChange:O,renderValue:v,value:g},y)),k&&Object(l.jsx)(c.a,{children:x.error||x.submitError})]}))}},1410:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(7),i=n(9),r=n(10),c=n(11),o=n(537),s=n(540),l=n(538),d=n(710),u=n(0),b=n(2),j=function(e){if(e)return{maxWidth:"".concat(e,"px")}},m=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).changeSort=function(t,n){return function(){(0,e.props.onSort)(t,n)}},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.columns,a=t.order,i=t.orderBy;return Object(b.jsx)(s.a,{children:Object(b.jsx)(l.a,{children:n.map((function(t){return Object(b.jsx)(o.a,{align:t.align,padding:t.disablePadding?"none":"normal",sortDirection:i===t.id&&a,children:t.static?Object(b.jsx)("div",{style:t.style,children:t.label}):Object(b.jsx)(d.a,{active:i===t.id,direction:a,onClick:e.changeSort(t.id,t.order),style:t.style,children:t.label})},t.id)}))})})}}]),n}(u.PureComponent);t.b=m},1429:function(e,t,n){"use strict";var a=n(7),i=n(9),r=n(10),c=n(11),o=n(24),s=n(569),l=n(539),d=n(1554),u=n(19),b=n(0),j=n(1410),m=n(74),f=function(e,t,n,a,i){var r=a?"".concat(n,"Order"):n;return i(t[r])<i(e[r])?-1:i(t[r])>i(e[r])?1:0},O=n(113),g=n(13),h=n(2),p={root:{backgroundColor:"white",borderTopRightRadius:g.sm,borderTopLeftRadius:g.sm,boxShadow:"1px 2px 10px 0 rgba(212, 212, 211, 0.59)"},selectRoot:{lineHeight:g.xxl,backgroundColor:"white"},white:{backgroundColor:"white"},paginationRoot:{backgroundColor:"white",boxShadow:"1px 2px 10px 0 rgba(212, 212, 211, 0.59)",marginBottom:"90px",borderBottomRightRadius:g.sm,borderBottomLeftRadius:g.sm},loader:{boxShadow:"1px 2px 10px 0 rgba(212, 212, 211, 0.59)"}},x={"aria-label":"Previous Page"},v={"aria-label":"Next Page"},y=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).onSort=function(e,t){var n=i.state,a=n.order,r=n.orderBy,c=i.props.defaultOrder,o="desc";a&&r===e&&"desc"===a?o="asc":a||"desc"!==c||(o="asc"),i.setState((function(){return{order:o,orderBy:e,orderProp:t,fixed:!1}}))},i.getEmptyStyle=function(){return{height:"calc(100vh - ".concat(255,"px)"),borderTopRightRadius:g.sm,borderTopLeftRadius:g.sm,backgroundColor:"white",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},i.handleChangePage=function(e,t){i.setState({page:t})},i.handleChangeRowsPerPage=function(e){var t=Number(e.target.value);i.setState({rowsPerPage:t})},i.state={page:0,order:void 0,orderBy:void 0,fixed:void 0,orderProp:!1,rowsPerPage:void 0},i}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.columns,n=e.defaultOrderBy;n&&t&&(t.find((function(e){return e.id===n})).order&&this.setState({orderProp:!0}))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.classes,a=e.columns,i=e.data,r=e.defaultFixed,c=e.defaultOrder,u=e.defaultOrderBy,b=e.defaultRowsPerPage,g=e.disableLoadingOnEmptyTable,p=e.disablePagination,y=e.label,k=e.noBorder,w=e.size,P=this.state,S=P.fixed,C=P.order,T=P.orderBy,R=P.orderProp,I=P.page,E=P.rowsPerPage,B=T||u,N=C||c,L=E||b,M="undefined"!==typeof S?S:!!r,G={selectRoot:n.selectRoot,root:!k&&n.paginationRoot,input:n.white},A=a.find((function(e){return e.id===B})),z=function(e,t,n){var a=n?e.filter((function(e){return e.fixed})):Object(m.a)([]),i=(n?e.filter((function(e){return!e.fixed})):e).map((function(e,t){return[e,t]})),r=(i=i.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]}))).map((function(e){return e[0]}));return a.concat(r)}(i,function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e};return"desc"===e?function(e,i){return f(e,i,t,n,a)}:function(e,i){return-f(e,i,t,n,a)}}(N,B,R,null===A||void 0===A?void 0:A.formatTypeSort),M);p||(z=z.slice(I*L,I*L+L));var F=0===w&&!g;return Object(h.jsxs)(h.Fragment,{children:[!F&&Object(h.jsxs)(s.a,{"aria-labelledby":y,className:k?"":n.root,children:[Object(h.jsx)(j.b,{columns:a,onSort:this.onSort,order:C,orderBy:B}),Object(h.jsx)(l.a,{children:t(z)})]}),F&&Object(h.jsx)(O.a,{className:n.loader,style:this.getEmptyStyle(),children:Object(h.jsx)(o.Loader,{size:"sm"})}),!p&&Object(h.jsx)(d.a,{backIconButtonProps:x,classes:G,component:"div",count:w,nextIconButtonProps:v,onPageChange:this.handleChangePage,onRowsPerPageChange:this.handleChangeRowsPerPage,page:I,rowsPerPage:L,rowsPerPageOptions:[5,10,25,50,100]})]})}}]),n}(b.Component);y.defaultProps={defaultOrder:"asc",disablePagination:!1,defaultRowsPerPage:5};t.a=Object(u.a)(p)(y)},1455:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(390),i=n(492),r=n(13),c=Object(a.a)(Object(i.a)({title:{padding:r.lg,paddingBottom:0},hide:{"&:hover":{backgroundColor:"#f7f5f5"},"&:hover $actions":{visibility:"initial"}},actions:{justifyContent:"flex-end",visibility:"hidden"},noBorderBottom:{"& > td":{borderBottom:"none"}},annotation:{paddingLeft:r.lg},ownersText:{color:r.secondaryText,"& b":{color:r.fontColor}},container:{padding:r.lg},actionButton:{fontWeight:r.boldFont,marginRight:r.sm},buttonRow:{padding:r.lg,left:0,bottom:0,boxSizing:"border-box",width:"100%",justifyContent:"flex-end",borderTop:"2px solid ".concat(r.border)},modifyBtn:{height:r.xl,fontSize:r.smallFontSize},removeModuleIcon:{marginLeft:r.lg,cursor:"pointer"},modalHeading:{boxSizing:"border-box",justifyContent:"space-between",height:"74px",padding:"".concat(r.sm," ").concat(r.lg)},modalContainer:{minHeight:"369px"},modalManage:{fontSize:r.lg},modalClose:{height:"35px",width:"35px"},modalButtonRow:{height:"84px",justifyContent:"center"},modalButtonRemove:{color:"#fff",backgroundColor:r.error,height:"42px"},modalName:{textOverflow:"ellipsis",overflow:"hidden"},modalUserName:{whiteSpace:"nowrap"},modalOwner:{backgroundColor:r.background,padding:r.md,alignItems:"center"},modalUser:{justifyContent:"left"},modalDescription:{padding:r.md},modalOpen:{paddingLeft:r.sm,width:"auto","&:hover":{cursor:"pointer"}},amountInput:{width:"100% !important"},gasCostsContainer:{backgroundColor:r.background,padding:"0 ".concat(r.lg)}}))},1457:function(e,t,n){"use strict";n.d(t,"a",(function(){return B})),n.d(t,"b",(function(){return N}));var a=n(60),i=n(38),r=n(8),c=n(1),o=n.n(c),s=n(12),l=n(24),d=n(575),u=n(2619),b=n(0),j=n(42),m=n(514),f=n(18),O=n(14),g=n(324),h=n(143),p=n(45),x=n(31),v=n(390),y=n(492),k=Object(v.a)(Object(y.a)({root:{overflow:"hidden",borderRadius:4,fontSize:"15px",width:"500px"}})),w=Object(v.a)(Object(y.a)({root:{fontSize:"14px",width:"420px"}})),P=n(109),S=n(22),C=n(63),T=n(69),R=n(2),I=["setIsValidAddress","setSelectedEntry"],E=function(e){var t=e.addressBookEntries,n=e.fieldMutator,a=e.label,i=void 0===a?"Recipient":a,c=e.setIsValidAddress,b=e.setSelectedEntry,g=e.setValidationText,v=e.validationText,y=Object(j.d)(T.a),I=function(e){b(e),n(e.address)},E=function(e){var n=Object(m.k)(e);if(c(!n),!n){var a;try{a=Object(C.a)(e)}catch(r){a=e}var i=Object(h.b)(t,{inputValue:a});return 1===i.length?i[0]:a}g(n)},B=function(){var e=Object(s.a)(o.a.mark((function e(t,a,i){var r,c,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=i,e.next="input"===e.t0?3:31;break;case 3:if(r=Object(P.c)(a)){e.next=6;break}return e.abrupt("break",31);case 6:if(!Object(f.x)(O.c.DOMAIN_LOOKUP)||!Object(p.e)(r)&&!Object(p.d)(r)){e.next=24;break}return c="",e.prev=8,e.next=11,Object(x.b)(r);case 11:c=e.sent,e.next=17;break;case 14:e.prev=14,e.t1=e.catch(8),Object(S.c)(S.b._101,e.t1.message);case 17:if(s=E(c)){e.next=21;break}return n(""),e.abrupt("break",31);case 21:return I("string"===typeof s?{address:c,name:r,chainId:y}:s),e.abrupt("break",31);case 24:if(l=E(r)){e.next=28;break}return n(""),e.abrupt("break",31);case 28:return I("string"===typeof l?{address:l,name:"",chainId:y}:l),e.abrupt("break",31);case 31:case"end":return e.stop()}}),e,null,[[8,14]])})));return function(t,n,a){return e.apply(this,arguments)}}(),N=k(),L=w();return Object(R.jsx)(u.a,{closeIcon:null,openOnFocus:!1,filterOptions:h.b,freeSolo:!0,onChange:function(e,t,n){if("select-option"===n){var a=t,i=a.address,r=a.name,c=a.chainId;I({address:i,name:r,chainId:c})}},onInputChange:B,options:t,id:"address-book-input",renderInput:function(e){return Object(R.jsx)(d.a,Object(r.a)(Object(r.a)({},e),{},{autoFocus:!0,error:!!v,fullWidth:!0,variant:"filled",label:v||i,InputLabelProps:{shrink:!0,required:!0,classes:N},InputProps:Object(r.a)(Object(r.a)({},e.InputProps),{},{classes:L})}))},getOptionLabel:function(e){return e.address},renderOption:function(e){var t=e.address,n=e.name;return Object(R.jsx)(l.EthHashInfo,{hash:t,name:n,showAvatar:!0})},role:"listbox",style:{display:"flex",flexGrow:1}})},B=function(e){var t=Object(j.d)(g.d),n=Object(b.useState)(""),a=Object(i.a)(n,2),c=a[0],o=a[1];return Object(b.useEffect)((function(){e.errorMsg&&o(e.errorMsg)}),[e.errorMsg]),Object(R.jsx)(E,Object(r.a)({addressBookEntries:t,setValidationText:o,validationText:c},e))},N=function(e){var t=e.setIsValidAddress,n=e.setSelectedEntry,c=Object(a.a)(e,I),l=Object(j.d)(g.d),d=Object(b.useState)([]),u=Object(i.a)(d,2),f=u[0],O=u[1],p=Object(b.useState)(""),x=Object(i.a)(p,2),v=x[0],y=x[1];Object(b.useEffect)((function(){var e=function(){var e=Object(s.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.c)(l);case 2:t=e.sent,O(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[l]);var k=function(){var e=Object(s.a)(o.a.mark((function e(a){var i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===a||void 0===a?void 0:a.address)){e.next=7;break}return e.next=3,Object(m.l)(a.address);case 3:i=e.sent,t(!i),y(null!==i&&void 0!==i?i:""),n(a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(R.jsx)(E,Object(r.a)({addressBookEntries:f,setIsValidAddress:t,setSelectedEntry:k,setValidationText:y,validationText:v},c))}},1474:function(e,t,n){"use strict";n.d(t,"b",(function(){return T}));var a,i,r,c,o,s=n(8),l=n(26),d=n(24),u=n(574),b=n(53),j=n(566),m=n(1359),f=n(23),O=n(18),g=n(1507),h=n(2),p=Object(f.default)(d.RadioButtons)(a||(a=Object(l.a)(["\n  & .MuiRadio-colorPrimary.Mui-checked {\n    color: ",";\n  }\n"])),(function(e){return e.theme.colors.primary})),x=Object(f.default)((function(e){var t=Object.assign({},e);return Object(h.jsx)(u.a,Object(s.a)({},t))}))(i||(i=Object(l.a)(["\n  && {\n    .MuiIconButton-label,\n    .MuiSwitch-colorSecondary {\n      color: ",";\n    }\n\n    .MuiSwitch-colorSecondary.Mui-checked .MuiIconButton-label {\n      color: ",";\n    }\n\n    .MuiSwitch-colorSecondary.Mui-checked:hover {\n      background-color: ",";\n    }\n\n    .Mui-checked + .MuiSwitch-track {\n      background-color: ",";\n    }\n  }\n"])),(function(e){return e.theme.colors.icon}),(function(e){return e.theme.colors.primary}),(function(e){var t=e.theme;return Object(b.h)("".concat(t.colors.primary,"03"))}),(function(e){return e.theme.colors.primaryLight})),v=function(e){var t=e.options,n=e.initialValue,a=e.groupName;return Object(h.jsx)(g.a,{name:a,initialValue:n,children:function(e){var a=e.input,i=a.name,r=a.value,c=a.onChange;return Object(h.jsx)(p,{name:i,value:r||n,onRadioChange:c,options:t})}})},y=function(e){var t=e.label,n=e.name;return Object(h.jsx)(j.a,{label:t,control:Object(h.jsx)(g.a,{name:n,type:"checkbox",render:function(e){var t=e.input,n=t.checked,a=t.onChange,i=t.name,r=t.value;return Object(h.jsx)(x,{checked:n,onChange:a,name:i,value:r})}})})},k=f.default.div(r||(r=Object(l.a)(["\n  grid-area: resetTimeLabel;\n"]))),w=f.default.div(c||(c=Object(l.a)(["\n  grid-area: resetTimeToggle;\n"]))),P=f.default.div(o||(o=Object(l.a)(["\n  grid-area: resetTimeOption;\n"]))),S=[{label:"1 day",value:"1440"},{label:"1 week",value:"10080"},{label:"1 month",value:"43200"}],C=[{label:"5 minutes",value:"5"},{label:"30 minutes",value:"30"},{label:"1 hour",value:"60"}],T=function(){return"rinkeby"!==Object(O.p)().toLowerCase()?S:C};t.a=function(){var e=Object(m.c)("withResetTime",{subscription:{value:!0}}).input.value,t=T(),n=e?"choose reset time period":"one time";return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(k,{children:Object(h.jsx)(d.Text,{size:"xl",children:"Set a reset time so the allowance automatically refills after the defined time period."})}),Object(h.jsx)(w,{children:Object(h.jsx)(y,{label:"Reset time (".concat(n,")"),name:"withResetTime"})}),e&&Object(h.jsx)(P,{children:Object(h.jsx)(v,{groupName:"resetTime",initialValue:t[0].value,options:t})})]})}},1507:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a,i,r,c=n(26),o=n(24),s=n(1359),l=n(42),d=n(23),u=n(1364),b=n(514),j=n(234),m=n(1455),f=n(2),O=Object(d.default)(u.a)(a||(a=Object(c.a)(["\n  margin: 8px 0;\n  width: 100%;\n"]))),g=d.default.div(i||(i=Object(c.a)(["\n  grid-area: amountInput;\n"]))),h=Object(d.default)(o.TextField)(r||(r=Object(c.a)(["\n  margin: 0;\n"])));t.b=function(){var e=Object(m.a)(),t=Object(s.c)("token",{subscription:{value:!0}}).input.value,n=Object(s.c)("amount",{subscription:{touched:!0,visited:!0}}).meta,a=n.touched,i=n.visited,r=Object(l.d)(j.a).find((function(e){return e.address===t})),c=(a||i)&&Object(b.d)(b.p,b.m,Object(b.i)(0,!1));return Object(f.jsx)(g,{children:Object(f.jsx)(O,{component:h,label:"Amount*",name:"amount",type:"text","data-testid":"amount-input",endAdornment:null===r||void 0===r?void 0:r.symbol,className:e.amountInput,validate:c})})}},1508:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return x}));var a,i,r=n(24),c=n(42),o=n(18),s=n(324),l=n(207),d=n(109),u=n(2),b=function(e){var t=e.address,n=e.title,a=Object(c.d)((function(e){return Object(s.a)(e,{address:t})})),i=Object(o.f)(t);return Object(u.jsxs)(u.Fragment,{children:[n&&Object(u.jsx)(r.Text,{size:"xl",strong:!0,children:n}),Object(u.jsx)(r.EthHashInfo,{hash:t,name:Object(d.a)(a,l.a)?void 0:a,showCopyBtn:!0,showAvatar:!0,textSize:"lg",explorerUrl:i})]})},j=n(113),m=function(e){var t=e.title,n=e.label;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(r.Text,{size:"xl",strong:!0,children:t}),n?Object(u.jsx)(j.a,{align:"center",margin:"md",children:Object(u.jsx)(r.IconText,{iconSize:"md",iconType:"fuelIndicator",text:n,textSize:"lg"})}):Object(u.jsx)(j.a,{align:"center",margin:"md",children:Object(u.jsx)(r.Text,{size:"lg",children:"One-time spending limit"})})]})},f=n(26),O=n(23),g=n(1375),h=O.default.img(a||(a=Object(f.a)(["\n  width: 32px;\n  height: 32px;\n  object-fit: contain;\n  margin: 0 8px 0 0;\n"]))),p=O.default.div(i||(i=Object(f.a)(["\n  display: flex;\n  align-items: center;\n"]))),x=function(e){var t=e.amount,n=e.title,a=e.token;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(r.Text,{size:"xl",strong:!0,children:n}),Object(u.jsxs)(p,{children:[Object(u.jsx)(h,{alt:a.name,onError:g.a,src:a.logoUri||""}),Object(u.jsxs)(r.Text,{size:"lg",children:[t," ",a.symbol]})]})]})}},1525:function(e,t,n){"use strict";var a=n(4),i=n(15),r=n(0),c=(n(20),n(16)),o=n(19),s=n(185),l=r.forwardRef((function(e,t){var n=e.classes,o=e.className,l=Object(i.a)(e,["classes","className"]),d=r.useContext(s.a);return r.createElement("div",Object(a.a)({className:Object(c.default)(n.root,o,"flex-start"===d.alignItems&&n.alignItemsFlexStart),ref:t},l))}));t.a=Object(o.a)((function(e){return{root:{minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}}),{name:"MuiListItemIcon"})(l)},1550:function(e,t,n){"use strict";var a=n(42),i=n(45),r=n(234);t.a=function(e){var t=Object(a.d)(r.c);if(t)return t.find((function(t){return Object(i.f)(t.address,e)}))}},1551:function(e,t,n){"use strict";n(569);var a=n(537);n.d(t,"a",(function(){return a.a}));var i=n(538);n.d(t,"b",(function(){return i.a}));n(2)},1554:function(e,t,n){"use strict";var a=n(4),i=n(15),r=n(0),c=(n(20),n(16)),o=n(19),s=n(744),l=n(567),d=n(499),u=n(537),b=n(52),j=r.forwardRef((function(e,t){var n=e.classes,o=e.className,s=e.component,l=void 0===s?"div":s,d=e.disableGutters,u=void 0!==d&&d,b=e.variant,j=void 0===b?"regular":b,m=Object(i.a)(e,["classes","className","component","disableGutters","variant"]);return r.createElement(l,Object(a.a)({className:Object(c.default)(n.root,n[j],o,!u&&n.gutters),ref:t},m))})),m=Object(o.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:Object(b.a)({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(j),f=n(202),O=n(529),g=n(530),h=n(91),p=n(271),x=r.createElement(g.a,null),v=r.createElement(O.a,null),y=r.createElement(O.a,null),k=r.createElement(g.a,null),w=r.forwardRef((function(e,t){var n=e.backIconButtonProps,c=e.count,o=e.nextIconButtonProps,s=e.onChangePage,l=void 0===s?function(){}:s,d=e.onPageChange,u=void 0===d?function(){}:d,b=e.page,j=e.rowsPerPage,m=Object(i.a)(e,["backIconButtonProps","count","nextIconButtonProps","onChangePage","onPageChange","page","rowsPerPage"]),f=Object(h.a)();return r.createElement("div",Object(a.a)({ref:t},m),r.createElement(p.a,Object(a.a)({onClick:function(e){l(e,b-1),u(e,b-1)},disabled:0===b,color:"inherit"},n),"rtl"===f.direction?x:v),r.createElement(p.a,Object(a.a)({onClick:function(e){l(e,b+1),u(e,b+1)},disabled:-1!==c&&b>=Math.ceil(c/j)-1,color:"inherit"},o),"rtl"===f.direction?y:k))})),P=n(242),S=function(e){var t=e.from,n=e.to,a=e.count;return"".concat(t,"-").concat(n," of ").concat(-1!==a?a:"more than ".concat(n))},C=[10,25,50,100],T=r.forwardRef((function(e,t){var n,o=e.ActionsComponent,b=void 0===o?w:o,j=e.backIconButtonProps,O=e.backIconButtonText,g=void 0===O?"Previous page":O,h=e.classes,p=e.className,x=e.colSpan,v=e.component,y=void 0===v?u.a:v,k=e.count,T=e.labelDisplayedRows,R=void 0===T?S:T,I=e.labelRowsPerPage,E=void 0===I?"Rows per page:":I,B=e.nextIconButtonProps,N=e.nextIconButtonText,L=void 0===N?"Next page":N,M=e.onChangePage,G=e.onPageChange,A=e.onChangeRowsPerPage,z=e.onRowsPerPageChange,F=e.page,D=e.rowsPerPage,V=e.rowsPerPageOptions,H=void 0===V?C:V,W=e.SelectProps,U=void 0===W?{}:W,q=Object(i.a)(e,["ActionsComponent","backIconButtonProps","backIconButtonText","classes","className","colSpan","component","count","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","nextIconButtonText","onChangePage","onPageChange","onChangeRowsPerPage","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps"]),_=A||z;y!==u.a&&"td"!==y||(n=x||1e3);var Q=Object(P.a)(),Y=Object(P.a)(),J=U.native?"option":l.a;return r.createElement(y,Object(a.a)({className:Object(c.default)(h.root,p),colSpan:n,ref:t},q),r.createElement(m,{className:h.toolbar},r.createElement("div",{className:h.spacer}),H.length>1&&r.createElement(f.a,{color:"inherit",variant:"body2",className:h.caption,id:Y},E),H.length>1&&r.createElement(d.a,Object(a.a)({classes:{select:h.select,icon:h.selectIcon},input:r.createElement(s.a,{className:Object(c.default)(h.input,h.selectRoot)}),value:D,onChange:_,id:Q,labelId:Y},U),H.map((function(e){return r.createElement(J,{className:h.menuItem,key:e.value?e.value:e,value:e.value?e.value:e},e.label?e.label:e)}))),r.createElement(f.a,{color:"inherit",variant:"body2",className:h.caption},R({from:0===k?0:F*D+1,to:-1!==k?Math.min(k,(F+1)*D):(F+1)*D,count:-1===k?-1:k,page:F})),r.createElement(b,{className:h.actions,backIconButtonProps:Object(a.a)({title:g,"aria-label":g},j),count:k,nextIconButtonProps:Object(a.a)({title:L,"aria-label":L},B),onChangePage:M,onPageChange:G,page:F,rowsPerPage:D})))}));t.a=Object(o.a)((function(e){return{root:{color:e.palette.text.primary,fontSize:e.typography.pxToRem(14),overflow:"auto","&:last-child":{padding:0}},toolbar:{minHeight:52,paddingRight:2},spacer:{flex:"1 1 100%"},caption:{flexShrink:0},selectRoot:{marginRight:32,marginLeft:8},select:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"},selectIcon:{},input:{color:"inherit",fontSize:"inherit",flexShrink:0},menuItem:{},actions:{flexShrink:0,marginLeft:20}}}),{name:"MuiTablePagination"})(T)},1682:function(e,t,n){"use strict";var a=n(24),i=n(1525),r=n(1349),c=n(567),o=n(1364),s=n(1400),l=n(514),d=n(126),u=n(241),b=n(1375),j=n(390),m=n(492),f=n(13),O=Object(j.a)(Object(m.a)({container:{minHeight:"55px",padding:0,width:"100%"},tokenData:{padding:0,margin:0,lineHeight:"14px"},tokenImage:{display:"block",marginRight:f.sm,height:28,width:"auto"}})),g=Object(j.a)(Object(m.a)({selectMenu:{paddingRight:0}})),h=n(2),p=function(e){var t,n,o=e.tokenAddress,s=e.tokens,l=O(),j=s.find((function(e){return e.address===o}));return Object(h.jsx)(c.a,{className:l.container,children:j?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(i.a,{children:Object(h.jsx)(d.a,{className:l.tokenImage,alt:j.name,onError:b.a,src:j.logoUri||""})}),Object(h.jsx)(r.a,{className:l.tokenData,primary:j.name,secondary:"".concat(Object(u.a)(null!==(t=null===(n=j.balance)||void 0===n?void 0:n.tokenBalance.toString())&&void 0!==t?t:"0")," ").concat(j.symbol)})]}):Object(h.jsx)(a.Text,{color:"placeHolder",size:"xl",children:"Select an asset*"})})};t.a=function(e){var t=e.initialValue,n=e.isValid,a=void 0===n||n,j=e.tokens,m=g(),f=O();return Object(h.jsx)(o.a,{classes:{selectMenu:m.selectMenu},className:a?"isValid":"isInvalid",component:s.a,displayEmpty:!0,initialValue:t,name:"token",renderValue:function(e){return Object(h.jsx)(p,{tokenAddress:e,tokens:j})},validate:l.p,children:j.map((function(e){var t,n;return Object(h.jsxs)(c.a,{value:e.address,children:[Object(h.jsx)(i.a,{children:Object(h.jsx)(d.a,{className:f.tokenImage,alt:e.name,onError:b.a,src:e.logoUri||""})}),Object(h.jsx)(r.a,{primary:e.name,secondary:"".concat(Object(u.a)(null!==(t=null===(n=e.balance)||void 0===n?void 0:n.tokenBalance.toString())&&void 0!==t?t:"0")," ").concat(e.symbol),"data-testid":"select-token-".concat(e.name)})]},e.address)}))})}},2616:function(e,t,n){"use strict";n.r(t);var a=n(38),i=n(26),r=n(24),c=n(0),o=n(42),s=n(23),l=n(146),d=n(108),u=n(113),b=n(79),j=n(234),m=n(8),f=n(570),O=n(206),g=n.n(O),h=n(331),p=n(1551),x=n(1429),v=n(1508),y=n(167),k=n(323),w=n(1386),P=n(1368),S=n(1390),C=n(1377),T=n(1550),R=n(430),I=n(61),E=n(542),B=n(280),N=n(1385),L=n(1383),M=n(34),G=n(1474),A=n(1455),z=n(27),F=n(2),D=function(e){var t,n,i=e.onClose,r=e.spendingLimit,s=e.open,l=Object(A.a)(),b=Object(T.a)(r.spent.tokenAddress),j=Object(z.k)(),m=Object(c.useState)(""),f=Object(a.a)(m,2),O=f[0],h=f[1],p=Object(o.c)(),x=Object(c.useState)("0"),D=Object(a.a)(x,2),V=D[0],H=D[1],W=Object(c.useState)(),U=Object(a.a)(W,2),q=U[0],_=U[1],Q=Object(c.useState)(),Y=Object(a.a)(Q,2),J=Y[0],K=Y[1];Object(c.useEffect)((function(){var e=r.beneficiary,t=r.spent.tokenAddress,n=Object(E.d)({beneficiary:e,tokenAddress:t});h(n)}),[r]);var X=Object(C.b)({txData:O,txRecipient:M.q,txAmount:"0",safeTxGas:V,manualGasPrice:q,manualGasLimit:J}),$=X.gasCostFormatted,Z=X.txEstimationExecutionStatus,ee=X.isExecution,te=X.isOffChainSignature,ne=X.isCreation,ae=X.gasLimit,ie=X.gasEstimation,re=X.gasPriceFormatted,ce=Object(S.a)(Z),oe=Object(a.a)(ce,1)[0],se=null!==(t=null===(n=Object(G.b)().find((function(e){return+e.value===+r.resetTime.resetTimeMin})))||void 0===n?void 0:n.label)&&void 0!==t?t:"",le="Remove";return k.a.LOADING===oe&&(le=Z===C.a.LOADING?"Estimating":"Removing"),Object(F.jsx)(k.b,{handleClose:i,open:s,title:"Remove spending limit",description:"Remove the selected spending limit",children:Object(F.jsx)(N.a,{isOffChainSignature:te,isExecution:ee,ethGasLimit:ae,ethGasPrice:re,safeTxGas:ie,closeEditModalCallback:function(e){var t=re,n=e.ethGasPrice,a=ie,i=e.safeTxGas;n&&t!==n&&_(e.ethGasPrice),e.ethGasLimit&&ae!==e.ethGasLimit&&K(e.ethGasLimit),i&&a!==i&&H(i)},children:function(e,t){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(P.a,{onClose:i,title:"Remove spending limit"}),Object(F.jsx)(y.a,{}),Object(F.jsxs)(k.b.Body,{children:[Object(F.jsx)(d.a,{margin:"lg",children:Object(F.jsx)(v.a,{title:"Beneficiary",address:r.beneficiary})}),Object(F.jsx)(d.a,{margin:"lg",children:b&&Object(F.jsx)(v.c,{amount:Object(B.a)(r.spent.amount,b.decimals),title:"Amount",token:b})}),Object(F.jsx)(d.a,{margin:"lg",children:Object(F.jsx)(v.b,{title:"Reset Time",label:se})}),Object(F.jsx)(L.a,{txParameters:e,onEdit:t,isTransactionCreation:ne,isTransactionExecution:ee,isOffChainSignature:te})]}),Object(F.jsx)(u.a,{className:g()(l.modalDescription,l.gasCostsContainer),children:Object(F.jsx)(w.a,{gasCostFormatted:$,isExecution:ee,isCreation:ne,isOffChainSignature:te,txEstimationExecutionStatus:Z})}),Object(F.jsx)(k.b.Footer,{withoutBorder:oe!==k.a.LOADING,children:Object(F.jsx)(k.b.Footer.Buttons,{cancelButtonProps:{onClick:i},confirmButtonProps:{color:"error",onClick:function(){return function(e){try{p(Object(R.b)({safeAddress:j,to:M.q,valueInWei:"0",txData:O,txNonce:e.safeNonce,safeTxGas:e.safeTxGas,ethParameters:e,notifiedTransaction:I.a.REMOVE_SPENDING_LIMIT_TX}))}catch(t){console.error("failed to remove spending limit ".concat(r.beneficiary," -> ").concat(r.spent.tokenAddress),t.message)}}(e)},status:oe,text:le}})})]})}})})},V=n(17),H=n(74),W=n(532),U="beneficiary",q="spent",_="resetTime",Q=n(241),Y=n(1375);function J(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var K,X,$,Z,ee,te,ne,ae,ie,re,ce=s.default.img(K||(K=Object(i.a)(["\n  width: 32px;\n  height: 32px;\n  object-fit: contain;\n  margin: 0 8px 0 0;\n"]))),oe=s.default.div(X||(X=Object(i.a)(["\n  display: flex;\n  align-items: center;\n"]))),se=function(e){var t=e.amount,n=e.spent,i=e.tokenAddress,o=function(){var e=Object(c.useState)(J()),t=Object(a.a)(e,2),n=t[0],i=t[1];return Object(c.useEffect)((function(){function e(){i(J())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}().width,s=Object(c.useMemo)((function(){return o>1024}),[o]),l=Object(T.a)(i),d=function(e){var t=e.amount,n=e.spent,a=e.tokenInfo;return Object(c.useMemo)((function(){if(a){var e=Object(Q.a)(Object(B.a)(n,a.decimals)).toString();return{amount:Object(Q.a)(Object(B.a)(t,a.decimals)).toString(),spent:e}}}),[t,n,a])}({amount:t,spent:n,tokenInfo:l});return d&&l?Object(F.jsxs)(oe,{children:[s&&Object(F.jsx)(ce,{alt:l.name,onError:Y.a,src:l.logoUri||""}),Object(F.jsx)(r.Text,{size:"lg",children:"".concat(d.spent," of ").concat(d.amount," ").concat(l.symbol)})]}):null},le=function(e){var t=e.data,n=Object(A.a)(),i=Object(o.d)(j.b),s=function(){var e={align:"left",custom:!1,disablePadding:!1,id:U,label:"Beneficiary",order:!1},t={align:"left",custom:!1,disablePadding:!1,id:q,label:"Spent",order:!1,static:!0},n={align:"left",custom:!1,disablePadding:!1,id:_,label:"Reset Time",order:!1,static:!0},a={custom:!0,disablePadding:!1,id:"action",label:"",order:!1};return Object(H.a)([e,t,n,a])}(),l=s.filter((function(e){return!e.custom})),d=Object(c.useState)(),b=Object(a.a)(d,2),O=b[0],y=b[1];return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(f.a,{style:{minHeight:"440px"},children:Object(F.jsx)(x.a,{columns:s,data:t,defaultFixed:!0,defaultOrderBy:U,defaultRowsPerPage:5,label:"Spending limits",noBorder:!0,size:null===t||void 0===t?void 0:t.length,children:function(e){return e.map((function(t,a){return Object(F.jsxs)(p.b,{className:g()(n.hide,a>=3&&a===e.size-1&&n.noBorderBottom),"data-testid":"spending-limit-table-row",tabIndex:-1,children:[l.map((function(e,n){var a=e.id,i=t[a];return Object(F.jsxs)(p.a,{align:e.align,component:"td",children:[a===U&&Object(F.jsx)(v.a,{address:i}),a===q&&Object(F.jsx)(se,Object(m.a)({},i)),a===_&&Object(F.jsx)(r.Text,{size:"lg",children:i.relativeTime})]},"".concat(a,"-").concat(n))})),Object(F.jsx)(p.a,{component:"td",children:Object(F.jsx)(u.a,{align:"end",className:n.actions,children:i&&Object(F.jsx)(h.a,{onClick:function(){return y(t)},"data-testid":"remove-limit-btn",children:Object(F.jsx)(r.Icon,{size:"sm",type:"delete",color:"error",tooltip:"Remove limit"})})})})]},a)}))}})}),O&&Object(F.jsx)(D,{onClose:function(){return y(void 0)},spendingLimit:O,open:!0})]})},de=n(1),ue=n.n(de),be=n(12),je=n(244),me=n(45),fe=n(1376),Oe=n(1507),ge=n(1359),he=n(1391),pe=n(18),xe=n(324),ve=n(1457),ye=n(109),ke=s.default.div($||($=Object(i.a)(["\n  grid-area: beneficiaryInput;\n"]))),we=s.default.div(Z||(Z=Object(i.a)(["\n  grid-area: beneficiaryScan;\n"]))),Pe=function(){var e=Object(ge.e)().initialValues,t=Object(ge.d)().mutators,n=Object(c.useState)({address:(null===e||void 0===e?void 0:e.beneficiary)||"",name:""}),i=Object(a.a)(n,2),s=i[0],l=i[1],d=Object(c.useState)(!(null===e||void 0===e?void 0:e.beneficiary)),u=Object(a.a)(d,2),b=u[0],j=u[1];Object(c.useEffect)((function(){var e;null===s&&(null===t||void 0===t||null===(e=t.setBeneficiary)||void 0===e||e.call(t,""),b&&j(!1))}),[t,b,s]);var m=Object(o.d)(xe.d);return(null===s||void 0===s?void 0:s.address)?Object(F.jsx)(ke,{role:"button","aria-pressed":"false",tabIndex:0,onKeyDown:function(e){Object(ye.a)(e.key,"Tab")||l(null)},onClick:function(){l(null)},children:Object(F.jsx)(r.EthHashInfo,{hash:s.address,name:s.name,showCopyBtn:!0,showAvatar:!0,textSize:"lg",explorerUrl:Object(pe.f)(s.address)})}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(ke,{children:Object(F.jsx)(ve.a,{fieldMutator:null===t||void 0===t?void 0:t.setBeneficiary,pristine:b,setSelectedEntry:l,setIsValidAddress:function(){},label:"Beneficiary"})}),Object(F.jsx)(we,{children:Object(F.jsx)(he.a,{handleScan:function(e,n){var a,i,r=e.startsWith("ethereum:")?e.replace("ethereum:",""):e,c=null===(a=m.find((function(e){var t=e.address;return Object(me.f)(r,t)})))||void 0===a?void 0:a.name;null===t||void 0===t||null===(i=t.setBeneficiary)||void 0===i||i.call(t,r),l({name:c,address:r}),n()}})})]})},Se=n(1682),Ce=s.default.div(ee||(ee=Object(i.a)(["\n  grid-area: tokenInput;\n"]))),Te=function(){var e=Object(o.d)(j.a);return Object(F.jsx)(Ce,{children:Object(F.jsx)(Se.a,{tokens:e})})},Re=s.default.div(te||(te=Object(i.a)(["\n  padding: 24px 8px 24px 24px;\n  align-items: center;\n  display: grid;\n  grid-template-columns: 4fr 1fr;\n  grid-template-rows: 6fr;\n  gap: 16px 8px;\n  grid-template-areas:\n    'beneficiaryInput beneficiaryScan'\n    'tokenInput .'\n    'amountInput .'\n    'resetTimeLabel resetTimeLabel'\n    'resetTimeToggle resetTimeToggle'\n    'resetTimeOption resetTimeOption';\n"]))),Ie={setBeneficiary:function(e,t,n){n.changeValue(t,"beneficiary",(function(){return e[0]}))}},Ee=function(e){var t=e.invalid,n=e.submitting,a=e.dirtyFieldsSinceLastSubmit,i=e.values,r=i.beneficiary,c=i.token,o=i.amount;return!(n||t||!r||!c||!o||!a)},Be=function(e){var t=e.initialValues,n=e.onCancel,a=e.onReview;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(P.a,{onClose:n,title:"New spending limit",subTitle:"1 of 2"}),Object(F.jsx)(y.a,{}),Object(F.jsx)(fe.a,{formMutators:Ie,onSubmit:a,initialValues:t,children:function(){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(Re,{children:[Object(F.jsx)(Pe,{}),Object(F.jsx)(Te,{}),Object(F.jsx)(Oe.b,{}),Object(F.jsx)(G.a,{})]}),Object(F.jsx)(k.b.Footer,{children:Object(F.jsx)(k.b.Footer.Buttons,{cancelButtonProps:{onClick:n},confirmButtonProps:{disabled:!Ee(arguments.length<=2?void 0:arguments[2]),text:"Review"}})})]})}})]})},Ne=n(303),Le=function(e,t,n,a,i,r,c,o){var s,l=[];!Object(Ne.d)(c,M.q)&&e&&l.push(Object(E.c)(e,t)),!(null!==(s=null===n||void 0===n?void 0:n.some((function(e){var t=e.delegate;return Object(me.f)(t,null===r||void 0===r?void 0:r.beneficiary)})))&&void 0!==s&&s)&&(null===r||void 0===r?void 0:r.beneficiary)&&l.push(Object(E.a)(r.beneficiary)),a&&"0"!==a.spent&&l.push(Object(E.e)(a.delegate,i.address));var d,u=Object(E.b)()-30,b={beneficiary:r.beneficiary,token:r.token,spendingLimitInWei:Object(B.c)(r.amount,i.decimals),resetTimeMin:r.withResetTime?+r.resetTime:0,resetBaseMin:r.withResetTime?u:0};if(e){if(0===l.length)d=Object(E.i)({spendingLimitArgs:b,safeAddress:e});else{var j=Object(E.h)({spendingLimitArgs:b,safeAddress:e});l.push(j),d=Object(E.k)({transactions:l,safeAddress:e})}o&&(d.txNonce=o.safeNonce,d.safeTxGas=o.safeTxGas?o.safeTxGas:void 0,d.ethParameters=o)}return{spendingLimitTxData:d,transactions:l,spendingLimitArgs:b}},Me=function(e){var t,n=e.onBack,i=e.onClose,s=e.txToken,l=e.values,j=Object(A.a)(),f=Object(o.c)(),O=null!==(t=Object(o.d)(b.a))&&void 0!==t?t:{},g=O.address,h=void 0===g?"":g,p=O.spendingLimits,x=O.currentVersion,T=void 0===x?"":x,I=O.modules,E=function(e){var t=e.spendingLimits,n=e.txToken,a=e.values;return Object(c.useMemo)((function(){var e=null===t||void 0===t?void 0:t.find((function(e){var t=e.delegate,n=e.token;return Object(me.f)(t,a.beneficiary)&&Object(me.f)(n,a.token)}));return void 0!==e?Object(m.a)(Object(m.a)({},e),{},{amount:Object(B.a)(e.amount,n.decimals)}):null}),[t,n.decimals,a.beneficiary,a.token])}({spendingLimits:p,txToken:s,values:l}),M=Object(c.useState)({to:"",txData:""}),z=Object(a.a)(M,2),D=z[0],V=z[1],H=Object(c.useState)("0"),W=Object(a.a)(H,2),U=W[0],q=W[1],_=Object(c.useState)(),Q=Object(a.a)(_,2),Y=Q[0],J=Q[1],K=Object(c.useState)(),X=Object(a.a)(K,2),$=X[0],Z=X[1],ee=Object(C.b)({txData:D.txData,txRecipient:D.to,operation:D.operation,safeTxGas:U,manualGasPrice:Y,manualGasLimit:$}),te=ee.gasCostFormatted,ne=ee.txEstimationExecutionStatus,ae=ee.isExecution,ie=ee.isCreation,re=ee.isOffChainSignature,ce=ee.gasPrice,oe=ee.gasPriceFormatted,se=ee.gasLimit,le=ee.gasEstimation,de=Object(S.a)(ne),ue=Object(a.a)(de,1)[0],be=Object(c.useMemo)((function(){return(null===I||void 0===I?void 0:I.map((function(e){return e[1]})))||[]}),[I]);Object(c.useEffect)((function(){var e=Le(h,T,p,E,s,l,be).spendingLimitTxData;V(e)}),[h,T,p,E,s,l,be]);var fe=Object(c.useMemo)((function(){var e;return l.withResetTime?null===(e=Object(G.b)().find((function(e){return e.value===l.resetTime})))||void 0===e?void 0:e.label:""}),[l.resetTime,l.withResetTime]),Oe=function(e){var t,n;return null!==(t=null===(n=Object(G.b)().find((function(t){return t.value===(+e.resetTimeMin).toString()})))||void 0===n?void 0:n.label)&&void 0!==t?t:"One-time spending limit"},ge="Submit";return k.a.LOADING===ue&&(ge=ne===C.a.LOADING?"Estimating":"Submitting"),Object(F.jsx)(N.a,{isOffChainSignature:re,isExecution:ae,ethGasLimit:se,ethGasPrice:oe,safeTxGas:le,closeEditModalCallback:function(e){var t=oe,n=e.ethGasPrice,a=le,i=e.safeTxGas;n&&t!==n&&J(e.ethGasPrice),e.ethGasLimit&&se!==e.ethGasLimit&&Z(e.ethGasLimit),i&&a!==i&&q(i)},children:function(e,t){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(P.a,{onClose:i,title:"New spending limit",subTitle:"2 of 2"}),Object(F.jsx)(y.a,{}),Object(F.jsxs)(k.b.Body,{children:[Object(F.jsx)(d.a,{margin:"lg",children:Object(F.jsx)(v.a,{address:l.beneficiary,title:"Beneficiary"})}),Object(F.jsxs)(d.a,{margin:"lg",children:[Object(F.jsx)(v.c,{amount:Object(B.a)(Object(B.c)(l.amount,s.decimals),s.decimals),title:"Amount",token:s}),E&&Object(F.jsxs)(r.Text,{size:"lg",color:"error",children:["Previous Amount: ",E.amount]})]}),Object(F.jsxs)(d.a,{margin:"lg",children:[Object(F.jsx)(v.b,{title:"Reset Time",label:fe}),E&&Object(F.jsx)(u.a,{align:"center",margin:"md",children:Object(F.jsxs)(r.Text,{size:"lg",color:"error",children:["Previous Reset Time: ",Oe(E)]})})]}),E&&Object(F.jsx)(d.a,{margin:"md",children:Object(F.jsx)(r.Text,{size:"xl",color:"error",center:!0,strong:!0,children:"You are about to replace an existent spending limit"})}),Object(F.jsx)(L.a,{txParameters:e,onEdit:t,isTransactionCreation:ie,isTransactionExecution:ae,isOffChainSignature:re})]}),Object(F.jsx)("div",{className:j.gasCostsContainer,children:Object(F.jsx)(w.a,{gasCostFormatted:te,isExecution:ae,isCreation:ie,isOffChainSignature:re,txEstimationExecutionStatus:ne})}),Object(F.jsx)(k.b.Footer,{withoutBorder:ue!==k.a.LOADING,children:Object(F.jsx)(k.b.Footer.Buttons,{cancelButtonProps:{onClick:function(){return n({values:{},txToken:Object(je.a)(),step:Ge})},text:"Back"},confirmButtonProps:{onClick:function(){return function(e){var t=e.ethGasPrice,n=e.ethGasLimit,a=e.ethGasPriceInGWei,i=Object(m.a)(Object(m.a)({},e),{},{ethGasPrice:t||ce,ethGasPriceInGWei:a||oe,ethGasLimit:n||se});if(h){var r=Le(h,T,p,E,s,l,be,i).spendingLimitTxData;f(Object(R.b)(r))}}(e)},disabled:void 0===E,status:ue,text:ge}})})]})}})},Ge="CREATE",Ae="REVIEW",ze=function(e,t){var n=t.type,a=t.newState,i=t.tokens;switch(n){case Ge:return Object(m.a)(Object(m.a)({},e),{},{step:Ge});case Ae:var r;return Object(m.a)(Object(m.a)(Object(m.a)({},e),a),{},{txToken:null!==(r=i.find((function(e){return Object(me.f)(e.address,a.values.token)})))&&void 0!==r?r:e.txToken,step:Ae})}},Fe=function(e){var t=e.close,n=e.open,i=function(e){var t=Object(o.d)(j.a),n=Object(c.useReducer)(ze,{step:e,txToken:Object(je.a)(),values:{}},(function(e){return e})),i=Object(a.a)(n,2),r=i[0],s=i[1];return[r,{create:Object(c.useCallback)((function(e){return s({type:Ge,newState:e,tokens:t})}),[t]),review:Object(c.useCallback)((function(e){return s({type:Ae,newState:e,tokens:t})}),[t])}]}(Ge),r=Object(a.a)(i,2),s=r[0],l=s.step,d=s.txToken,u=s.values,b=r[1],m=b.create,f=b.review,O=function(){var e=Object(be.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f({step:l,txToken:d,values:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(F.jsxs)(k.b,{handleClose:t,open:n,title:"New spending limit",description:"set rules for specific beneficiaries to access funds from this Safe without having to collect all signatures",children:[l===Ge&&Object(F.jsx)(Be,{initialValues:u,onCancel:t,onReview:O}),l===Ae&&Object(F.jsx)(Me,{onBack:m,onClose:t,txToken:d,values:u})]})},De=n(126),Ve=n.p+"static/media/asset-amount.98054bf3.svg",He=n.p+"static/media/beneficiary.0beb8d31.svg",We=n.p+"static/media/time.31d09fca.svg",Ue=s.default.div(ne||(ne=Object(i.a)(["\n  display: flex;\n  justify-content: space-around;\n  margin-top: 20px;\n  max-width: 720px;\n  text-align: center;\n"]))),qe=s.default.div(ae||(ae=Object(i.a)(["\n  width: 24%;\n  min-width: 120px;\n  max-width: 164px;\n"]))),_e=s.default.div(ie||(ie=Object(i.a)(["\n  height: 2px;\n  flex: 1;\n  background: #d4d5d3;\n  margin: 46px 0;\n"]))),Qe=function(){return Object(F.jsxs)(Ue,{children:[Object(F.jsxs)(qe,{children:[Object(F.jsx)(De.a,{alt:"Select Beneficiary",title:"Beneficiary",height:96,src:He}),Object(F.jsx)(r.Text,{size:"lg",color:"placeHolder",strong:!0,center:!0,children:"Select Beneficiary"}),Object(F.jsx)(r.Text,{size:"lg",color:"placeHolder",center:!0,children:"Define beneficiary that will be able to use the allowance."}),Object(F.jsx)(r.Text,{size:"lg",color:"placeHolder",center:!0,children:"The beneficiary does not have to be an owner of this Safe"})]}),Object(F.jsx)(_e,{}),Object(F.jsxs)(qe,{children:[Object(F.jsx)(De.a,{alt:"Select asset and amount",title:"Asset and Amount",height:96,src:Ve}),Object(F.jsx)(r.Text,{size:"lg",color:"placeHolder",strong:!0,center:!0,children:"Select asset and amount"}),Object(F.jsx)(r.Text,{size:"lg",color:"placeHolder",center:!0,children:"You can set a spending limit for any asset stored in your Safe"})]}),Object(F.jsx)(_e,{}),Object(F.jsxs)(qe,{children:[Object(F.jsx)(De.a,{alt:"Select time",title:"Time",height:96,src:We}),Object(F.jsx)(r.Text,{size:"lg",color:"placeHolder",strong:!0,center:!0,children:"Select time"}),Object(F.jsx)(r.Text,{size:"lg",color:"placeHolder",center:!0,children:"You can choose to set a one-time spending limit or to have it automatically refill after a defined time-period"})]})]})},Ye=Object(s.default)(r.Text)(re||(re=Object(i.a)(["\n  margin-top: 16px;\n"])));t.default=function(){var e,t=Object(A.a)(),n=Object(o.d)(j.b),i=Object(o.d)(b.h),s=null===(e=i)||void 0===e?void 0:e.map((function(e){var t;return t={},Object(V.a)(t,U,e.delegate),Object(V.a)(t,q,{spent:e.spent,amount:e.amount,tokenAddress:e.token}),Object(V.a)(t,_,{relativeTime:Object(W.f)(e.lastResetMin,e.resetTimeMin),lastResetMin:e.lastResetMin,resetTimeMin:e.resetTimeMin}),t})),m=Object(c.useState)(!1),f=Object(a.a)(m,2),O=f[0],g=f[1];return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(l.a,{className:t.container,grow:"grow",children:[Object(F.jsx)(r.Title,{size:"xs",withoutMargin:!0,children:"Spending limit"}),Object(F.jsx)(Ye,{size:"lg",children:"You can set rules for specific beneficiaries to access funds from this Safe without having to collect all signatures."}),(null===s||void 0===s?void 0:s.length)?Object(F.jsx)(le,{data:s}):Object(F.jsx)(Qe,{})]}),n&&Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(u.a,{align:"end",className:t.buttonRow,grow:!0,children:Object(F.jsx)(d.a,{end:"xs",children:Object(F.jsx)(r.Button,{className:t.actionButton,color:"primary",size:"md","data-testid":"new-spending-limit-button",onClick:function(){g(!0)},variant:"contained",children:"New spending limit"})})}),O&&Object(F.jsx)(Fe,{close:function(){g(!1)},open:!0})]})]})}}}]);
//# sourceMappingURL=35.3ee960b7.chunk.js.map