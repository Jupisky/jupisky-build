(this["webpackJsonpjupisky-ui"]=this["webpackJsonpjupisky-ui"]||[]).push([[38],{1375:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1379),a=function(e){var t=e.currentTarget;/token_placeholder/.test(t.src)||(t.src=r.a)};n(433)},1379:function(e,t,n){"use strict";t.a=n.p+"static/media/token_placeholder.c1abe466.svg"},1389:function(e,t,n){"use strict";var r=n(8),a=n(60),i=n(7),c=n(9),o=n(10),s=n(11),l=n(0),d=n(2),u=["children"],b=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=Object(a.a)(e,u);return Object(d.jsx)("b",Object(r.a)(Object(r.a)({},n),{},{children:t}))}}]),n}(l.PureComponent);t.a=b},1407:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return f})),n.d(t,"h",(function(){return O})),n.d(t,"j",(function(){return h})),n.d(t,"n",(function(){return m})),n.d(t,"l",(function(){return p})),n.d(t,"k",(function(){return v})),n.d(t,"i",(function(){return g})),n.d(t,"g",(function(){return y})),n.d(t,"e",(function(){return I})),n.d(t,"b",(function(){return w})),n.d(t,"m",(function(){return C})),n.d(t,"f",(function(){return E}));var r=n(93),a=n(17),i=n(1),c=n.n(i),o=n(12),s=n(1435),l=n(1445),d=n(31),u=n(45),b=n(78),j="no contract",x=Object(l.a)({field:"contractAddress",updates:{contractAddress:function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t0=Object(u.e)(t)||Object(u.d)(t),!e.t0){e.next=6;break}return e.next=5,Object(d.b)(t);case 5:e.t0=e.sent;case 6:if(!(n=e.t0)){e.next=9;break}return e.abrupt("return",n);case 9:return e.abrupt("return",t);case 12:return e.prev=12,e.t1=e.catch(0),console.error(e.t1.message),e.abrupt("return",t);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}}),f={setMax:function(e,t,n){n.changeValue(t,"value",(function(){return e[0]}))},setContractAddress:function(e,t,n){n.changeValue(t,"contractAddress",(function(){return e[0]}))},setSelectedMethod:function(e,t,n){var r;(null===(r=t.lastFormState)||void 0===r?void 0:r.values.selectedMethod)&&t.lastFormState.values.selectedMethod.name!==e[0].name&&(n.changeValue(t,"callResults",(function(){return""})),n.changeValue(t,"value",(function(){return""}))),n.changeValue(t,"selectedMethod",(function(){return e[0]}))},setCallResults:function(e,t,n){n.changeValue(t,"callResults",(function(){return e[0]}))},setAbiValue:function(e,t,n){n.changeValue(t,"abi",(function(){return e[0]}))}},O=function(e){return 0===e.indexOf("address")},h=function(e){return 0===e.indexOf("bool")},m=function(e){return 0===e.indexOf("uint")},p=function(e){return 0===e.indexOf("int")},v=function(e){return 0===e.indexOf("byte")},g=function(e){return/(\[\d*])+$/.test(e)},y=function(e,t){for(var n in t)if(t.hasOwnProperty(n)&&void 0!==e&&t[n]===e.value)return Object(a.a)({},n,e.reason);return Object(a.a)({},s.a,e?e.message:void 0)},I=function(e,t,n){var r=g(e)?"arrayParam":e;return"methodInput-".concat(t,"_").concat(n,"_").concat(r)},T=function(e,t){return function(n,r){var a=n.type,i=I(a,e,r);return function(e){try{return JSON.parse(e).map((function(e){return Number.isInteger(e)?new b.BigNumber(e).toString():e}))}catch(t){return null}}(t[i])||t[i]}},w=function(e,t,n){var a,i=new(Object(d.g)().eth.Contract)([e],t),c=e.inputs,o=e.name,s=void 0===o?"":o,l=e.signatureHash,u=(null===c||void 0===c?void 0:c.map(T(l,n)))||[];return(a=i.methods)[s].apply(a,Object(r.a)(u))},C=function(e){return e&&"read"===e.action},E=function(e,t,n){g(t)&&(e=e.replace("[]",""));var r=n[e];return"bool"===t&&(r=String(r)),r}},1413:function(e,t,n){"use strict";var r=n(566),a=n(708),i=n(113),c=n(87),o=n(2);t.a=function(e){var t=e.onChange;return Object(o.jsxs)(i.a,{margin:"md",children:[Object(o.jsx)(c.a,{noMargin:!0,children:"If you want to sign the transaction now but manually execute it later, click on the checkbox below."}),Object(o.jsx)(r.a,{control:Object(o.jsx)(a.a,{defaultChecked:!0,color:"primary",onChange:function(e){t(e.target.checked)}}),label:"Execute transaction","data-testid":"execute-checkbox"})]})}},1445:function(e,t,n){"use strict";var r=n(1435),a=function(e){return!!e&&("object"===typeof e||"function"===typeof e)&&"function"===typeof e.then},i=function(e,t){return e===t};t.a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n={};return e.subscribe((function(c){var o=c.values;e.batch((function(){var c=function(t,i,c){var s=o&&Object(r.e)(o,t),l=n&&Object(r.e)(n,t);if(!i(s,l))if("function"===typeof c){var d=c(s,t,o,n);a(d)?d.then((function(t){Object.keys(t).forEach((function(n){e.change(n,t[n])}))})):Object.keys(d).forEach((function(t){e.change(t,d[t])}))}else Object.keys(c).forEach((function(t){var r=(0,c[t])(s,o,n);a(r)?r.then((function(n){e.change(t,n)})):e.change(t,r)}))},s=e.getRegisteredFields();t.forEach((function(e){var t=e.field,n=e.isEqual,r=e.updates;if("string"===typeof t)c(t,n||i,r);else{var a=Array.isArray(t)?function(e){return~t.indexOf(e)||-1!==t.findIndex((function(t){return t instanceof RegExp&&t.test(e)}))}:function(e){return t.test(e)};s.forEach((function(e){a(e)&&c(e,n||i,r)}))}})),n=o}))}),{values:!0})}}},1455:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(390),a=n(492),i=n(13),c=Object(r.a)(Object(a.a)({title:{padding:i.lg,paddingBottom:0},hide:{"&:hover":{backgroundColor:"#f7f5f5"},"&:hover $actions":{visibility:"initial"}},actions:{justifyContent:"flex-end",visibility:"hidden"},noBorderBottom:{"& > td":{borderBottom:"none"}},annotation:{paddingLeft:i.lg},ownersText:{color:i.secondaryText,"& b":{color:i.fontColor}},container:{padding:i.lg},actionButton:{fontWeight:i.boldFont,marginRight:i.sm},buttonRow:{padding:i.lg,left:0,bottom:0,boxSizing:"border-box",width:"100%",justifyContent:"flex-end",borderTop:"2px solid ".concat(i.border)},modifyBtn:{height:i.xl,fontSize:i.smallFontSize},removeModuleIcon:{marginLeft:i.lg,cursor:"pointer"},modalHeading:{boxSizing:"border-box",justifyContent:"space-between",height:"74px",padding:"".concat(i.sm," ").concat(i.lg)},modalContainer:{minHeight:"369px"},modalManage:{fontSize:i.lg},modalClose:{height:"35px",width:"35px"},modalButtonRow:{height:"84px",justifyContent:"center"},modalButtonRemove:{color:"#fff",backgroundColor:i.error,height:"42px"},modalName:{textOverflow:"ellipsis",overflow:"hidden"},modalUserName:{whiteSpace:"nowrap"},modalOwner:{backgroundColor:i.background,padding:i.md,alignItems:"center"},modalUser:{justifyContent:"left"},modalDescription:{padding:i.md},modalOpen:{paddingLeft:i.sm,width:"auto","&:hover":{cursor:"pointer"}},amountInput:{width:"100% !important"},gasCostsContainer:{backgroundColor:i.background,padding:"0 ".concat(i.lg)}}))},1474:function(e,t,n){"use strict";n.d(t,"b",(function(){return k}));var r,a,i,c,o,s=n(8),l=n(26),d=n(24),u=n(574),b=n(53),j=n(566),x=n(1359),f=n(23),O=n(18),h=n(1507),m=n(2),p=Object(f.default)(d.RadioButtons)(r||(r=Object(l.a)(["\n  & .MuiRadio-colorPrimary.Mui-checked {\n    color: ",";\n  }\n"])),(function(e){return e.theme.colors.primary})),v=Object(f.default)((function(e){var t=Object.assign({},e);return Object(m.jsx)(u.a,Object(s.a)({},t))}))(a||(a=Object(l.a)(["\n  && {\n    .MuiIconButton-label,\n    .MuiSwitch-colorSecondary {\n      color: ",";\n    }\n\n    .MuiSwitch-colorSecondary.Mui-checked .MuiIconButton-label {\n      color: ",";\n    }\n\n    .MuiSwitch-colorSecondary.Mui-checked:hover {\n      background-color: ",";\n    }\n\n    .Mui-checked + .MuiSwitch-track {\n      background-color: ",";\n    }\n  }\n"])),(function(e){return e.theme.colors.icon}),(function(e){return e.theme.colors.primary}),(function(e){var t=e.theme;return Object(b.h)("".concat(t.colors.primary,"03"))}),(function(e){return e.theme.colors.primaryLight})),g=function(e){var t=e.options,n=e.initialValue,r=e.groupName;return Object(m.jsx)(h.a,{name:r,initialValue:n,children:function(e){var r=e.input,a=r.name,i=r.value,c=r.onChange;return Object(m.jsx)(p,{name:a,value:i||n,onRadioChange:c,options:t})}})},y=function(e){var t=e.label,n=e.name;return Object(m.jsx)(j.a,{label:t,control:Object(m.jsx)(h.a,{name:n,type:"checkbox",render:function(e){var t=e.input,n=t.checked,r=t.onChange,a=t.name,i=t.value;return Object(m.jsx)(v,{checked:n,onChange:r,name:a,value:i})}})})},I=f.default.div(i||(i=Object(l.a)(["\n  grid-area: resetTimeLabel;\n"]))),T=f.default.div(c||(c=Object(l.a)(["\n  grid-area: resetTimeToggle;\n"]))),w=f.default.div(o||(o=Object(l.a)(["\n  grid-area: resetTimeOption;\n"]))),C=[{label:"1 day",value:"1440"},{label:"1 week",value:"10080"},{label:"1 month",value:"43200"}],E=[{label:"5 minutes",value:"5"},{label:"30 minutes",value:"30"},{label:"1 hour",value:"60"}],k=function(){return"rinkeby"!==Object(O.p)().toLowerCase()?C:E};t.a=function(){var e=Object(x.c)("withResetTime",{subscription:{value:!0}}).input.value,t=k(),n=e?"choose reset time period":"one time";return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(I,{children:Object(m.jsx)(d.Text,{size:"xl",children:"Set a reset time so the allowance automatically refills after the defined time period."})}),Object(m.jsx)(T,{children:Object(m.jsx)(y,{label:"Reset time (".concat(n,")"),name:"withResetTime"})}),e&&Object(m.jsx)(w,{children:Object(m.jsx)(g,{groupName:"resetTime",initialValue:t[0].value,options:t})})]})}},1507:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r,a,i,c=n(26),o=n(24),s=n(1359),l=n(42),d=n(23),u=n(1364),b=n(514),j=n(234),x=n(1455),f=n(2),O=Object(d.default)(u.a)(r||(r=Object(c.a)(["\n  margin: 8px 0;\n  width: 100%;\n"]))),h=d.default.div(a||(a=Object(c.a)(["\n  grid-area: amountInput;\n"]))),m=Object(d.default)(o.TextField)(i||(i=Object(c.a)(["\n  margin: 0;\n"])));t.b=function(){var e=Object(x.a)(),t=Object(s.c)("token",{subscription:{value:!0}}).input.value,n=Object(s.c)("amount",{subscription:{touched:!0,visited:!0}}).meta,r=n.touched,a=n.visited,i=Object(l.d)(j.a).find((function(e){return e.address===t})),c=(r||a)&&Object(b.d)(b.p,b.m,Object(b.i)(0,!1));return Object(f.jsx)(h,{children:Object(f.jsx)(O,{component:m,label:"Amount*",name:"amount",type:"text","data-testid":"amount-input",endAdornment:null===i||void 0===i?void 0:i.symbol,className:e.amountInput,validate:c})})}},1508:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return v}));var r,a,i=n(24),c=n(42),o=n(18),s=n(324),l=n(207),d=n(109),u=n(2),b=function(e){var t=e.address,n=e.title,r=Object(c.d)((function(e){return Object(s.a)(e,{address:t})})),a=Object(o.f)(t);return Object(u.jsxs)(u.Fragment,{children:[n&&Object(u.jsx)(i.Text,{size:"xl",strong:!0,children:n}),Object(u.jsx)(i.EthHashInfo,{hash:t,name:Object(d.a)(r,l.a)?void 0:r,showCopyBtn:!0,showAvatar:!0,textSize:"lg",explorerUrl:a})]})},j=n(113),x=function(e){var t=e.title,n=e.label;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(i.Text,{size:"xl",strong:!0,children:t}),n?Object(u.jsx)(j.a,{align:"center",margin:"md",children:Object(u.jsx)(i.IconText,{iconSize:"md",iconType:"fuelIndicator",text:n,textSize:"lg"})}):Object(u.jsx)(j.a,{align:"center",margin:"md",children:Object(u.jsx)(i.Text,{size:"lg",children:"One-time spending limit"})})]})},f=n(26),O=n(23),h=n(1375),m=O.default.img(r||(r=Object(f.a)(["\n  width: 32px;\n  height: 32px;\n  object-fit: contain;\n  margin: 0 8px 0 0;\n"]))),p=O.default.div(a||(a=Object(f.a)(["\n  display: flex;\n  align-items: center;\n"]))),v=function(e){var t=e.amount,n=e.title,r=e.token;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(i.Text,{size:"xl",strong:!0,children:n}),Object(u.jsxs)(p,{children:[Object(u.jsx)(m,{alt:r.name,onError:h.a,src:r.logoUri||""}),Object(u.jsxs)(i.Text,{size:"lg",children:[t," ",r.symbol]})]})]})}},1550:function(e,t,n){"use strict";var r=n(42),a=n(45),i=n(234);t.a=function(e){var t=Object(r.d)(i.c);if(t)return t.find((function(t){return Object(a.f)(t.address,e)}))}},1583:function(e,t,n){"use strict";t.a=n.p+"static/media/custom.6f7b401c.svg"},1967:function(e,t,n){"use strict";var r=n(4),a=n(15),i=n(0),c=(n(20),n(16)),o=n(19),s=n(53),l=i.forwardRef((function(e,t){var n=e.absolute,o=void 0!==n&&n,s=e.classes,l=e.className,d=e.component,u=void 0===d?"hr":d,b=e.flexItem,j=void 0!==b&&b,x=e.light,f=void 0!==x&&x,O=e.orientation,h=void 0===O?"horizontal":O,m=e.role,p=void 0===m?"hr"!==u?"separator":void 0:m,v=e.variant,g=void 0===v?"fullWidth":v,y=Object(a.a)(e,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return i.createElement(u,Object(r.a)({className:Object(c.default)(s.root,l,"fullWidth"!==g&&s[g],o&&s.absolute,j&&s.flexItem,f&&s.light,"vertical"===h&&s.vertical),role:p,ref:t},y))}));t.a=Object(o.a)((function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:Object(s.a)(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}}),{name:"MuiDivider"})(l)},2584:function(e,t,n){"use strict";var r=n(77),a=n(98);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(0)),c=(0,r(n(326)).default)(i.createElement("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");t.default=c},2586:function(e,t,n){"use strict";n.r(t);var r,a,i,c,o,s,l,d,u,b,j,x,f,O,h,m,p,v,g,y,I,T,w,C,E,k,A,S,N=n(24),D=n(0),L=n(59),M=n(108),z=n(27),R=n(181),_=n(1),U=n.n(_),G=n(12),P=n(38),B=n(42),H=n(488),F=n(152),V=n(69),W=n(533),q=n(22),X=function(){var e=function(){var e=Object(B.d)(W.d),t=Object(D.useState)(0),n=Object(P.a)(t,2),r=n[0],a=n[1];return Object(D.useEffect)((function(){var t=e?Object.entries(e).reduce((function(e,t){return e+Object(P.a)(t,2)[1].length}),0):0;a(t)}),[e]),{count:r,transactions:e?Object.entries(e):[]}}(),t=e.count,n=e.transactions,r=Object(B.d)(V.a),a=Object(D.useRef)(Object(B.c)()),i=Object(D.useRef)(Object(z.k)()),c=Object(D.useState)(!0),o=Object(P.a)(c,2),s=o[0],l=o[1],d=Object(D.useState)(!1),u=Object(P.a)(d,2),b=u[0],j=u[1];return{count:t,transactions:n,hasMore:s,next:Object(D.useCallback)(Object(G.a)(U.a.mark((function e(){var t,n,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,Object(H.b)(i.current);case 4:t=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),e.t0.content!==q.b._608&&e.t0.log();case 10:if(t){e.next=14;break}return l(!1),j(!1),e.abrupt("return");case 14:c=(n=t).values,null===n.next&&l(!1),c?a.current(Object(F.c)({chainId:r,safeAddress:i.current,values:c,isTail:!0})):l(!1),j(!1);case 18:case"end":return e.stop()}}),e,null,[[1,7]])}))),[r]),isLoading:b}},J=n(26),K=n(23),Q=K.default.div(r||(r=Object(J.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n"]))),Y=K.default.div(a||(a=Object(J.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  align-items: center;\n"]))),$=Object(K.default)(N.AccordionDetails)(i||(i=Object(J.a)(["\n  flex-flow: column;\n"]))),Z=Object(K.default)(N.Accordion)(c||(c=Object(J.a)(["\n  &.MuiAccordion-root {\n    background-color: transparent;\n\n    .MuiAccordionDetails-root {\n      padding: 0;\n    }\n  }\n"]))),ee=Object(K.default)(N.Accordion)(o||(o=Object(J.a)(["\n  &.MuiAccordion-root {\n    &:first-child {\n      border-top: none;\n    }\n\n    &.Mui-expanded {\n      &:last-child {\n        border-bottom: none;\n      }\n    }\n\n    .MuiAccordionDetails-root {\n      padding: 16px;\n    }\n  }\n"]))),te=K.default.div(s||(s=Object(J.a)(["\n  align-items: flex-start;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  margin: 16px 8px;\n  width: 98%;\n"]))),ne=(K.default.h2(l||(l=Object(J.a)(["\n  text-transform: uppercase;\n  font-size: smaller;\n"]))),Object(K.default)(N.Text)(d||(d=Object(J.a)(["\n  margin-bottom: 8px;\n\n  font-size: 0.76em;\n  font-weight: 600;\n  line-height: 1.5;\n  letter-spacing: 1px;\n  color: ",";\n  text-transform: uppercase;\n"])),(function(e){return e.theme.colors.placeHolder}))),re=K.default.div(u||(u=Object(J.a)(["\n  background-color: ",";\n  border-radius: 8px;\n  box-shadow: #00000026 0 4px 12px 0;\n  overflow: hidden;\n  width: 100%;\n\n  & > .MuiAccordion-root {\n    &:first-child {\n      border-top: none;\n    }\n\n    &:last-child {\n      border-bottom: none;\n    }\n\n    &:last-of-type {\n      div {\n        row-gap: 0px;\n      }\n    }\n  }\n"])),(function(e){return e.theme.colors.white})),ae=Object(K.default)(re)(b||(b=Object(J.a)(["\n  transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n  background-color: transparent;\n  border-radius: 0;\n  box-shadow: none;\n\n  &:not(:last-child) {\n    border-bottom: 2px solid ",";\n  }\n\n  .MuiAccordion-root,\n  .MuiAccordionSummary-root,\n  .MuiAccordionDetails-root {\n    background-color: transparent;\n\n    &:hover,\n    &.Mui-expanded {\n      background-color: transparent;\n    }\n  }\n\n  &:hover {\n    background-color: ",";\n\n    .MuiAccordionDetails-root {\n      div[class^='tx-'] {\n        background-color: ",";\n      }\n    }\n\n    .disclaimer-container {\n      background-color: ",";\n    }\n  }\n"])),(function(e){return e.theme.colors.separator}),(function(e){return e.theme.colors.background}),(function(e){return e.theme.colors.background}),(function(e){return e.theme.colors.inputField})),ie={nonce:"0.5fr",type:"3fr",info:"3fr",time:"2.5fr",votes:"1.5fr",actions:"1fr",status:"2.5fr"},ce=Object(K.css)(j||(j=Object(J.a)(["\n  .will-be-replaced * {\n    color: gray !important;\n    text-decoration: line-through !important;\n    filter: grayscale(1) opacity(0.8) !important;\n  }\n"]))),oe=Object(K.css)(x||(x=Object(J.a)(["\n  &.failed-transaction {\n    div[class^='tx-']:not(.tx-status):not(.tx-nonce) {\n      opacity: 0.5;\n    }\n  }\n"]))),se=Object(K.css)(f||(f=Object(J.a)(["\n  &.on-chain-rejection {\n    background-color: ",";\n    border-left: 4px solid ",";\n    border-radius: 4px;\n    padding-left: 7px;\n    height: 22px;\n    max-width: 165px;\n\n    > div {\n      height: 17px;\n      align-items: center;\n      padding-top: 3px;\n    }\n\n    p {\n      font-size: 11px;\n      line-height: 16px;\n      letter-spacing: 1px;\n      font-weight: bold;\n      text-transform: uppercase;\n      margin-left: -2px;\n    }\n  }\n"])),(function(e){return e.theme.colors.errorTooltip}),(function(e){return e.theme.colors.error})),le=K.default.div(O||(O=Object(J.a)(["\n  ",";\n  ",";\n\n  display: grid;\n  grid-template-columns: ",";\n  width: 100%;\n\n  & > div {\n    align-self: center;\n  }\n\n  .tx-type {\n    ",";\n  }\n\n  .tx-votes {\n    justify-self: center;\n  }\n\n  .tx-actions {\n    visibility: hidden;\n    justify-self: end;\n  }\n\n  .tx-status {\n    justify-self: end;\n    margin-right: 8px;\n    display: flex;\n    flex-flow: row nowrap;\n    align-items: center;\n    justify-content: end;\n\n    p {\n      margin-left: 8px;\n    }\n  }\n\n  &:hover {\n    .tx-actions {\n      visibility: visible;\n\n      &.will-be-replaced {\n        visibility: hidden;\n      }\n    }\n  }\n"])),ce,oe,Object.values(ie).join(" "),se),de=Object(K.default)(le)(h||(h=Object(J.a)(["\n  // no `tx-nonce` column required\n  grid-template-columns: ",";\n"],["\n  // no \\`tx-nonce\\` column required\n  grid-template-columns: ",";\n"])),Object.values(ie).slice(1).join(" ")),ue=Object(K.default)(le)(m||(m=Object(J.a)(["\n  // add a bottom division line for all elements but the last\n  &:not(:last-of-type) {\n    border-bottom: 2px solid ",";\n  }\n\n  // builds the tree-view layout\n  .tree-lines {\n    height: 100%;\n    margin-left: 30px;\n    position: relative;\n    width: 30%;\n\n    // this is a special case, the first element in the list needs to have a block child component\n    // add tree lines line to the first item of the list\n    .first-node {\n      display: block;\n      position: absolute;\n      top: -16px;\n      width: 100%;\n\n      &::before {\n        border-bottom: 2px solid ",";\n        border-left: 2px solid ",";\n        content: '';\n        height: 22px;\n        position: absolute;\n        top: 8px;\n        width: 100%;\n      }\n    }\n\n    // add tree lines to all elements of the list (except for the last one)\n    // :last-of-type won't work with classes selector (HTML elements only)\n    // as we need block-level elements, we're using paragraphs for .tree-lines and .first-node\n    // given that divs are already being used for the transaction row, and both (p and div) are siblings\n    &:not(:last-of-type) {\n      &::before {\n        border-bottom: 2px solid ",";\n        border-left: 2px solid ",";\n        content: '';\n        height: 100%;\n        margin-top: 14px;\n        position: absolute;\n        width: 100%;\n      }\n    }\n  }\n\n  // overrides Accordion styles, as grouped txs behave differently\n  > .MuiAccordion-root {\n    transition: none;\n    border: 0;\n    grid-column-end: span 6;\n    grid-column-start: 2;\n\n    &:first-child {\n      border: 0;\n    }\n\n    &.Mui-expanded {\n      justify-self: center;\n      width: calc(100% - 32px);\n\n      &:not(:last-of-type) {\n        border-bottom: 2px solid ",";\n      }\n\n      &:not(:first-of-type) {\n        border-top: 2px solid ",";\n        // if two consecutive accordions are expanded, borders will get duplicated\n        // this rule is to overlap them\n        margin-top: -2px;\n      }\n\n      > .MuiAccordionSummary-root {\n        padding: 0;\n      }\n    }\n  }\n}\n"])),(function(e){return e.theme.colors.separator}),(function(e){return e.theme.colors.separator}),(function(e){return e.theme.colors.separator}),(function(e){return e.theme.colors.separator}),(function(e){return e.theme.colors.separator}),(function(e){return e.theme.colors.separator}),(function(e){return e.theme.colors.separator})),be=Object(K.default)(le)(p||(p=Object(J.a)(["\n  background-color: "," !important;\n  border-radius: 4px;\n  margin: 12px 8px 0 12px;\n  padding: 8px 12px;\n  width: calc(100% - 48px);\n\n  .nonce {\n    grid-column-start: 1;\n  }\n\n  .disclaimer {\n    grid-column-start: 2;\n    grid-column-end: span 6;\n  }\n"])),(function(e){return e.theme.colors.inputField})),je=K.default.div(v||(v=Object(J.a)(["\n  ",";\n\n  background-color: "," !important;\n  column-gap: 2px;\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-auto-rows: minmax(min-content, max-content);\n  grid-template-rows: [tx-summary] minmax(min-content, max-content) [tx-details] minmax(min-content, 1fr);\n  row-gap: 2px;\n  width: 100%;\n\n  & > div {\n    background-color: ",";\n    line-break: anywhere;\n    overflow: hidden;\n    padding: 20px 24px;\n    word-break: break-all;\n  }\n\n  .tx-summary {\n  }\n\n  .tx-details {\n    &.not-executed {\n      grid-row-end: span 2;\n    }\n\n    &.no-padding {\n      padding: 0;\n    }\n  }\n\n  .tx-owners {\n    padding: 24px;\n    grid-column-start: 2;\n    grid-row-end: span 2;\n    grid-row-start: 1;\n\n    &.no-owner {\n      grid-row-end: span 3;\n    }\n  }\n\n  .tx-details-actions {\n    align-items: center;\n    display: flex;\n    height: 60px;\n    justify-content: center;\n\n    button {\n      color: ",";\n      margin: 0 8px;\n\n      &:hover {\n        color: ",";\n      }\n\n      &.error {\n        background-color: ",";\n\n        &:hover {\n          background-color: ",";\n        }\n      }\n\n      &.primary {\n        background-color: ",";\n\n        &:hover {\n          background-color: ",";\n        }\n      }\n    }\n  }\n"])),ce,(function(e){return e.theme.colors.separator}),(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.error}),(function(e){return e.theme.colors.errorHover}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.secondary})),xe=K.default.ul(g||(g=Object(J.a)(["\n  list-style: none;\n  margin: 0;\n  padding-left: 6px;\n\n  .legend {\n    left: 15px;\n    padding-bottom: 0.86em;\n    position: relative;\n    top: -3px;\n\n    .owner-info {\n      margin: 5px;\n    }\n\n    span {\n      color: #008c73;\n      font-weight: bold;\n    }\n  }\n\n  ul {\n    margin-top: 0;\n  }\n\n  .icon {\n    left: -7px;\n    position: absolute;\n    width: 16px;\n    z-index: 2;\n  }\n"]))),fe=K.default.li(y||(y=Object(J.a)(["\n  display: flex;\n  position: relative;\n\n  &::before {\n    border-left: 2px "," solid;\n    border-radius: 1px;\n    content: '';\n    height: calc(100% - 16px);\n    top: 16px;\n    left: 0;\n    position: absolute;\n    z-index: 1;\n  }\n\n  &:last-child::before {\n    border-left: none;\n  }\n"])),(function(e){return e.theme.colors.icon})),Oe=Object(K.default)(N.EthHashInfo)(I||(I=Object(J.a)(["\n  display: inline-flex;\n"]))),he=K.default.div(T||(T=Object(J.a)(["\n  &::-webkit-scrollbar {\n    width: 0.7em;\n    scroll-behavior: smooth;\n  }\n\n  &::-webkit-scrollbar-track {\n    box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n    border-radius: 20px;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: darkgrey;\n    outline: 1px solid #dadada;\n    border-radius: 20px;\n  }\n\n  // firefox experimental\n  scrollbar-color: darkgrey #dadada;\n  scrollbar-width: thin;\n"]))),me=Object(K.default)(he)(w||(w=Object(J.a)(["\n  height: calc(100vh - 170px);\n  overflow-x: hidden;\n  overflow-y: auto;\n  width: 100%;\n"]))),pe=K.default.div(C||(C=Object(J.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  padding: ",";\n  justify-content: center;\n  align-items: center;\n"])),(function(e){var t=e.padding;return"".concat(t,"px")})),ve=Object(K.default)(pe)(E||(E=Object(J.a)(["\n  display: ",";\n  height: 100px;\n"])),(function(e){return e.isVisible?"flex":"none"})),ge=Object(K.default)(N.AccordionSummary)(k||(k=Object(J.a)(["\n  height: 52px;\n  .tx-nonce {\n    margin: 0 16px 0 8px;\n  }\n"]))),ye=K.default.div(A||(A=Object(J.a)(["\n  display: flex;\n  align-items: center;\n\n  span:first-child {\n    margin-right: 6px;\n  }\n"]))),Ie=K.default.div(S||(S=Object(J.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 60px;\n"]))),Te=n(8);function we(){return we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we.apply(this,arguments)}var Ce=new Map,Ee=new WeakMap,ke=0;function Ae(e){return Object.keys(e).sort().filter((function(t){return void 0!==e[t]})).map((function(t){return t+"_"+("root"===t?(n=e.root)?(Ee.has(n)||(ke+=1,Ee.set(n,ke.toString())),Ee.get(n)):"0":e[t]);var n})).toString()}function Se(e,t,n){if(void 0===n&&(n={}),!e)return function(){};var r=function(e){var t=Ae(e),n=Ce.get(t);if(!n){var r,a=new Map,i=new IntersectionObserver((function(t){t.forEach((function(t){var n,i=t.isIntersecting&&r.some((function(e){return t.intersectionRatio>=e}));e.trackVisibility&&"undefined"===typeof t.isVisible&&(t.isVisible=i),null==(n=a.get(t.target))||n.forEach((function(e){e(i,t)}))}))}),e);r=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:i,elements:a},Ce.set(t,n)}return n}(n),a=r.id,i=r.observer,c=r.elements,o=c.get(e)||[];return c.has(e)||c.set(e,o),o.push(t),i.observe(e),function(){o.splice(o.indexOf(t),1),0===o.length&&(c.delete(e),i.unobserve(e)),0===c.size&&(i.disconnect(),Ce.delete(a))}}function Ne(e){return"function"!==typeof e.children}var De=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).node=null,n._unobserveCb=null,n.handleNode=function(e){n.node&&(n.unobserve(),e||n.props.triggerOnce||n.props.skip||n.setState({inView:!!n.props.initialInView,entry:void 0})),n.node=e||null,n.observeNode()},n.handleChange=function(e,t){e&&n.props.triggerOnce&&n.unobserve(),Ne(n.props)||n.setState({inView:e,entry:t}),n.props.onChange&&n.props.onChange(e,t)},n.state={inView:!!t.initialInView,entry:void 0},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidUpdate=function(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())},a.componentWillUnmount=function(){this.unobserve(),this.node=null},a.observeNode=function(){if(this.node&&!this.props.skip){var e=this.props,t=e.threshold,n=e.root,r=e.rootMargin,a=e.trackVisibility,i=e.delay;this._unobserveCb=Se(this.node,this.handleChange,{threshold:t,root:n,rootMargin:r,trackVisibility:a,delay:i})}},a.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},a.render=function(){if(!Ne(this.props)){var e=this.state,t=e.inView,n=e.entry;return this.props.children({inView:t,entry:n,ref:this.handleNode})}var r=this.props,a=r.children,i=r.as,c=r.tag,o=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(r,["children","as","tag","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView"]);return Object(D.createElement)(i||c||"div",we({ref:this.handleNode},o),a)},r}(D.Component);De.displayName="InView",De.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};var Le=n(2),Me="infinite-scroll-container",ze=Object(D.createContext)({setLastItemId:function(){},ref:null}),Re=Object(D.forwardRef)((function(e,t){var n=e.children,r=Object(D.useState)(),a=Object(P.a)(r,2),i=a[0],c=a[1];return Object(Le.jsx)(ze.Provider,{value:{ref:t,lastItemId:i,setLastItemId:function(e){setTimeout((function(){return c(e)}),0)}},children:n})}));Re.displayName="InfiniteScrollProvider";var _e,Ue,Ge,Pe,Be,He,Fe,Ve,We,qe,Xe,Je,Ke,Qe,Ye,$e=function(e){var t=e.children,n=e.hasMore,r=e.next,a=e.config,i=function(e){var t=void 0===e?{}:e,n=t.threshold,r=t.delay,a=t.trackVisibility,i=t.rootMargin,c=t.root,o=t.triggerOnce,s=t.skip,l=t.initialInView,d=Object(D.useRef)(),u=Object(D.useState)({inView:!!l}),b=u[0],j=u[1],x=Object(D.useCallback)((function(e){void 0!==d.current&&(d.current(),d.current=void 0),s||e&&(d.current=Se(e,(function(e,t){j({inView:e,entry:t}),t.isIntersecting&&o&&d.current&&(d.current(),d.current=void 0)}),{root:c,rootMargin:i,threshold:n,trackVisibility:a,delay:r}))}),[Array.isArray(n)?n.toString():n,c,i,o,s,a,r]);Object(D.useEffect)((function(){d.current||!b.entry||o||s||j({inView:!!l})}));var f=[x,b.inView,b.entry];return f.ref=f[0],f.inView=f[1],f.entry=f[2],f}(Object(Te.a)({threshold:0,root:document.querySelector("#".concat(Me)),rootMargin:"0px 0px 200px 0px",triggerOnce:!0},a)),c=i.ref,o=i.inView;return Object(D.useEffect)((function(){o&&n&&r()}),[o,n,r]),Object(Le.jsx)(Re,{ref:c,children:t})},Ze=function(e){var t=e.children,n=e.next,r=e.hasMore,a=e.isLoading;return Object(Le.jsx)($e,{next:n,hasMore:r,children:Object(Le.jsxs)(me,{id:Me,children:[t,Object(Le.jsx)(ve,{isVisible:a,children:Object(Le.jsx)(N.Loader,{size:"md"})})]})})},et=n(532),tt=n(109),nt=n(100),rt=n(47),at=n(18),it=n(521),ct={type:"Transfer",name:it.a,logoUri:it.a,directionSign:"",amountWithSymbol:it.a,tokenType:"UNKNOWN"},ot=function(e){var t=Object(D.useState)(),n=Object(P.a)(t,2),r=n[0],a=n[1],i=Object(it.c)(e);return Object(D.useEffect)((function(){if(Object(nt.q)(e)){var t=e,n=t.direction,r=t.transferInfo,c="INCOMING"===n?"+":"-";switch(r.type){case rt.TokenType.ERC20:var o,s;a({type:"Transfer",name:null!==(o=r.tokenName)&&void 0!==o?o:ct.name,logoUri:null!==(s=r.logoUri)&&void 0!==s?s:ct.logoUri,directionSign:c,amountWithSymbol:i,tokenType:r.type});break;case rt.TokenType.ERC721:var l,d;a({type:"Transfer",name:null!==(l=r.tokenName)&&void 0!==l?l:ct.name,logoUri:null!==(d=r.logoUri)&&void 0!==d?d:ct.logoUri,directionSign:c,amountWithSymbol:i,tokenType:r.type});break;case rt.TokenType.NATIVE_COIN:var u,b,j=Object(at.n)().nativeCoin;a({type:"Transfer",name:null!==(u=j.name)&&void 0!==u?u:ct.name,logoUri:null!==(b=j.logoUri)&&void 0!==b?b:ct.logoUri,directionSign:c,amountWithSymbol:i,tokenType:r.type})}}else(Object(nt.j)(e)||Object(nt.c)(e))&&a(e)}),[e,i]),r},st=n(88),lt=function(e){var t=Object(B.d)(st.g),n=Object(D.useState)({color:"primary",text:""}),r=Object(P.a)(n,2),a=r[0],i=r[1];return Object(D.useEffect)((function(){if(Object(nt.n)(e.txStatus))i({color:"primary",text:"Success"});else if(Object(nt.m)(e.txStatus))i({color:"error",text:"Failed"});else if(Object(nt.l)(e.txStatus))i({color:"error",text:"Cancelled"});else if(Object(nt.o)(e.txStatus))i({color:"placeHolder",text:"Transaction will be replaced"});else{var n,r,a,c=Object(it.b)(null!==(n=null===(r=e.executionInfo)||void 0===r?void 0:r.missingSigners)&&void 0!==n?n:void 0);switch(e.txStatus){case"AWAITING_CONFIRMATIONS":a=c(t)?"Needs your confirmation":"Needs confirmations";break;case"AWAITING_EXECUTION":a="Needs execution";break;default:a="Pending"}i({color:"rinkeby",text:a})}}),[t,e.executionInfo,e.txStatus]),a},dt=n(1583),ut=n.p+"static/media/circle-cross-red.c9afa2b3.svg",bt=n.p+"static/media/incoming.1bf5be26.svg",jt=n.p+"static/media/outgoing.d744cc02.svg",xt=n.p+"static/media/settings.0fea6f0c.svg",ft=n(207),Ot=n(324),ht=n(45),mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht.a,t=arguments.length>1?arguments[1]:void 0,n=t.name,r=t.image,a=Object(B.d)((function(t){return Object(Ot.a)(t,{address:e})})),i=!Object(tt.a)(a,ft.a);return i?{name:a,image:void 0,isAddressBook:!0}:{name:n||void 0,image:r||void 0,isAddressBook:!1}},pt=function(e){var t=Object(D.useState)({icon:dt.a,text:"Contract interaction"}),n=Object(P.a)(t,2),r=n[0],a=n[1],i=Object(z.k)(),c=Object(it.d)(e),o=mt(null===c||void 0===c?void 0:c.value,{name:null===c||void 0===c?void 0:c.name,image:null===c||void 0===c?void 0:c.logoUri});return Object(D.useEffect)((function(){switch(e.txInfo.type){case"Creation":a({icon:(null===c||void 0===c?void 0:c.logoUri)||xt,text:"Jupisky created"});break;case"Transfer":var t="OUTGOING"===e.txInfo.direction;a({icon:t?jt:bt,text:t?"Send":"Receive"});break;case"SettingsChange":a({icon:xt,text:e.txInfo.dataDecoded.method});break;case"Custom":if(!e.executionInfo){a({icon:xt,text:"Module"});break}if(e.txInfo.isCancellation){a({icon:ut,text:"On-chain rejection"});break}if(e.safeAppInfo){a({icon:e.safeAppInfo.logoUri,text:e.safeAppInfo.name});break}a({icon:o.isAddressBook?dt.a:o.image||(null===c||void 0===c?void 0:c.logoUri)||dt.a,fallbackIcon:o.isAddressBook?void 0:dt.a,text:o.name||(null===c||void 0===c?void 0:c.name)||"Contract interaction"})}}),[e,i,o.name,o.image,o.isAddressBook,null===c||void 0===c?void 0:c.logoUri,null===c||void 0===c?void 0:c.name]),r},vt=function(e){var t=e.address,n=e.iconUrl,r=e.text,a=e.iconUrlFallback;return Object(Le.jsx)(N.EthHashInfo,{hash:t,showHash:!1,avatarSize:"sm",showAvatar:!0,customAvatar:n||void 0,customAvatarFallback:a,name:r,textSize:"xl"})},gt=n(271),yt=n(79),It=Object(D.createContext)({txLocation:"history",setTxLocation:function(){}}),Tt=n(234),wt=function(e){var t,n=Object(B.d)(st.g),r=Object(z.k)(),a=Object(B.d)(Tt.b),i=Object(D.useContext)(It).txLocation,c=null!==(t=e.executionInfo)&&void 0!==t?t:{},o=c.confirmationsSubmitted,s=void 0===o?0:o,l=c.confirmationsRequired,d=void 0===l?0:l,u=c.missingSigners,b=Object(B.d)((function(t){var n,r;return Object(W.a)(t)({attributeName:"nonce",attributeValue:null!==(n=null===(r=e.executionInfo)||void 0===r?void 0:r.nonce)&&void 0!==n?n:-1,txLocation:i})})),j=Object(D.useState)({canConfirm:!1,canConfirmThenExecute:!1,canExecute:!1,canCancel:!1,isUserAnOwner:a,oneToGo:!1}),x=Object(P.a)(j,2),f=x[0],O=x[1];return Object(D.useEffect)((function(){if(a&&"history"!==i&&e.executionInfo){var t=!(null===u||void 0===u?void 0:u.some((function(e){return Object(ht.f)(e.value,n)}))),r=s===d-1,c=["queued.next","queued.queued"].includes(i)&&!t;O({canConfirm:c,canConfirmThenExecute:"queued.next"===i&&c&&r,canExecute:"queued.next"===i&&s>=d,canCancel:!b.some((function(e){var t=e.txInfo;return Object(nt.c)(t)&&t.isCancellation})),isUserAnOwner:a,oneToGo:r})}else O((function(e){return Object(Te.a)(Object(Te.a)({},e),{},{isUserAnOwner:a})}))}),[d,s,n,a,u,r,e,b,i]),f},Ct=n(551),Et=Object(D.createContext)({selectedAction:{actionSelected:"none",transactionId:"",txLocation:"history"},selectAction:function(){return Promise.resolve()}}),kt=function(e){var t=e.children,n=Object(D.useRef)(Object(B.c)()),r=Object(D.useState)({actionSelected:"none",transactionId:"",txLocation:"history"}),a=Object(P.a)(r,2),i=a[0],c=a[1],o=Object(D.useCallback)(function(){var e=Object(G.a)(U.a.mark((function e(t){var r,a,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.actionSelected,a=t.transactionId,i=t.txLocation,!a){e.next=4;break}return e.next=4,n.current(Object(Ct.b)({transactionId:a,txLocation:i}));case 4:c({actionSelected:r,transactionId:a,txLocation:i});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(Le.jsx)(Et.Provider,{value:{selectedAction:i,selectAction:o},children:t})},At=Object(D.createContext)({activeHover:void 0,setActiveHover:function(){}}),St=function(e){var t=e.children,n=Object(D.useState)(),r=Object(P.a)(n,2),a=r[0],i=r[1];return Object(Le.jsx)(At.Provider,{value:{activeHover:a,setActiveHover:i},children:t})},Nt=n(111),Dt=n(81),Lt=function(e){var t,n,r,a=Object(B.d)(st.g),i=Object(D.useRef)(Object(D.useContext)(Et)),c=Object(D.useRef)(Object(D.useContext)(At)),o=Object(D.useRef)(Object(D.useContext)(It)),s=Object(B.c)(),l=wt(e),d=l.canCancel,u=l.canConfirmThenExecute,b=l.canExecute,j=Object(D.useCallback)((function(t){var n,r;if(t.stopPropagation(),"MULTISIG"===(null===(n=e.txDetails)||void 0===n||null===(r=n.detailedExecutionInfo)||void 0===r?void 0:r.type)){var a,c=null===(a=e.txDetails)||void 0===a?void 0:a.detailedExecutionInfo;if(b&&c.confirmationsRequired>c.confirmations.length||u&&c.confirmationsRequired-1>c.confirmations.length)return void s(Object(Nt.b)(Dt.a.TX_FETCH_SIGNATURES_ERROR_MSG))}i.current.selectAction({actionSelected:b||u?"execute":"confirm",transactionId:e.id,txLocation:o.current.txLocation})}),[u,b,s,e.id,null===(t=e.txDetails)||void 0===t?void 0:t.detailedExecutionInfo]),x=Object(D.useCallback)((function(t){t.stopPropagation(),i.current.selectAction({actionSelected:"cancel",transactionId:e.id,txLocation:o.current.txLocation})}),[e.id]),f=Object(D.useCallback)((function(){b&&c.current.setActiveHover(e.id)}),[b,e.id]),O=Object(D.useCallback)((function(){c.current.setActiveHover()}),[]),h=Object(D.useMemo)((function(){return!!e.txStatus.match(/^PENDING.*/)}),[e.txStatus]),m=Object(it.b)(null!==(n=null===(r=e.executionInfo)||void 0===r?void 0:r.missingSigners)&&void 0!==n?n:void 0),p=Object(D.useMemo)((function(){return h||"AWAITING_EXECUTION"===e.txStatus&&"queued.queued"===o.current.txLocation||"AWAITING_CONFIRMATIONS"===e.txStatus&&!m(a)}),[a,h,m,e.txStatus]);return{canCancel:d,handleConfirmButtonClick:j,handleCancelButtonClick:x,handleOnMouseEnter:f,handleOnMouseLeave:O,isPending:h,disabledActions:p}},Mt=Object(K.default)(gt.a)(_e||(_e=Object(J.a)(["\n  padding: 8px !important;\n\n  &.Mui-disabled {\n    opacity: 0.4;\n  }\n"]))),zt=function(e){var t=e.transaction,n=Lt(t),r=n.canCancel,a=n.handleConfirmButtonClick,i=n.handleCancelButtonClick,c=n.handleOnMouseEnter,o=n.handleOnMouseLeave,s=n.isPending,l=n.disabledActions,d=Object(B.d)(yt.f);return Object(Le.jsxs)(Le.Fragment,{children:[Object(Le.jsx)(N.Tooltip,{title:function(){var e;return"AWAITING_EXECUTION"===t.txStatus?(null===(e=t.executionInfo)||void 0===e?void 0:e.nonce)===d?"Execute":"Transaction with nonce ".concat(d," needs to be executed first"):"Confirm"}(),placement:"top",children:Object(Le.jsx)("span",{children:Object(Le.jsx)(Mt,{size:"small",type:"button",onClick:a,disabled:l,onMouseEnter:c,onMouseLeave:o,children:Object(Le.jsx)(N.Icon,{type:"AWAITING_EXECUTION"===t.txStatus?"rocket":"check",color:"primary",size:"sm"})})})}),r&&Object(Le.jsx)(N.Tooltip,{title:"Reject",placement:"top",children:Object(Le.jsx)("span",{children:Object(Le.jsx)(Mt,{size:"small",type:"button",onClick:i,disabled:s,children:Object(Le.jsx)(N.Icon,{type:"circleCross",color:"error",size:"sm"})})})})]})},Rt=n(34),_t=n(126),Ut=n(433),Gt=n(1379),Pt=Object(K.default)(N.Text)(Ue||(Ue=Object(J.a)(["\n  margin-left: 10px;\n  line-height: 16px;\n"]))),Bt=K.default.div(Ge||(Ge=Object(J.a)(["\n  display: flex;\n  align-items: center;\n"]))),Ht=function(e){var t=e.assetInfo;return Object(Le.jsxs)(Bt,{children:[Object(Le.jsx)(_t.a,{alt:t.name,height:26,onError:function(e){e.currentTarget.onerror=null,e.currentTarget.src=t.tokenType===rt.TokenType.ERC721?Ut.a:Gt.a},src:t.logoUri}),Object(Le.jsx)(Pt,{size:"xl",children:"".concat(t.directionSign).concat(t.amountWithSymbol)})]})},Ft=function(e){var t,n,r=e.info;if("Transfer"===r.type)return Object(Le.jsx)(Ht,{assetInfo:r});if(Object(nt.j)(r)){switch(null===(t=r.settingsInfo)||void 0===t?void 0:t.type){case"SET_FALLBACK_HANDLER":case"ADD_OWNER":case"REMOVE_OWNER":case"SWAP_OWNER":case"CHANGE_THRESHOLD":case"CHANGE_IMPLEMENTATION":break;case"ENABLE_MODULE":case"DISABLE_MODULE":var a=r.settingsInfo;return Object(Le.jsx)(N.Text,{size:"xl",as:"span",children:null!==(n=Rt.j[a.module.value])&&void 0!==n?n:"Unknown module"})}}return Object(nt.c)(r)?Object(nt.g)(r)?Object(Le.jsxs)(N.Text,{size:"xl",as:"span",children:[r.actionCount," ","action".concat(r.actionCount>1?"s":"")]}):Object(Le.jsx)(N.Text,{size:"xl",as:"span",children:r.methodName}):null},Vt=K.default.div(Pe||(Pe=Object(J.a)(["\n  color: ",";\n"])),(function(e){var t=e.theme,n=e.color;return t.colors[n]})),Wt=Object(K.default)(N.Dot)(Be||(Be=Object(J.a)(["\n  height: 8px;\n  width: 8px;\n  background-color: "," !important;\n"])),(function(e){var t=e.theme,n=e.color;return t.colors[n]})),qt=Object(K.default)(N.IconText)(He||(He=Object(J.a)(["\n  p {\n    font-weight: bold;\n  }\n"]))),Xt=K.default.div(Fe||(Fe=Object(J.a)(["\n  width: max-content;\n"]))),Jt=function(e){var t=e.transaction,n=e.isGrouped,r=void 0!==n&&n,a=e.nonce,i=e.type,c=e.info,o=e.time,s=e.votes,l=e.actions,d=e.status,u=Object(D.useContext)(It).txLocation,b=Object(D.useContext)(ze),j=b.ref,x=b.lastItemId,f=Object(it.d)(t),O="WILL_BE_REPLACED"===(null===t||void 0===t?void 0:t.txStatus)?" will-be-replaced":"",h=Object(it.f)(t.txInfo)&&"history"!==u?" on-chain-rejection":"",m=Object(Le.jsx)("div",{className:"tx-nonce"+O,children:Object(Le.jsx)(N.Text,{size:"xl",children:a})}),p=Object(Le.jsx)("div",{className:"tx-type"+O+h,children:Object(Le.jsx)(vt,{address:(null===f||void 0===f?void 0:f.value)||"0x",iconUrl:i.icon,iconUrlFallback:i.fallbackIcon,text:i.text})}),v=Object(Le.jsx)("div",{className:"tx-info"+O,children:c&&Object(Le.jsx)(Ft,{info:c})}),g=Object(D.useRef)(null),y=Object(Le.jsx)("div",{className:"tx-time"+O,children:Object(Le.jsx)(N.Tooltip,{title:Object(et.a)(o),arrow:!0,backgroundColor:"white",size:"lg",children:Object(Le.jsx)(Xt,{ref:g,children:Object(Le.jsx)(N.Text,{size:"xl",children:"history"===u?Object(et.b)(o):Object(et.c)(o)})})})}),I=Object(Le.jsx)("div",{className:"tx-votes"+O,children:s&&Object(Le.jsx)(qt,{color:s.required>s.submitted?"secondaryLight":"primary",iconType:"owners",iconSize:"sm",text:"".concat(s.votes),textSize:"md"})}),T=Object(Le.jsx)("div",{className:"tx-actions"+O,children:(null===l||void 0===l?void 0:l.isUserAnOwner)&&t&&Object(Le.jsx)(zt,{transaction:t})}),w=Object(Le.jsxs)("div",{className:"tx-status",ref:Object(tt.a)(x,t.id)?j:null,children:["PENDING"===(null===t||void 0===t?void 0:t.txStatus)||"PENDING_FAILED"===(null===t||void 0===t?void 0:t.txStatus)?Object(Le.jsx)(Vt,{color:d.color,children:Object(Le.jsx)(N.Loader,{size:"xs",color:"pending"})}):("AWAITING_EXECUTION"===(null===t||void 0===t?void 0:t.txStatus)||"AWAITING_CONFIRMATIONS"===(null===t||void 0===t?void 0:t.txStatus))&&Object(Le.jsx)(Wt,{color:d.color}),Object(Le.jsx)(N.Text,{size:"md",color:d.color,className:"col",strong:!0,children:d.text})]});return r?Object(Le.jsxs)(de,{children:[p,v,y,I,T,w]}):Object(Le.jsxs)(le,{className:Object(tt.a)(d.text,"Failed")?"failed-transaction":"",children:[m,p,v,y,I,T,w]})},Kt=function(e){var t,n=e.transaction,r=null===(t=n.executionInfo)||void 0===t?void 0:t.nonce,a=pt(n),i=ot(n.txInfo),c=lt(n);return Object(Le.jsx)(Jt,{nonce:r,type:a,info:i,time:n.timestamp,status:c,transaction:n})},Qt=n(206),Yt=n.n(Qt),$t=n(280),Zt=n(1550),en=n(1474),tn=n(1508),nn=function(e){return Object(tt.a)(e,"setAllowance")},rn=function(e){return Object(tt.a)(e,"deleteAllowance")},an=K.default.div(Ve||(Ve=Object(J.a)(["\n  margin-bottom: 16px;\n"]))),cn=function(e){var t=e.data,n=Object(D.useMemo)((function(){var e,n;return null!==(e=null===(n=t.parameters)||void 0===n?void 0:n.map((function(e){return e.value})))&&void 0!==e?e:[]}),[t.parameters]),r=Object(P.a)(n,4),a=r[0],i=r[1],c=r[2],o=r[3],s=Object(D.useMemo)((function(){var e,t;return null!==(e=null===(t=Object(en.b)().find((function(e){return+e.value===+o})))||void 0===t?void 0:t.label)&&void 0!==e?e:""}),[o]),l=Object(Zt.a)(i);return Object(Le.jsxs)(Le.Fragment,{children:[Object(Le.jsx)(an,{children:Object(Le.jsx)(N.Text,{size:"xl",strong:!0,children:"Modify spending limit:"})}),Object(Le.jsx)(an,{children:Object(Le.jsx)(tn.a,{title:"Beneficiary",address:a})}),Object(Le.jsx)(an,{children:l&&Object(Le.jsx)(tn.c,{amount:Object($t.a)(c,l.decimals),title:"Amount",token:l})}),Object(Le.jsx)(an,{children:Object(Le.jsx)(tn.b,{title:"Reset Time",label:s})})]})},on=function(e){var t=e.data,n=Object(D.useMemo)((function(){var e,n;return null!==(e=null===(n=t.parameters)||void 0===n?void 0:n.map((function(e){return e.value})))&&void 0!==e?e:[]}),[t.parameters]),r=Object(P.a)(n,2),a=r[0],i=r[1],c=Object(Zt.a)(i);return Object(Le.jsxs)(Le.Fragment,{children:[Object(Le.jsx)(an,{children:Object(Le.jsx)(N.Text,{size:"xl",strong:!0,children:"Delete spending limit:"})}),Object(Le.jsx)(an,{children:Object(Le.jsx)(tn.a,{title:"Beneficiary",address:a})}),Object(Le.jsx)(an,{children:c&&Object(Le.jsx)(tn.c,{amount:"",title:"Token",token:c})})]})},sn=n(492),ln=n(1347),dn=n(1967),un=n(382),bn=n(567),jn=n(390),xn=n(2584),fn=n.n(xn),On=n(13),hn=Object(jn.a)(Object(sn.a)({container:{display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",margin:"0 ".concat(On.xs),borderRadius:"50%",transition:"background-color .2s ease-in-out","&:hover":{backgroundColor:"#F0EFEE"},outline:"none"},increasedPopperZindex:{zIndex:2001}})),mn=function(e){var t=e.address,n=e.sendModalOpenHandler,r=hn(),a=Object(D.useState)(null),i=Object(P.a)(a,2),c=i[0],o=i[1],s=Object(B.d)(Tt.b),l=Object(B.d)((function(e){return Object(Ot.a)(e,{address:t})})),d=!Object(tt.a)(l,ft.a),u=function(e){return o(e.currentTarget)},b=function(){return o(null)},j=function(){z.p.push({pathname:Object(z.m)(z.g.ADDRESS_BOOK,{shortName:Object(at.e)(),safeAddress:Object(z.k)()}),search:"?entryAddress=".concat(t)}),b()};return Object(Le.jsx)(ln.a,{onClickAway:b,children:Object(Le.jsxs)("div",{className:r.container,role:"menu",tabIndex:0,children:[Object(Le.jsx)(fn.a,{onClick:u,onKeyDown:u}),Object(Le.jsxs)(un.a,{anchorEl:c,id:"simple-menu",keepMounted:!0,onClose:b,open:Boolean(c),children:[n?[Object(Le.jsx)(bn.a,{onClick:n,disabled:!s,children:"Send Again"},"send-again-button"),Object(Le.jsx)(dn.a,{},"divider")]:null,d?Object(Le.jsx)(bn.a,{onClick:j,children:"Edit Address book Entry"}):Object(Le.jsx)(bn.a,{onClick:j,children:"Add to address book"})]})]})})},pn=n(535),vn=n(60),gn=["address","name","avatarUrl"],yn=function(e){var t=e.address,n=e.name,r=e.avatarUrl,a=Object(vn.a)(e,gn),i=mt(t,{name:n,image:r});return""===t?null:Object(Le.jsx)(N.EthHashInfo,Object(Te.a)({hash:t,name:i.name,showAvatar:!0,customAvatar:i.image,showCopyBtn:!0,explorerUrl:Object(at.f)(t)},a))},In=function(e){var t=e.children,n=e.title;return Object(Le.jsxs)(Le.Fragment,{children:[Object(Le.jsx)(N.Text,{size:"xl",strong:!0,children:n}),t]})},Tn=K.default.div(We||(We=Object(J.a)(["\n  display: flex;\n  align-items: flex-end;\n"]))),wn=function(e){var t=e.title,n=e.address,r=e.isTransferType,a=e.txInfo,i=e.name,c=e.avatarUrl,o=Object(D.useContext)(It).txLocation,s=r&&(null===a||void 0===a?void 0:a.transferInfo.type)!==rt.TokenType.ERC721&&"history"===o&&"OUTGOING"===(null===a||void 0===a?void 0:a.direction),l=Object(D.useState)(!1),d=Object(P.a)(l,2),u=d[0],b=d[1],j=Object(D.useState)({activeScreenType:"sendFunds",recipientAddress:n,selectedToken:ht.a,tokenAmount:"0"}),x=Object(P.a)(j,2),f=x[0],O=x[1];return Object(D.useEffect)((function(){if(a){var e=a.transferInfo.type===rt.TokenType.ERC721,t=Object(it.e)(a),n=t.address,r=t.value,i=t.decimals;O((function(t){return Object(Te.a)(Object(Te.a)({},t),{},{activeScreenType:e?"sendCollectible":"sendFunds",selectedToken:e?a.transferInfo:n,tokenAmount:e?"1":Object($t.a)(r,Number(i))})}))}}),[a]),Object(Le.jsxs)(In,{title:t,children:[Object(Le.jsxs)(Tn,{children:[Object(Le.jsx)(yn,{address:n,name:i,avatarUrl:c}),Object(Le.jsx)(mn,{address:n,sendModalOpenHandler:s?function(){b(!0)}:void 0})]}),s&&Object(Le.jsx)(pn.a,Object(Te.a)({isOpen:u,onClose:function(){b(!1)}},f))]})},Cn=n(87),En=n(338),kn=Object(sn.a)({txDataParagraph:{whiteSpace:"normal"},linkTxData:{textDecoration:"underline",cursor:"pointer"}}),An=Object(jn.a)(kn),Sn=function(e){var t=e.hexData,n=e.title,r=e.limit,a=void 0===r?20:r,i=An(),c=Object(D.useState)(!1),o=Object(P.a)(c,2),s=o[0],l=o[1],d=t.length>a,u=Object(tt.b)({charsStart:40,charsEnd:0});return Object(Le.jsxs)("div",{className:"tx-hexData",children:[n&&Object(Le.jsxs)(N.Text,{size:"xl",strong:!0,children:[n,":"]}),Object(Le.jsx)(Cn.a,{className:i.txDataParagraph,noMargin:!0,size:"md",children:d?Object(Le.jsx)(Le.Fragment,{children:s?Object(Le.jsxs)(Le.Fragment,{children:[t," ",Object(Le.jsx)(En.a,{"aria-label":"Hide details of the transaction",className:i.linkTxData,onClick:function(){return l(!1)},rel:"noopener noreferrer",target:"_blank",children:"Show Less"})]}):Object(Le.jsxs)(Le.Fragment,{children:[u(t)," ",Object(Le.jsx)(En.a,{"aria-label":"Show details of the transaction",className:i.linkTxData,onClick:function(){return l(!0)},rel:"noopener noreferrer",target:"_blank",children:"Show More"})]})}):t})]})},Nn=n(1407),Dn=["type"],Ln=K.default.div(qe||(qe=Object(J.a)(["\n  padding-left: 4px;\n"]))),Mn=function(e){var t=e.method,n=e.type,r=e.value,a=function(e){return Object(Le.jsx)(Sn,{limit:60,hexData:e})};return Object(Nn.i)(n)||Array.isArray(r)?function e(t,n){return Object(Le.jsxs)("div",{children:["[",Object(Le.jsx)(Ln,{children:n.map((function(n,r){var i="".concat(t,"-value-").concat(r);return Array.isArray(n)?Object(Le.jsx)(N.Text,{size:"xl",children:e(i,n)},i):a(n)}))}),"]"]})}(t,r):a(r)},zn=function(e){var t=e.type,n=Object(vn.a)(e,Dn);if(Object(Nn.i)(t)&&Object(Nn.h)(t))return Object(Le.jsxs)("div",{children:["[",Object(Le.jsx)(Ln,{children:n.value.map((function(e){var t=Object(at.f)(e);return Object(Le.jsx)(N.EthHashInfo,{textSize:"xl",hash:e,showCopyBtn:!0,explorerUrl:t},e)}))}),"]"]});if(Object(Nn.h)(t)){var r=Object(at.f)(n.value);return Object(Le.jsx)(N.EthHashInfo,{textSize:"xl",hash:n.value,showCopyBtn:!0,explorerUrl:r,shortenHash:4})}return Object(Le.jsx)(Mn,Object(Te.a)({type:t},n))},Rn=K.default.div(Xe||(Xe=Object(J.a)(["\n  padding-left: 24px;\n  display: ",";\n  align-items: center;\n\n  p:first-of-type {\n    margin-right: ",";\n  }\n"])),(function(e){return e.isArrayParameter?"block":"flex"}),(function(e){return e.isArrayParameter?"0":"4px"})),_n=K.default.div(Je||(Je=Object(J.a)(["\n  padding: 8px 0;\n"]))),Un=Object(K.default)(N.Text)(Ke||(Ke=Object(J.a)(["\n  white-space: nowrap;\n"]))),Gn=function(e){var t,n=e.data;return Object(Le.jsxs)(_n,{children:[Object(Le.jsx)(N.Text,{size:"xl",strong:!0,children:n.method}),null===(t=n.parameters)||void 0===t?void 0:t.map((function(e,t){return Object(Le.jsxs)(Rn,{isArrayParameter:Object(Nn.i)(e.type),children:[Object(Le.jsxs)(Un,{size:"xl",strong:!0,children:[e.name,"(",e.type,"):"]}),Object(Le.jsx)(zn,{method:n.method,type:e.type,value:e.value})]},"".concat(n.method,"_param-").concat(t))}))]})},Pn=function(e){var t,n,r=e.actionTitle,a=e.children,i=e.txDetails;return Object(Le.jsxs)(ee,{children:[Object(Le.jsx)(N.AccordionSummary,{children:Object(Le.jsx)(N.IconText,{iconSize:"sm",iconType:"code",text:r,textSize:"xl"})}),Object(Le.jsxs)($,{children:[(n=null===(t=i.dataDecoded)||void 0===t?void 0:t.method,!(nn(n)||rn(n))&&Object(Le.jsx)(wn,{title:i.title,address:i.address})),a]})]})},Bn=function(e){var t,n,r=e.txData,a=Object(at.n)().nativeCoin;return(null===(t=r.dataDecoded)||void 0===t?void 0:t.parameters)?Object(Le.jsx)(Le.Fragment,{children:null===(n=r.dataDecoded.parameters[0].valueDecoded)||void 0===n?void 0:n.map((function(e,t,n){var r,i=e.dataDecoded,c=n[t],o=c.data,s=c.value,l=c.to,d="Action ".concat(t+1," ").concat(i?"(".concat(i.method,")"):""),u=s?Object($t.a)(s,a.decimals):0,b="Send ".concat(u," ").concat(a.name," to:");return r=i?Object(Le.jsx)(Gn,{data:i}):o&&Object(Le.jsx)(Sn,{title:"Data (hex encoded)",hexData:o}),Object(Le.jsx)(Pn,{actionTitle:d,txDetails:{title:b,address:l,dataDecoded:i},children:r},"".concat(null!==o&&void 0!==o?o:l,"-").concat(t))}))}):r.hexData?Object(Le.jsx)(Sn,{title:"Data (hex encoded)",hexData:r.hexData}):null},Hn=function(e){var t,n,r=e.children,a=e.txData,i=e.txInfo,c=Object(at.n)().nativeCoin,o=a.value?Object($t.a)(a.value,c.decimals):"n/a";return Object(nt.c)(i)&&(t=i.to.name,n=i.to.logoUri),Object(Le.jsxs)(Le.Fragment,{children:[Object(Le.jsx)(wn,{address:a.to.value,name:t,avatarUrl:n,title:"Send ".concat(o," ").concat(c.symbol," to:")}),r]})},Fn=function(e){var t=e.txData,n=e.txInfo;return t?t.dataDecoded?Object(tt.a)(t.dataDecoded.method,"multiSend")?Object(Le.jsx)(Bn,{txData:t}):nn(t.dataDecoded.method)?Object(Le.jsx)(cn,{data:t.dataDecoded}):rn(t.dataDecoded.method)?Object(Le.jsx)(on,{data:t.dataDecoded}):Object(Le.jsx)(Hn,{txData:t,txInfo:n,children:Object(Le.jsx)(Gn,{data:t.dataDecoded})}):t.hexData?Object(Le.jsx)(Hn,{txData:t,txInfo:n,children:Object(Le.jsx)(Sn,{title:"Data (hex encoded)",hexData:t.hexData})}):null:null},Vn=function(e){var t=e.transaction,n=Lt(t),r=n.canCancel,a=n.handleConfirmButtonClick,i=n.handleCancelButtonClick,c=n.handleOnMouseEnter,o=n.handleOnMouseLeave,s=n.isPending,l=n.disabledActions,d=Object(B.d)(yt.f);return Object(Le.jsxs)(Le.Fragment,{children:[Object(Le.jsx)(N.Tooltip,{title:function(){var e;return"AWAITING_EXECUTION"===t.txStatus?(null===(e=t.executionInfo)||void 0===e?void 0:e.nonce)===d?"Execute":"Transaction with nonce ".concat(d," needs to be executed first"):"Confirm"}(),placement:"top",children:Object(Le.jsx)("span",{children:Object(Le.jsx)(N.Button,{size:"md",color:"primary",disabled:l,onClick:function(e){o(),a(e)},onMouseEnter:c,onMouseLeave:o,className:"primary",children:"AWAITING_EXECUTION"===t.txStatus?"Execute":"Confirm"})})}),r&&Object(Le.jsx)(N.Button,{size:"md",color:"error",onClick:i,className:"error",disabled:s,children:"Reject"})]})},Wn=function(e){var t=e.settingsInfo;if(!t)return null;switch(t.type){case"SET_FALLBACK_HANDLER":var n,r;return Object(Le.jsx)(In,{title:"Set fallback handler:",children:Object(Le.jsx)(yn,{address:t.handler.value,name:(null===(n=t.handler)||void 0===n?void 0:n.name)||void 0,avatarUrl:(null===(r=t.handler)||void 0===r?void 0:r.logoUri)||void 0})});case"ADD_OWNER":case"REMOVE_OWNER":var a,i,c="ADD_OWNER"===t.type?"Add owner:":"Remove owner:";return Object(Le.jsxs)(In,{title:c,children:[Object(Le.jsx)(yn,{address:t.owner.value,name:(null===(a=t.owner)||void 0===a?void 0:a.name)||void 0,avatarUrl:(null===(i=t.owner)||void 0===i?void 0:i.logoUri)||void 0}),Object(Le.jsx)(In,{title:"Change required confirmations:",children:t.threshold})]});case"SWAP_OWNER":var o,s,l,d;return Object(Le.jsxs)(In,{title:"Swap owner:",children:[Object(Le.jsx)(wn,{title:"Old owner",address:t.oldOwner.value,name:(null===(o=t.oldOwner)||void 0===o?void 0:o.name)||void 0,avatarUrl:(null===(s=t.oldOwner)||void 0===s?void 0:s.logoUri)||void 0}),Object(Le.jsx)(wn,{title:"New owner",address:t.newOwner.value,name:(null===(l=t.newOwner)||void 0===l?void 0:l.name)||void 0,avatarUrl:(null===(d=t.newOwner)||void 0===d?void 0:d.logoUri)||void 0})]});case"CHANGE_THRESHOLD":return Object(Le.jsx)(In,{title:"Change required confirmations:",children:t.threshold});case"CHANGE_IMPLEMENTATION":var u,b;return Object(Le.jsx)(In,{title:"Change implementation:",children:Object(Le.jsx)(yn,{address:t.implementation.value,name:(null===(u=t.implementation)||void 0===u?void 0:u.name)||void 0,avatarUrl:(null===(b=t.implementation)||void 0===b?void 0:b.logoUri)||void 0})});case"ENABLE_MODULE":case"DISABLE_MODULE":var j,x,f="ENABLE_MODULE"===t.type?"Enable module:":"Disable module:";return Object(Le.jsx)(In,{title:f,children:Object(Le.jsx)(yn,{address:t.module.value,name:(null===(j=t.module)||void 0===j?void 0:j.name)||void 0,avatarUrl:(null===(x=t.module)||void 0===x?void 0:x.logoUri)||void 0})});default:return null}},qn=function(e){var t=e.txInfo,n=ot(t),r=Object(D.useState)(),a=Object(P.a)(r,2),i=a[0],c=a[1];return Object(D.useEffect)((function(){n&&"Transfer"===n.type&&("INCOMING"===t.direction.toUpperCase()?c({title:"Received ".concat(n.amountWithSymbol," from:"),address:t.sender.value,name:t.sender.name||void 0}):c({title:"Send ".concat(n.amountWithSymbol," to:"),address:t.recipient.value,name:t.recipient.name||void 0}))}),[n,t.direction,t.recipient,t.sender]),i?Object(Le.jsx)(wn,Object(Te.a)(Object(Te.a)({},i),{},{isTransferType:!0,txInfo:t})):null},Xn=function(e){var t=e.txInfo;return Object(nt.j)(t)?Object(Le.jsx)(Wn,{settingsInfo:t.settingsInfo}):Object(nt.q)(t)?Object(Le.jsx)(qn,{txInfo:t}):null},Jn=n.p+"static/media/transactions-list-active.275ff76c.svg",Kn=n.p+"static/media/transactions-list-inactive.362550b8.svg",Qn=Object(K.default)(_t.a)(Qe||(Qe=Object(J.a)(["\n  background-color: transparent;\n  border-radius: 50%;\n"]))),Yn=function(e){var t,n,r=e.txDetails,a=r.txInfo,i=r.detailedExecutionInfo;if(!i||Object(nt.f)(i))return null;var c=i.confirmationsRequired-i.confirmations.length,o=Object(it.f)(a)?Object(Le.jsxs)(fe,{children:[Object(Le.jsx)("span",{className:"icon",children:Object(Le.jsx)(N.Icon,{size:"sm",type:"circleCross",color:"error"})}),Object(Le.jsx)("div",{className:"legend",children:Object(Le.jsx)(N.Text,{color:"error",size:"xl",strong:!0,children:"On-chain rejection created"})})]}):Object(Le.jsxs)(fe,{children:[Object(Le.jsx)("span",{className:"icon",children:Object(Le.jsx)(N.Icon,{size:"sm",type:"add",color:"primary"})}),Object(Le.jsx)("div",{className:"legend",children:Object(Le.jsx)(N.Text,{color:"primary",size:"xl",strong:!0,children:"Created"})})]});return Object(Le.jsxs)(xe,{children:[o,i.confirmations.map((function(e){var t=e.signer;return Object(Le.jsxs)(fe,{children:[Object(Le.jsx)("span",{className:"icon",children:Object(Le.jsx)(N.Icon,{size:"sm",type:"circleCheck",color:"primary"})}),Object(Le.jsxs)("div",{className:"legend",children:[Object(Le.jsx)(N.Text,{color:"primary",size:"xl",strong:!0,children:"Confirmed"}),Object(Le.jsx)(yn,{address:t.value,name:(null===t||void 0===t?void 0:t.name)||void 0,avatarUrl:(null===t||void 0===t?void 0:t.logoUri)||void 0,shortenHash:4})]})]},t.value)})),c<=0?Object(Le.jsxs)(fe,{children:[Object(Le.jsx)("span",{className:"icon",children:i.executor?Object(Le.jsx)(N.Icon,{type:"circleCheck",size:"sm",color:"primary"}):Object(Le.jsx)(Qn,{alt:"",src:Jn})}),Object(Le.jsxs)("div",{className:"legend",children:[Object(Le.jsx)(N.Text,{color:"primary",size:"xl",strong:!0,children:i.executor?"Executed":"Execute"}),i.executor&&Object(Le.jsx)(yn,{address:i.executor.value,name:(null===(t=i.executor)||void 0===t?void 0:t.name)||void 0,avatarUrl:(null===(n=i.executor)||void 0===n?void 0:n.logoUri)||void 0,shortenHash:4})]})]}):Object(Le.jsxs)(fe,{children:[Object(Le.jsx)("span",{className:"icon",children:Object(Le.jsx)(Qn,{alt:"",src:Kn})}),Object(Le.jsx)("div",{className:"legend",children:Object(Le.jsxs)(N.Text,{color:"icon",size:"xl",strong:!0,children:["Execute (",c," more ",1===c?"confirmation":"confirmations"," needed)"]})})]})]})},$n=function(e){var t=e.txDetails,n=t.txHash,r=t.detailedExecutionInfo,a=t.executedAt,i=t.txData,c=n?Object(at.f)(n):null,o=Object(nt.h)(r)?r.nonce:void 0,s=Object(nt.h)(r)?r.submittedAt:void 0,l=Object(nt.h)(r)?r.safeTxHash:void 0;return Object(Le.jsxs)(Le.Fragment,{children:[Object(Le.jsxs)("div",{className:"tx-hash",children:[Object(Le.jsxs)(N.Text,{size:"xl",strong:!0,as:"span",children:["Transaction hash:"," "]}),n?Object(Le.jsx)(Oe,{textSize:"xl",hash:n,shortenHash:8,showCopyBtn:!0,explorerUrl:c}):Object(Le.jsx)(N.Text,{size:"xl",as:"span",children:it.a})]}),void 0!==l&&Object(Le.jsxs)("div",{className:"tx-hash",children:[Object(Le.jsxs)(N.Text,{size:"xl",strong:!0,as:"span",children:["SafeTxHash:"," "]}),Object(Le.jsx)(Oe,{textSize:"xl",hash:l,shortenHash:8,showCopyBtn:!0})]}),void 0!==o&&Object(Le.jsxs)("div",{className:"tx-nonce",children:[Object(Le.jsxs)(N.Text,{size:"xl",strong:!0,as:"span",children:["Nonce:"," "]}),Object(Le.jsx)(N.Text,{size:"xl",as:"span",children:o})]}),s&&Object(Le.jsxs)("div",{className:"tx-created",children:[Object(Le.jsxs)(N.Text,{size:"xl",strong:!0,as:"span",children:["Created:"," "]}),Object(Le.jsx)(N.Text,{size:"xl",as:"span",children:Object(et.a)(s)})]}),Object(Le.jsxs)("div",{className:"tx-executed",children:[Object(Le.jsxs)(N.Text,{size:"xl",strong:!0,as:"span",children:["Executed:"," "]}),Object(Le.jsx)(N.Text,{size:"xl",as:"span",children:a?Object(et.a)(a):it.a})]}),(null===i||void 0===i?void 0:i.operation)===rt.Operation.DELEGATE&&Object(Le.jsx)("div",{className:"tx-operation",children:Object(Le.jsx)(N.Text,{size:"xl",strong:!0,as:"span",children:"Delegate Call"})})]})},Zn=Object(K.default)(N.Text)(Ye||(Ye=Object(J.a)(["\n  line-break: normal;\n  word-break: normal;\n"]))),er=function(e){var t=e.txDetails;if(Object(nt.q)(t.txInfo)||Object(nt.j)(t.txInfo))return Object(Le.jsx)(Xn,{txInfo:t.txInfo});if(Object(it.f)(t.txInfo)&&Object(nt.h)(t.detailedExecutionInfo)){var n,r="".concat(null!==(n=t.detailedExecutionInfo.nonce)&&void 0!==n?n:it.a),a=t.executedAt,i="This is an on-chain rejection that didn't send any funds.\n     This on-chain rejection replaced all transactions with nonce ".concat(r,".");return a||(i="This is an on-chain rejection that doesn't send any funds.\n Executing this on-chain rejection will replace all currently awaiting transactions with nonce ".concat(r,".")),Object(Le.jsxs)(Le.Fragment,{children:[Object(Le.jsx)(Zn,{size:"xl",children:i}),!a&&Object(Le.jsxs)(Le.Fragment,{children:[Object(Le.jsx)("br",{}),Object(Le.jsx)(N.Link,{href:"https://help.gnosis-safe.io/en/articles/4738501-why-do-i-need-to-pay-for-cancelling-a-transaction",target:"_blank",rel:"noreferrer",title:"Why do I need to pay for rejecting a transaction?",children:Object(Le.jsxs)(ye,{children:[Object(Le.jsx)(N.Text,{size:"xl",as:"span",color:"primary",children:"Why do I need to pay for rejecting a transaction?"}),Object(Le.jsx)(N.Icon,{size:"sm",type:"externalLink",color:"primary"})]})})]})]})}return t.txData?Object(Le.jsx)(Fn,{txData:t.txData,txInfo:t.txInfo}):null},tr=function(e){var t=e.transaction,n=e.actions,r=Object(D.useContext)(It).txLocation,a=function(e){var t=Object(D.useContext)(It).txLocation,n=Object(D.useRef)(Object(B.c)()),r=Object(D.useState)({loading:!0,data:void 0}),a=Object(P.a)(r,2),i=a[0],c=a[1],o=Object(B.d)((function(n){return Object(W.c)(n)({attributeValue:e,attributeName:"id",txLocation:t})}));return Object(D.useEffect)((function(){o?c({loading:!1,data:o}):n.current(Object(Ct.b)({transactionId:e,txLocation:t}))}),[o,e,t]),i}(t.id),i=a.data;return a.loading?Object(Le.jsx)(pe,{padding:10,children:Object(Le.jsx)(N.Loader,{size:"sm"})}):i?Object(Le.jsxs)(je,{children:[Object(Le.jsx)("div",{className:Yt()("tx-summary",{"will-be-replaced":"WILL_BE_REPLACED"===t.txStatus}),children:Object(Le.jsx)($n,{txDetails:i})}),Object(Le.jsx)("div",{className:Yt()("tx-details",{"no-padding":Object(nt.g)(i.txInfo),"not-executed":!i.executedAt,"will-be-replaced":"WILL_BE_REPLACED"===t.txStatus}),children:Object(Le.jsx)(er,{txDetails:i})}),Object(Le.jsx)("div",{className:Yt()("tx-owners",{"no-owner":"history"!==r&&!(null===n||void 0===n?void 0:n.isUserAnOwner),"will-be-replaced":"WILL_BE_REPLACED"===t.txStatus}),children:Object(Le.jsx)(Yn,{txDetails:i})}),!i.executedAt&&"history"!==r&&(null===n||void 0===n?void 0:n.isUserAnOwner)&&Object(Le.jsx)("div",{className:Yt()("tx-details-actions",{"will-be-replaced":"WILL_BE_REPLACED"===t.txStatus}),children:Object(Le.jsx)(Vn,{transaction:t})})]}):Object(Le.jsx)(je,{children:Object(Le.jsx)(N.Text,{size:"xl",strong:!0,children:"No data available"})})},nr=function(e){var t,n,r,a,i,c,o,s,l=e.transaction,d=l.txInfo,u=l.timestamp,b=mt(d.creator.value,{name:null===(t=d.creator)||void 0===t?void 0:t.name,image:null===(n=d.creator)||void 0===n?void 0:n.logoUri}),j=mt(null===(r=d.factory)||void 0===r?void 0:r.value,{name:null===(a=d.factory)||void 0===a?void 0:a.name,image:null===(i=d.factory)||void 0===i?void 0:i.logoUri}),x=mt(null===(c=d.implementation)||void 0===c?void 0:c.value,{name:null===(o=d.implementation)||void 0===o?void 0:o.name,image:null===(s=d.implementation)||void 0===s?void 0:s.logoUri});return Object(Le.jsxs)(je,{children:[Object(Le.jsxs)("div",{className:"tx-summary",children:[Object(Le.jsxs)("div",{className:"tx-hash",children:[Object(Le.jsxs)(N.Text,{size:"xl",strong:!0,as:"span",children:["Transaction hash:"," "]}),Object(Le.jsx)(Oe,{textSize:"xl",hash:d.transactionHash,shortenHash:8,showCopyBtn:!0,explorerUrl:Object(at.f)(d.transactionHash)})]}),Object(Le.jsxs)("div",{className:"tx-created",children:[Object(Le.jsxs)(N.Text,{size:"xl",strong:!0,as:"span",children:["Created:"," "]}),Object(Le.jsx)(N.Text,{size:"xl",as:"span",children:Object(et.a)(u)})]})]}),Object(Le.jsxs)("div",{className:"tx-details",children:[Object(Le.jsxs)("div",{className:"tx-creator",children:[Object(Le.jsxs)(N.Text,{size:"xl",strong:!0,children:["Creator:"," "]}),Object(Le.jsx)(N.EthHashInfo,{textSize:"xl",hash:d.creator.value,showCopyBtn:!0,explorerUrl:Object(at.f)(d.creator.value),name:b.name,customAvatar:b.image,showAvatar:!0})]}),Object(Le.jsxs)("div",{className:"tx-factory",children:[Object(Le.jsxs)(N.Text,{size:"xl",strong:!0,children:["Factory:"," "]}),d.factory?Object(Le.jsx)(N.EthHashInfo,{textSize:"xl",hash:d.factory.value,showCopyBtn:!0,explorerUrl:Object(at.f)(d.factory.value),name:j.name,customAvatar:j.image,showAvatar:!0}):Object(Le.jsx)(N.Text,{size:"xl",as:"span",children:it.a})]}),Object(Le.jsxs)("div",{className:"tx-mastercopy",children:[Object(Le.jsxs)(N.Text,{size:"xl",strong:!0,children:["Mastercopy:"," "]}),d.implementation?Object(Le.jsx)(N.EthHashInfo,{textSize:"xl",hash:d.implementation.value,showCopyBtn:!0,explorerUrl:Object(at.f)(d.implementation.value),name:x.name,customAvatar:x.image,showAvatar:!0}):Object(Le.jsx)(N.Text,{size:"xl",as:"span",children:it.a})]})]}),Object(Le.jsx)("div",{className:"tx-owners"})]})},rr=function(e){var t=e.transaction;return Object(Le.jsxs)(Z,{TransitionProps:{mountOnEnter:!1,unmountOnExit:!0,appear:!0},children:[Object(Le.jsx)(ge,{children:Object(Le.jsx)(Kt,{transaction:t})}),Object(Le.jsx)(N.AccordionDetails,{children:Object(nt.b)(t.txInfo)?Object(Le.jsx)(nr,{transaction:t}):Object(Le.jsx)(tr,{transaction:t})})]})},ar=function(e){var t=e.transactions,n=Object(D.useContext)(ze),r=n.lastItemId,a=n.setLastItemId,i=Object(P.a)(t[t.length-1],2)[1],c=i[i.length-1];return Object(tt.a)(r,c.id)||a(c.id),Object(Le.jsx)(It.Provider,{value:{txLocation:"history"},children:null===t||void 0===t?void 0:t.map((function(e){var t=Object(P.a)(e,2),n=t[0],r=t[1];return Object(Le.jsxs)(te,{children:[Object(Le.jsx)(ne,{size:"lg",children:Object(et.d)(Number(n),"MMM d, yyyy")}),Object(Le.jsx)(re,{children:r.map((function(e){return Object(Le.jsx)(rr,{transaction:e},e.id)}))})]},n)}))})},ir=n.p+"static/media/no-transactions.0fc3884a.svg",cr=function(){var e=X(),t=e.count,n=e.hasMore,r=e.next,a=e.transactions,i=e.isLoading;return 0===t&&i?Object(Le.jsx)(pe,{children:Object(Le.jsx)(N.Loader,{size:"md"})}):0!==t&&a.length?Object(Le.jsx)(Ze,{next:r,hasMore:n,isLoading:i,children:Object(Le.jsx)(ar,{transactions:a})}):Object(Le.jsxs)(Ie,{children:[Object(Le.jsx)(_t.a,{alt:"No Transactions yet",src:ir}),Object(Le.jsx)(N.Title,{size:"xs",children:"History transactions will appear here "})]})},or=n(1715),sr=n(74),lr=Object(jn.a)(Object(sn.a)({container:{padding:"".concat(On.md," ").concat(On.lg)},nonceNumber:{marginTop:On.sm,fontSize:On.md},gasCostsContainer:{backgroundColor:On.background,padding:"0 ".concat(On.lg)}})),dr=n(323),ur=n(146),br=n(1389),jr=n(167),xr=n(113),fr=n(61),Or=n(17),hr=n(110),mr=n(262),pr=n(374),vr=n(379),gr=n(94),yr=n(118),Ir=n(339),Tr=n(198),wr=n(174),Cr=n(687),Er=n(689),kr=n(31),Ar=n(14),Sr=n(357),Nr=n(1377),Dr=n(1390),Lr=n(1386),Mr=n(1383),zr=n(1385),Rr=n(1368),_r=Object(sr.c)({owner:"",type:"initialised",hash:"",signature:null}),Ur=n(1413),Gr=function(e){var t,n,r=e.onClose,a=e.canExecute,i=void 0!==a&&a,c=e.isCancelTx,o=void 0!==c&&c,s=e.isOpen,l=e.transaction,d=Object(B.c)(),u=Object(B.d)(st.g),b=lr(),j=Object(z.k)(),x=Object(D.useState)(i),f=Object(P.a)(x,2),O=f[0],h=f[1],m=l.executionInfo,p=!(!l.executionInfo||!function(e){return e.confirmationsSubmitted>=e.confirmationsRequired}(m)),v=null!==(t=null===m||void 0===m?void 0:m.confirmationsRequired)&&void 0!==t?t:0,g=(null!==(n=null===m||void 0===m?void 0:m.confirmationsSubmitted)&&void 0!==n?n:0)+1,y=function(e,t){var n={title:"Execute transaction rejection",description:"This action will execute this transaction."};return t||(e?(n.title="Execute transaction",n.description="This action will execute this transaction. A separate Transaction will be performed to submit the execution."):(n.title="Approve Transaction",n.description="This action will approve this transaction. A separate Transaction will be performed to submit the approval.")),n}(p,o),I=y.description,T=y.title,w=!p&&g===v,C=!!w||p,E=Object(D.useState)(),k=Object(P.a)(E,2),A=k[0],S=k[1],N=Object(D.useState)(),L=Object(P.a)(N,2),M=L[0],R=L[1],_=function(e){var t=Object(D.useRef)(e),n=Object(z.k)();return{confirmations:Object(D.useMemo)((function(){return t.current.txDetails.detailedExecutionInfo&&Object(nt.h)(t.current.txDetails.detailedExecutionInfo)?Object(sr.a)(t.current.txDetails.detailedExecutionInfo.confirmations.map((function(e){var t=e.signer,n=e.signature;return _r({owner:t.value,signature:n})}))):Object(sr.a)([])}),[]),data:Object(D.useMemo)((function(){var e,n;return null!==(e=null===(n=t.current.txDetails.txData)||void 0===n?void 0:n.hexData)&&void 0!==e?e:gr.a}),[]),baseGas:Object(D.useMemo)((function(){return Object(nt.h)(t.current.txDetails.detailedExecutionInfo)?t.current.txDetails.detailedExecutionInfo.baseGas:"0"}),[]),gasPrice:Object(D.useMemo)((function(){return Object(nt.h)(t.current.txDetails.detailedExecutionInfo)?t.current.txDetails.detailedExecutionInfo.gasPrice:"0"}),[]),safeTxGas:Object(D.useMemo)((function(){return Object(nt.h)(t.current.txDetails.detailedExecutionInfo)?t.current.txDetails.detailedExecutionInfo.safeTxGas:"0"}),[]),gasToken:Object(D.useMemo)((function(){return Object(nt.h)(t.current.txDetails.detailedExecutionInfo)?t.current.txDetails.detailedExecutionInfo.gasToken:ht.a}),[]),nonce:Object(D.useMemo)((function(){var e,n;return null!==(e=null===(n=t.current.executionInfo)||void 0===n?void 0:n.nonce)&&void 0!==e?e:0}),[]),refundReceiver:Object(D.useMemo)((function(){return Object(nt.h)(t.current.txDetails.detailedExecutionInfo)?t.current.txDetails.detailedExecutionInfo.refundReceiver.value:ht.a}),[]),safeTxHash:Object(D.useMemo)((function(){return Object(nt.h)(t.current.txDetails.detailedExecutionInfo)?t.current.txDetails.detailedExecutionInfo.safeTxHash:gr.a}),[]),value:Object(D.useMemo)((function(){switch(t.current.txInfo.type){case"Transfer":return t.current.txInfo.transferInfo.type===rt.TokenType.NATIVE_COIN?t.current.txInfo.transferInfo.value:null!==(e=null===(n=t.current.txDetails.txData)||void 0===n?void 0:n.value)&&void 0!==e?e:"0";var e,n;case"Custom":return t.current.txInfo.value;default:return"0"}}),[]),to:Object(D.useMemo)((function(){switch(t.current.txInfo.type){case"Transfer":return t.current.txInfo.transferInfo.type===rt.TokenType.NATIVE_COIN?t.current.txInfo.recipient.value:t.current.txInfo.transferInfo.tokenAddress;case"Custom":return t.current.txInfo.to.value;default:return n}}),[n]),operation:Object(D.useMemo)((function(){var e,n;return null!==(e=null===(n=t.current.txDetails.txData)||void 0===n?void 0:n.operation)&&void 0!==e?e:rt.Operation.CALL}),[]),origin:Object(D.useMemo)((function(){return t.current.safeAppInfo?JSON.stringify({name:t.current.safeAppInfo.name,url:t.current.safeAppInfo.url}):""}),[]),id:Object(D.useMemo)((function(){return t.current.id}),[])}}(l),H=_.confirmations,F=_.data,W=_.baseGas,X=_.gasPrice,J=_.safeTxGas,K=_.gasToken,Q=_.nonce,Y=_.refundReceiver,$=_.safeTxHash,Z=_.value,ee=_.to,te=_.operation,ne=_.origin,re=_.id,ae=Object(Nr.b)({txRecipient:ee,txData:F,txConfirmations:H,txAmount:Z,preApprovingOwner:O?u:void 0,safeTxGas:J,operation:te,manualGasPrice:A,manualGasLimit:M}),ie=ae.gasLimit,ce=ae.gasPriceFormatted,oe=ae.gasCostFormatted,se=ae.txEstimationExecutionStatus,le=ae.isExecution,de=ae.isOffChainSignature,ue=ae.isCreation,be=le&&O,je=Object(Dr.a)(se),xe=Object(P.a)(je,1)[0],fe=function(e){p&&H.size<v?d(Object(Nt.b)(Dt.a.TX_FETCH_SIGNATURES_ERROR_MSG)):d(function(e){var t=e.approveAndExecute,n=e.notifiedTransaction,r=e.safeAddress,a=e.tx,i=e.userAddress,c=e.ethParameters,o=e.thresholdReached;return function(){var e=Object(G.a)(U.a.mark((function e(s,l){var d,u,b,j,x,f,O,h,m,p,v,g,y,I,T,w,C,E,k,A,S,N,D,L,M,z;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Sr.b)();case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return u=l(),b=Object(st.e)(u),j=b.account,x=b.hardwareWallet,f=b.smartContractWallet,O=Object(V.a)(u),h=Object(yt.c)(u),m=Object(hr.d)(r,h),e.next=12,Object(wr.c)(r);case 12:return p=e.sent,e.next=15,Object(wr.d)(p,m);case 15:if(v=e.sent,e.t0=t,e.t0){e.next=21;break}return e.next=20,Object(wr.e)(m,v,p);case 20:e.t0=e.sent;case 21:if(g=e.t0,y=t&&!o?i:void 0,(I=Object(mr.b)(a.confirmations,y))||(I=Object(mr.c)(j)),T=Object(Dt.c)(n,a.origin),w=s(Object(Nt.b)(T.beforeExecution)),k=Object(Te.a)(Object(Te.a)({},a),{},{safeInstance:m,to:a.to,valueInWei:a.value,data:null!==(d=a.data)&&void 0!==d?d:gr.a,operation:a.operation,nonce:a.nonce,safeTxGas:a.safeTxGas,baseGas:a.baseGas,gasPrice:a.gasPrice||"0",gasToken:a.gasToken,refundReceiver:a.refundReceiver,sender:j,sigs:I}),e.prev=28,!Object(mr.a)(g,f,h)){e.next=40;break}return e.next=32,Object(pr.b)(a.safeTxHash,Object(Te.a)(Object(Te.a)({},k),{},{safeAddress:r}),x,h);case 32:if(!(S=e.sent)){e.next=40;break}return s(Object(yr.b)({key:w})),s(Object(Er.b)({chainId:O,txStatus:rt.TransactionStatus.PENDING,safeAddress:r,nonce:a.nonce,id:a.id})),e.next=38,Object(fr.d)(Object(Te.a)(Object(Te.a)({},k),{},{signature:S}));case 38:return s(Object(Tr.a)(O,r)),e.abrupt("return");case 40:return E=g?Object(fr.c)(k):Object(fr.b)(m,a.safeTxHash),N=Object(at.l)()===Ar.b.MAINNET?"maxFeePerGas":"gasPrice",A={from:j,value:0,gas:null===c||void 0===c?void 0:c.ethGasLimit},Object(Or.a)(A,N,null===c||void 0===c?void 0:c.ethGasPriceInGWei),Object(Or.a)(A,"nonce",null===c||void 0===c?void 0:c.ethNonce),D=A,e.next=45,E.send(D).once("transactionHash",function(){var e=Object(G.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C=t,s(Object(yr.b)({key:w})),s(Object(Er.b)({chainId:O,txStatus:rt.TransactionStatus.PENDING,safeAddress:r,nonce:a.nonce,id:a.id})),e.prev=3,e.next=6,Object(fr.d)(Object(Te.a)({},k));case 6:g&&vr.b(k.nonce),s(Object(Tr.a)(O,r)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),Object(q.c)(q.b._804,e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()).on("error",(function(){s(Object(Er.b)({chainId:O,txStatus:rt.TransactionStatus.PENDING_FAILED,safeAddress:r,nonce:a.nonce,id:a.id}))})).then(function(){var e=Object(G.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(Object(Tr.a)(O,r)),g&&s(Object(Ir.b)(r)),e.abrupt("return",t.transactionHash);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 45:e.next=66;break;case 47:if(e.prev=47,e.t1=e.catch(28),L=Object(kr.i)(e.t1)?Dt.a.TX_PENDING_MSG:Object(Te.a)(Object(Te.a)({},T.afterExecutionError),{},{message:"".concat(T.afterExecutionError.message," - ").concat(e.t1.message)}),s(Object(yr.b)({key:w})),s(Object(Nt.b)(Object(Te.a)({key:e.t1.code},L))),s(Object(Er.b)({chainId:O,txStatus:rt.TransactionStatus.PENDING_FAILED,safeAddress:r,nonce:a.nonce,id:a.id})),Object(q.c)(q.b._804,e.t1.message),!C){e.next=66;break}return M=m.methods.approveHash(C).encodeABI(),e.prev=56,e.next=59,Object(Cr.a)(m.options.address,0,M,j);case 59:z=e.sent,Object(q.c)(q.b._804,z),e.next=66;break;case 63:e.prev=63,e.t2=e.catch(56),Object(q.c)(q.b._804,e.t2.message);case 66:return e.abrupt("return",C);case 67:case"end":return e.stop()}}),e,null,[[28,47],[56,63]])})));return function(t,n){return e.apply(this,arguments)}}()}({safeAddress:j,tx:{id:re,baseGas:W,confirmations:H,data:F,gasPrice:X,gasToken:K,nonce:Q,operation:te,origin:ne,refundReceiver:Y,safeTxGas:J,safeTxHash:$,to:ee,value:Z},userAddress:u,notifiedTransaction:fr.a.CONFIRMATION_TX,approveAndExecute:i&&O&&C,ethParameters:e,thresholdReached:p})),r()},Oe=function(){return i||O?"SAFE_DISABLED":"DISABLED"};return Object(Le.jsx)(dr.c,{description:I,handleClose:r,open:s,title:T,children:Object(Le.jsx)(zr.a,{isOffChainSignature:de,isExecution:be,parametersStatus:Oe(),ethGasLimit:ie,ethGasPrice:ce,safeNonce:Q.toString(),safeTxGas:J,closeEditModalCallback:function(e){var t=ce,n=e.ethGasPrice;n&&t!==n&&S(e.ethGasPrice),e.ethGasLimit&&ie!==e.ethGasLimit&&R(e.ethGasLimit)},children:function(e,t){return Object(Le.jsxs)(Le.Fragment,{children:[Object(Le.jsx)(Rr.a,{onClose:r,title:T}),Object(Le.jsx)(jr.a,{}),Object(Le.jsx)(ur.a,{className:b.container,children:Object(Le.jsxs)(xr.a,{style:{flexDirection:"column"},children:[Object(Le.jsx)(Cn.a,{children:I}),Object(Le.jsxs)(Cn.a,{color:"medium",size:"sm",children:["Transaction nonce:",Object(Le.jsx)("br",{}),Object(Le.jsx)(br.a,{className:b.nonceNumber,children:Q})]}),w&&i&&!o&&Object(Le.jsx)(Ur.a,{onChange:h}),(O||!de)&&Object(Le.jsx)(Mr.a,{txParameters:e,onEdit:t,parametersStatus:Oe(),isTransactionCreation:ue,isTransactionExecution:be,isOffChainSignature:de})]})}),se===Nr.a.LOADING?null:Object(Le.jsx)(ur.a,{className:b.gasCostsContainer,children:Object(Le.jsx)(Lr.a,{gasCostFormatted:oe,isExecution:be,isCreation:ue,isOffChainSignature:de,txEstimationExecutionStatus:se})}),Object(Le.jsx)(dr.b.Footer,{withoutBorder:xe!==dr.a.LOADING,children:Object(Le.jsx)(dr.b.Footer.Buttons,{cancelButtonProps:{onClick:r,text:"Close"},confirmButtonProps:{onClick:function(){return fe(e)},type:"submit",status:xe,text:se===Nr.a.LOADING?"Estimating":void 0,testId:o?"reject-tx-modal-submit-btn":"approve-tx-modal-submit-btn"}})})]})}})})},Pr=n(430),Br=function(e){var t,n,r=e.isOpen,a=e.onClose,i=e.gwTransaction,c=Object(B.c)(),o=Object(z.k)(),s=lr(),l=Object(Nr.b)({txData:gr.a,txRecipient:o}),d=l.gasCostFormatted,u=l.txEstimationExecutionStatus,b=l.isExecution,j=l.isOffChainSignature,x=l.isCreation,f=l.gasLimit,O=l.gasPriceFormatted,h=i.safeAppInfo?JSON.stringify({name:i.safeAppInfo.name,url:i.safeAppInfo.url}):"",m=null!==(t=null===(n=i.executionInfo)||void 0===n?void 0:n.nonce)&&void 0!==t?t:0,p=dr.a.READY,v="Reject transaction";return u===Nr.a.LOADING&&(p=dr.a.LOADING,v="Estimating"),Object(Le.jsx)(dr.c,{description:"Reject transaction",handleClose:a,open:r,title:"Reject Transaction",children:Object(Le.jsx)(zr.a,{isOffChainSignature:j,isExecution:b,ethGasLimit:f,ethGasPrice:O,safeTxGas:"0",safeNonce:m.toString(),parametersStatus:"CANCEL_TRANSACTION",children:function(e,t){return Object(Le.jsxs)(Le.Fragment,{children:[Object(Le.jsx)(Rr.a,{onClose:a,title:"Reject transaction"}),Object(Le.jsx)(jr.a,{}),Object(Le.jsxs)(ur.a,{className:s.container,children:[Object(Le.jsxs)(xr.a,{children:[Object(Le.jsx)(Cn.a,{children:"This action will reject this transaction. A separate transaction will be performed to submit the rejection."}),Object(Le.jsxs)(Cn.a,{color:"medium",size:"sm",children:["Transaction nonce:",Object(Le.jsx)("br",{}),Object(Le.jsx)(br.a,{className:s.nonceNumber,children:m})]})]}),Object(Le.jsx)(Mr.a,{txParameters:e,onEdit:t,parametersStatus:"CANCEL_TRANSACTION",isTransactionCreation:x,isTransactionExecution:b,isOffChainSignature:j})]}),u===Nr.a.LOADING?null:Object(Le.jsx)(ur.a,{className:s.gasCostsContainer,children:Object(Le.jsx)(Lr.a,{gasCostFormatted:d,isExecution:b,isCreation:x,isOffChainSignature:j,txEstimationExecutionStatus:u})}),Object(Le.jsx)(dr.b.Footer,{withoutBorder:p!==dr.a.LOADING,children:Object(Le.jsx)(dr.b.Footer.Buttons,{cancelButtonProps:{onClick:a,text:"Close"},confirmButtonProps:{onClick:function(){return function(e){c(Object(Pr.b)({safeAddress:o,to:o,valueInWei:"0",txNonce:m,origin:h,safeTxGas:e.safeTxGas,ethParameters:e,notifiedTransaction:fr.a.CANCELLATION_TX,navigateToTransactionsTab:!1})),a()}(e)},color:"error",type:"submit",status:p,text:v}})})]})}})})},Hr=function(){var e=Object(D.useContext)(Et),t=e.selectedAction,n=e.selectAction,r=Object(or.a)(),a=Object(B.d)((function(e){return Object(W.b)(e)({attributeValue:t.transactionId,attributeName:"id",txLocation:t.txLocation})})),i=function(){return n({actionSelected:"none",transactionId:"",txLocation:"history"})};if(!(null===a||void 0===a?void 0:a.txDetails))return null;switch(t.actionSelected){case"cancel":return Object(Le.jsx)(Br,{isOpen:!0,onClose:i,gwTransaction:a});case"confirm":return Object(Le.jsx)(Gr,{isOpen:!0,onClose:i,transaction:a,txParameters:r});case"execute":return Object(Le.jsx)(Gr,{canExecute:!0,isOpen:!0,onClose:i,transaction:a,txParameters:r});case"none":return null}},Fr=function(){var e,t=function(){var e=Object(B.d)(W.e),t=Object(B.d)(W.f),n=Object(D.useState)(),r=Object(P.a)(n,2),a=r[0],i=r[1];if(Object(D.useEffect)((function(){var n=e?Object.entries(e).reduce((function(e,t){return e+Object(P.a)(t,2)[1].length}),0):0,r=t?Object.entries(t).reduce((function(e,t){return e+Object(P.a)(t,2)[1].length}),0):0;i({next:n,queued:r})}),[e,t]),(e||t)&&"undefined"!==typeof a)return{next:{count:a.next,transactions:e?Object.entries(e):[]},queue:{count:a.queued,transactions:t?Object.entries(t):[]}}}(),n=Object(B.d)(V.a),r=Object(B.c)(),a=Object(z.k)(),i=Object(D.useState)(!0),c=Object(P.a)(i,2),o=c[0],s=c[1],l=function(){var e=Object(G.a)(U.a.mark((function e(){var t,i,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(H.c)(a);case 3:t=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),e.t0.content!==q.b._608&&e.t0.log();case 9:if(t){e.next=12;break}return s(!1),e.abrupt("return");case 12:c=(i=t).values,null===i.next&&s(!1),c?r(Object(F.d)({chainId:n,safeAddress:a,values:c})):s(!1);case 15:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return t&&(e=t.next.count+t.queue.count),{count:e,isLoading:"undefined"===typeof t||"undefined"===typeof e,transactions:t,hasMore:o,next:l}},Vr=function(e){var t=e.isGrouped,n=void 0!==t&&t,r=e.transaction,a=e.actions,i=r.executionInfo,c=null===i||void 0===i?void 0:i.nonce,o=pt(r),s=ot(r.txInfo),l=function(e){if(e){var t=e.confirmationsSubmitted,n=e.confirmationsRequired;return{votes:"".concat(t," out of ").concat(n),submitted:t,required:n}}}(i),d=lt(r);return Object(Le.jsx)(Jt,{transaction:r,isGrouped:n,nonce:c,type:o,info:s,time:r.timestamp,votes:l,actions:a,status:d})},Wr=function(e){var t=e.isGrouped,n=void 0!==t&&t,r=e.transaction,a=Object(D.useContext)(At).activeHover,i=wt(r),c=Object(D.useState)(r),o=Object(P.a)(c,2),s=o[0],l=o[1];return Object(D.useEffect)((function(){a&&a!==r.id?l((function(e){return Object(Te.a)(Object(Te.a)({},e),{},{txStatus:rt.TransactionStatus.WILL_BE_REPLACED})})):l(r)}),[a,r]),Object(Le.jsxs)(Z,{TransitionProps:{mountOnEnter:!1,unmountOnExit:!0,appear:!0},children:[Object(Le.jsx)(ge,{children:Object(Le.jsx)(Vr,{isGrouped:n,transaction:s,actions:i})}),Object(Le.jsx)(N.AccordionDetails,{children:Object(Le.jsx)(tr,{transaction:s,actions:i})})]})},qr=function(e){var t=e.firstElement;return Object(Le.jsx)("p",{className:"tree-lines",children:t?Object(Le.jsx)("span",{className:"first-node"}):null})},Xr=function(e){var t=e.nonce;return Object(Le.jsxs)(be,{className:"disclaimer-container",children:[Object(Le.jsx)(N.Text,{size:"xl",className:"nonce",children:t}),Object(Le.jsxs)(ye,{className:"disclaimer",children:[Object(Le.jsxs)(N.Text,{as:"span",size:"xl",children:["These transactions conflict as they use the same nonce. Executing one will automatically replace the other(s)."," "]}),Object(Le.jsx)(N.Link,{href:"https://help.gnosis-safe.io/en/articles/4730252-why-are-transactions-with-the-same-nonce-conflicting-with-each-other",target:"_blank",rel:"noreferrer",title:"Why are transactions with the same nonce conflicting with each other?",children:Object(Le.jsxs)(ye,{children:[Object(Le.jsx)(N.Text,{size:"xl",as:"span",color:"primary",children:"Learn more"}),Object(Le.jsx)(N.Icon,{size:"sm",type:"externalLink",color:"primary"})]})})]})]})},Jr=function(e){var t=e.nonce,n=e.transactions;return n.length>1?Object(Le.jsx)(ae,{children:Object(Le.jsxs)(St,{children:[Object(Le.jsx)(Xr,{nonce:t}),Object(Le.jsx)(ue,{children:n.map((function(e,n){return Object(Le.jsxs)(D.Fragment,{children:[Object(Le.jsx)(qr,{firstElement:!n}),Object(Le.jsx)(Wr,{isGrouped:!0,transaction:e})]},"".concat(t,"-").concat(e.id))}))})]})}):Object(Le.jsx)(Wr,{transaction:n[0]})},Kr=function(e){var t=e.transactions,n=Object(D.useContext)(It).txLocation,r=Object(B.d)(yt.f),a="queued.next"===n?"NEXT TRANSACTION":"QUEUE - Transaction with nonce ".concat(r," needs to be executed first"),i=Object(D.useContext)(ze),c=i.lastItemId,o=i.setLastItemId;if(t.length){var s=Object(P.a)(t[t.length-1],2)[1],l=s[s.length-1];"queued.queued"!==n||Object(tt.a)(c,l.id)||o(l.id)}return Object(Le.jsxs)(te,{children:[Object(Le.jsx)(ne,{size:"lg",children:a}),Object(Le.jsx)(re,{children:t.map((function(e){var t=Object(P.a)(e,2),n=t[0],r=t[1];return Object(Le.jsx)(Jr,{nonce:n,transactions:r},n)}))})]})},Qr=function(){var e=Fr(),t=e.count,n=e.isLoading,r=e.hasMore,a=e.next,i=e.transactions;return 0===t&&n?Object(Le.jsx)(pe,{children:Object(Le.jsx)(N.Loader,{size:"md"})}):0!==t&&i?Object(Le.jsxs)(kt,{children:[Object(Le.jsxs)(Ze,{next:a,hasMore:r,isLoading:n,children:[Object(Le.jsx)(It.Provider,{value:{txLocation:"queued.next"},children:0!==i.next.count&&Object(Le.jsx)(Kr,{transactions:i.next.transactions})}),Object(Le.jsx)(It.Provider,{value:{txLocation:"queued.queued"},children:0!==i.queue.count&&Object(Le.jsx)(Kr,{transactions:i.queue.transactions})})]}),Object(Le.jsx)(Hr,{})]}):Object(Le.jsxs)(Ie,{children:[Object(Le.jsx)(_t.a,{alt:"No Transactions yet",src:ir}),Object(Le.jsx)(N.Title,{size:"xs",children:"Queue transactions will appear here "})]})},Yr=[{label:"Queue",id:z.g.TRANSACTIONS_QUEUE},{label:"History",id:z.g.TRANSACTIONS_HISTORY}];t.default=function(){var e=Object(L.h)(),t=Object(L.j)().path,n=Object(R.g)().trackEvent;Object(D.useEffect)((function(){n(R.b.TRANSACTIONS)}),[n]);return Object(Le.jsxs)(Q,{children:[Object(Le.jsx)(N.Menu,{children:Object(Le.jsx)(M.a,{start:"sm",xs:12,children:Object(Le.jsx)(N.Breadcrumb,{children:Object(Le.jsx)(N.BreadcrumbElement,{iconType:"transactionsInactive",text:"TRANSACTIONS"})})})}),Object(Le.jsx)(N.Tab,{onChange:function(t){return e.replace(Object(z.m)(t,Object(z.j)()))},items:Yr,selectedTab:t}),Object(Le.jsx)(Y,{children:Object(Le.jsxs)(L.d,{children:[Object(Le.jsx)(L.b,{exact:!0,path:z.g.TRANSACTIONS_QUEUE,render:function(){return Object(Le.jsx)(Qr,{})}}),Object(Le.jsx)(L.b,{exact:!0,path:z.g.TRANSACTIONS_HISTORY,render:function(){return Object(Le.jsx)(cr,{})}})]})})]})}}}]);
//# sourceMappingURL=38.75c582f0.chunk.js.map