(this["webpackJsonpjupisky-ui"]=this["webpackJsonpjupisky-ui"]||[]).push([[45],{1323:function(t,e,n){"use strict";n.r(e);var a,r=n(1),c=n.n(r),s=n(12),i=n(38),o=n(0),u=n(42),d=n(390),b=n(18),j=n(1392),l=n(146),f=n(108),O=n(167),x=n(126),h=n(87),m=n(113),p=n(1488),g=n(430),v=n(61),C=n(1406),w=n(1375),k=n(109),A=n(93),E=n(17),y=n(14),T=n(1585),S=n(45),G=(a={},Object(E.a)(a,y.b.MAINNET,"0x06012c8cf97bead5deae237070f9587f8e7a266d"),Object(E.a)(a,y.b.RINKEBY,"0x16baf0de678e52367adc69fd067e5edd1d33e3bf"),a),I="42842e0e",N=function(){var t=Object(s.a)(c.a.mark((function t(e,n){var a,r,s,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}throw new Error("Failed to build NFT transfer tx data. SafeAddress is not defined.");case 2:return c=e.assetAddress,r=Object(S.f)(c,G[Object(b.l)()])?"transfer":"0x".concat(I),s=[e.recipientAddress,e.nftTokenId],r.includes(I)?(s=[n].concat(Object(A.a)(s)),i=Object(T.b)(e.assetAddress)):i=Object(T.a)(e.assetAddress),t.abrupt("return",(a=i.methods)[r].apply(a,Object(A.a)(s)).encodeABI());case 6:case"end":return t.stop()}var c}),t)})));return function(e,n){return t.apply(this,arguments)}}(),B=n(13),P=n(492),D=Object(P.a)({container:{padding:"".concat(B.md," ").concat(B.lg)},amount:{marginLeft:B.sm},buttonRow:{height:"84px",justifyContent:"center",gap:"16px"},gasCostsContainer:{backgroundColor:B.background,padding:"0 ".concat(B.lg)}}),F=n(24),L=n(1377),M=n(1390),R=n(323),z=n(1386),_=n(1385),H=n(1383),J=n(1368),U=n(27),K=n(1413),W=n(2),X=Object(d.a)(D);e.default=function(t){var e=t.onClose,n=t.onPrev,a=t.tx,r=X(),d=Object(k.b)(),A=Object(u.c)(),E=Object(U.k)(),y=Object(u.d)(p.c),T=Object(o.useState)("0"),S=Object(i.a)(T,2),G=S[0],I=S[1],B=Object(o.useState)(),P=Object(i.a)(B,2),D=P[0],Y=P[1],q=Object(o.useState)(),Q=Object(i.a)(q,2),V=Q[0],Z=Q[1],$=Object(o.useState)(!0),tt=Object(i.a)($,2),et=tt[0],nt=tt[1],at=y.find((function(t){var e=t.assetAddress,n=t.tokenId;return e===a.assetAddress&&n===a.nftTokenId})),rt=Object(o.useState)(""),ct=Object(i.a)(rt,2),st=ct[0],it=ct[1],ot=Object(L.b)({txData:st,txRecipient:a.assetAddress,safeTxGas:G,manualGasPrice:D,manualGasLimit:V}),ut=ot.gasLimit,dt=ot.gasEstimation,bt=ot.gasPriceFormatted,jt=ot.gasCostFormatted,lt=ot.txEstimationExecutionStatus,ft=ot.isExecution,Ot=ot.isOffChainSignature,xt=ot.isCreation,ht=ft&&et,mt=Object(M.a)(lt),pt=Object(i.a)(mt,1)[0];Object(o.useEffect)((function(){var t=!0,e=function(){var e=Object(s.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N(a,E);case 3:n=e.sent,t&&it(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error calculating ERC721 transfer data:",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return e(),function(){t=!1}}),[E,a]);return Object(W.jsx)(_.a,{isOffChainSignature:Ot,isExecution:ht,ethGasLimit:ut,ethGasPrice:bt,safeTxGas:dt,closeEditModalCallback:function(t){var e=bt,n=t.ethGasPrice,a=dt,r=t.safeTxGas;n&&e!==n&&Y(t.ethGasPrice),t.ethGasLimit&&ut!==t.ethGasLimit&&Z(t.ethGasLimit),r&&a!==r&&I(r)},children:function(t,c){return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(J.a,{onClose:e,subTitle:"2 of 2",title:"Send collectible"}),Object(W.jsx)(O.a,{}),Object(W.jsxs)(l.a,{className:r.container,children:[Object(W.jsx)(C.a,{}),Object(W.jsx)(j.a,{withArrow:!0}),Object(W.jsx)(m.a,{margin:"xs",children:Object(W.jsx)(h.a,{color:"disabled",noMargin:!0,size:"md",style:{letterSpacing:"-0.5px"},children:"Recipient"})}),Object(W.jsx)(m.a,{align:"center",margin:"md",children:Object(W.jsx)(f.a,{xs:12,children:Object(W.jsx)(F.EthHashInfo,{hash:a.recipientAddress,name:a.recipientName,showAvatar:!0,showCopyBtn:!0,explorerUrl:Object(b.f)(a.recipientAddress)})})}),Object(W.jsx)(m.a,{margin:"xs",children:Object(W.jsx)(h.a,{color:"disabled",noMargin:!0,size:"md",style:{letterSpacing:"-0.5px"},children:Object(k.b)({charsStart:40,charsEnd:0})(a.assetName)})}),at&&Object(W.jsxs)(m.a,{align:"center",margin:"md",children:[Object(W.jsx)(x.a,{alt:at.name,height:28,onError:w.a,src:at.image}),Object(W.jsxs)(h.a,{className:r.amount,noMargin:!0,size:"md",children:[d(at.name)," (Token ID: ",d(at.tokenId),")"]})]}),ft&&Object(W.jsx)(K.a,{onChange:nt}),Object(W.jsx)(H.a,{txParameters:t,onEdit:c,isTransactionCreation:xt,isTransactionExecution:ht,isOffChainSignature:Ot})]}),Object(W.jsx)("div",{className:r.gasCostsContainer,children:Object(W.jsx)(z.a,{gasCostFormatted:jt,isExecution:ht,isCreation:xt,isOffChainSignature:Ot,txEstimationExecutionStatus:lt})}),Object(W.jsx)(R.b.Footer,{withoutBorder:pt!==R.a.LOADING,children:Object(W.jsx)(R.b.Footer.Buttons,{cancelButtonProps:{onClick:n,text:"Back"},confirmButtonProps:{onClick:function(){return function(t){try{E?A(Object(g.b)({safeAddress:E,to:a.assetAddress,valueInWei:"0",txData:st,txNonce:t.safeNonce,safeTxGas:t.safeTxGas,ethParameters:t,notifiedTransaction:v.a.STANDARD_TX,delayExecution:!et})):console.error("There was an error trying to submit the transaction, the safeAddress was not found")}catch(n){console.error("Error creating sendCollectible Tx:",n)}finally{e()}}(t)},type:"submit",status:pt,text:lt===L.a.LOADING?"Estimating":void 0,testId:"submit-tx-btn"}})})]})}})}},1375:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(1379),r=function(t){var e=t.currentTarget;/token_placeholder/.test(e.src)||(e.src=a.a)};n(433)},1379:function(t,e,n){"use strict";e.a=n.p+"static/media/token_placeholder.c1abe466.svg"},1389:function(t,e,n){"use strict";var a=n(8),r=n(60),c=n(7),s=n(9),i=n(10),o=n(11),u=n(0),d=n(2),b=["children"],j=function(t){Object(i.a)(n,t);var e=Object(o.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var t=this.props,e=t.children,n=Object(r.a)(t,b);return Object(d.jsx)("b",Object(a.a)(Object(a.a)({},n),{},{children:e}))}}]),n}(u.PureComponent);e.a=j},1392:function(t,e,n){"use strict";var a,r,c=n(26),s=n(23),i=n(24),o=n(2),u=s.default.div(a||(a=Object(c.a)(["\n  display: flex;\n  align-items: center;\n  margin: 8px 0;\n\n  svg {\n    margin: 0 12px 0 4px;\n  }\n"]))),d=Object(s.default)(i.Divider)(r||(r=Object(c.a)(["\n  width: 100%;\n"])));e.a=function(t){var e=t.withArrow;return Object(o.jsxs)(u,{children:[e&&Object(o.jsx)(i.Icon,{type:"arrowDown",size:"md"}),Object(o.jsx)(d,{})]})}},1406:function(t,e,n){"use strict";var a,r=n(26),c=n(42),s=n(24),i=n(23),o=n(18),u=n(79),d=n(87),b=n(1389),j=n(13),l=n(146),f=n(2),O=Object(i.default)(l.a)(a||(a=Object(r.a)(["\n  font-size: 12px;\n  line-height: 1.08;\n  letter-spacing: -0.5px;\n  background-color: ",";\n  width: fit-content;\n  padding: 5px 10px;\n  margin-top: ",";\n  margin-left: 40px;\n  border-radius: 3px;\n"])),j.border,j.xs);e.a=function(){var t=Object(c.d)(u.j),e=t.address,n=t.ethBalance,a=t.name,r=Object(o.n)().nativeCoin;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(s.EthHashInfo,{hash:e,name:a,explorerUrl:Object(o.f)(e),showAvatar:!0,showCopyBtn:!0}),n&&Object(f.jsx)(O,{children:Object(f.jsxs)(d.a,{noMargin:!0,children:["Balance: ",Object(f.jsx)(b.a,{"data-testid":"current-eth-balance",children:"".concat(n," ").concat(r.symbol)})]})})]})}},1413:function(t,e,n){"use strict";var a=n(566),r=n(708),c=n(113),s=n(87),i=n(2);e.a=function(t){var e=t.onChange;return Object(i.jsxs)(c.a,{margin:"md",children:[Object(i.jsx)(s.a,{noMargin:!0,children:"If you want to sign the transaction now but manually execute it later, click on the checkbox below."}),Object(i.jsx)(a.a,{control:Object(i.jsx)(r.a,{defaultChecked:!0,color:"primary",onChange:function(t){e(t.target.checked)}}),label:"Execute transaction","data-testid":"execute-checkbox"})]})}},1488:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return d})),n.d(e,"a",(function(){return b}));var a=n(32),r=n(304),c=function(t){return t[r.a]},s=Object(a.a)(c,(function(t){return t})),i=Object(a.a)((function(t){return t[r.b]}),(function(t){return t})),o=Object(a.a)(c,(function(t){return t?Object.values(t):[]})),u=Object(a.a)(i,(function(t){var e=t.map((function(t){return t.assetAddress})),n=new Set(e);return Array.from(n)})),d=Object(a.a)(i,(function(t){return t.sort((function(t,e){return t.name.localeCompare(e.name)}))})),b=Object(a.a)(o,u,(function(t,e){return t.sort((function(t,e){return t.name.localeCompare(e.name)})).filter((function(t){var n=t.address;return e.includes(n)}))}))},1585:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return u}));n(1),n(12);var a=n(1713),r=n(1714),c=(n(74),n(150)),s=n.n(c),i=(n(372),n(555),n(244),n(489),n(31)),o=(n(22),s()((function(t){return new(Object(i.g)().eth.Contract)(a.abi,t)}))),u=s()((function(t){return new(Object(i.g)().eth.Contract)(r.abi,t)}))}}]);
//# sourceMappingURL=45.b5fc19d7.chunk.js.map