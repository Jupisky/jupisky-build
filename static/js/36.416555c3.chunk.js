(this["webpackJsonpjupisky-ui"]=this["webpackJsonpjupisky-ui"]||[]).push([[36],{1364:function(e,n,t){"use strict";var a=t(8),r=t(1359),c=t(2);n.a=function(e){var n=Object.assign({},e);return Object(c.jsx)(r.a,Object(a.a)({},n))}},1369:function(e,n,t){"use strict";var a=t(8),r=t(60),c=t(575),i=t(492),o=t(390),s=t(13),l=t(2),d=["name","onChange","value"],u=["input","inputAdornment","meta","multiline","rows","testId","text"],b={overflow:"hidden",width:"100%"},j=Object(o.a)((function(){return Object(i.a)({root:{paddingTop:s.lg,paddingBottom:"12px",lineHeight:0}})}));n.a=function(e){var n=e.input,t=n.name,i=n.onChange,o=n.value,s=Object(r.a)(n,d),f=e.inputAdornment,h=e.meta,p=e.multiline,O=e.rows,m=e.testId,x=e.text,g=Object(r.a)(e,u),v=j(),w=o?x:void 0,y=(h.touched||!h.pristine)&&!h.valid,k=!!h.error||!h.modifiedSinceLastSubmit&&!!h.submitError,S=h.error||h.submitError,C=!h.active&&(h.pristine||!h.touched),_="undefined"===typeof h.error||!h.touched,N=C&&_,T=w?v.root:"",E=h.valid?"isValid":k&&y?"isInvalid":"",z=Object(a.a)(Object(a.a)({},s),{},{autoComplete:"off","data-testid":m}),I=Object(a.a)(Object(a.a)({},f),{},{className:"".concat(T," ").concat(E),disableUnderline:N});return Object(l.jsx)(c.a,Object(a.a)({error:k&&y,helperText:k&&y?S:w||" ",inputProps:z,InputProps:I,multiline:p,name:t,onChange:i,rows:O,style:b,value:o},g))}},1391:function(e,n,t){"use strict";t.d(n,"a",(function(){return _}));var a=t(38),r=t(390),c=t(0),i=t.p+"static/media/qrcode.fec1b6d8.svg",o=t(271),s=t(515),l=t.n(s),d=t(1422),u=t.n(d),b=t(13),j=t(492),f=Object(j.a)({heading:{padding:b.lg,justifyContent:"space-between",maxHeight:"75px",boxSizing:"border-box"},loaderContainer:{width:"100%",height:"100%"},close:{height:"25px",width:"25px",color:b.secondaryText},detailsContainer:{backgroundColor:b.background,maxHeight:"450px"},buttonRow:{height:"84px",justifyContent:"center"},button:{"&:last-child":{marginLeft:b.sm}}}),h=t(323),p=t(146),O=t(235),m=t(108),x=t(167),g=t(87),v=t(113),w=t(2),y=Object(r.a)(f),k=function(e){var n=e.isOpen,t=e.onClose,r=e.onScan,i=y(),s=Object(c.useState)(!1),d=Object(a.a)(s,2),b=d[0],j=d[1],f=Object(c.useState)(null),k=Object(a.a)(f,2),S=k[0],C=k[1],_=Object(c.useState)(!1),N=Object(a.a)(_,2),T=N[0],E=N[1],z=c.createRef(),I=c.useCallback((function(){z.current.openImageDialog()}),[z]);Object(c.useEffect)((function(){b||!T||S||(j(!0),I())}),[T,I,b,j,S]);var F=function(e,n){if(e)return console.error("QR code error",e),void("NotAllowedError"===e.name||"PermissionDismissedError"===e.name?(E(!0),j(!1)):C("The QR could not be read"));n?r(n):T&&C("The QR could not be read")};return Object(w.jsxs)(h.c,{description:"Receive Tokens Form",handleClose:t,open:n,title:"Receive Tokens",children:[Object(w.jsxs)(v.a,{align:"center",className:i.heading,grow:!0,children:[Object(w.jsx)(g.a,{noMargin:!0,size:"xl",children:"Scan QR"}),Object(w.jsx)(o.a,{disableRipple:!0,onClick:t,children:Object(w.jsx)(l.a,{className:i.close})})]}),Object(w.jsx)(x.a,{}),Object(w.jsxs)(m.a,{className:i.detailsContainer,layout:"column",middle:"xs",children:[S&&Object(w.jsx)(p.a,{padding:"md",margin:"md",children:S}),Object(w.jsx)(u.a,{legacyMode:T,onError:function(e){return F(e,null)},onScan:function(e){return F(null,e)},ref:z,style:{width:"400px",height:"400px"},facingMode:"user"})]}),Object(w.jsx)(x.a,{}),Object(w.jsxs)(v.a,{align:"center",className:i.buttonRow,children:[Object(w.jsx)(O.a,{className:i.button,color:"secondary",minWidth:154,onClick:t,children:"Close"}),Object(w.jsx)(O.a,{className:i.button,color:"primary",minWidth:154,onClick:function(){E(!0),C(null),j(!1)},variant:"contained",children:"Upload an image"})]})]})},S=t(126),C=Object(r.a)({qrCodeBtn:{cursor:"pointer"}}),_=function(e){var n=e.handleScan,t=e.testId,r=C(),o=Object(c.useState)(!1),s=Object(a.a)(o,2),l=s[0],d=s[1],u=function(){d(!1)};return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(S.a,{alt:"Scan QR",className:r.qrCodeBtn,height:20,onClick:function(){d(!0)},role:"button",src:i,testId:t||"qr-icon"}),l&&Object(w.jsx)(k,{isOpen:l,onClose:u,onScan:function(e){n(e,u)}})]})}},1400:function(e,n,t){"use strict";var a=t(8),r=t(60),c=t(493),i=t(496),o=t(1273),s=t(499),l=t(2),d=["name","onChange","value"],u=["classes","disableError","formControlProps","input","label","meta","renderValue"],b={minWidth:"100%"};n.a=function(e){var n=e.classes,t=e.disableError,j=e.formControlProps,f=e.input,h=f.name,p=f.onChange,O=f.value,m=Object(r.a)(f,d),x=e.label,g=e.meta,v=e.renderValue,w=Object(r.a)(e,u),y=(g.submitError&&!g.dirtySinceLastSubmit||g.error)&&g.touched&&!t,k=Object(a.a)(Object(a.a)({},m),{},{name:h});return Object(l.jsxs)(c.a,Object(a.a)(Object(a.a)({},j),{},{error:y,style:b,children:[Object(l.jsx)(o.a,{htmlFor:h,children:x}),Object(l.jsx)(s.a,Object(a.a)({classes:n,inputProps:k,onChange:p,renderValue:v,value:O},w)),y&&Object(l.jsx)(i.a,{children:g.error||g.submitError})]}))}},1408:function(e,n,t){"use strict";var a=t(8),r=t(60),c=t(135),i=t.n(c),o=t(0),s=t(1414),l=t.n(s),d=t(71),u=["align","children","className","color","margin","tag","testId","truncate"],b=i.a.bind(l.a);n.a=function(e){var n=e.align,t=e.children,c=e.className,i=void 0===c?"":c,s=e.color,l=e.margin,j=e.tag,f=e.testId,h=e.truncate,p=Object(r.a)(e,u),O=b(i,"heading",n,j,l?Object(d.a)(l,"margin"):void 0,s,{truncate:h});return o.createElement(j,Object(a.a)(Object(a.a)({},p),{},{className:O,"data-testid":f||""}),t)}},1414:function(e,n,t){e.exports={heading:"Heading_heading__3Wz9P",h1:"Heading_h1__MXfCA",h2:"Heading_h2__3X6Ts",h3:"Heading_h3__1k2fD",h4:"Heading_h4__1YCmR",center:"Heading_center__28MHY",right:"Heading_right__1fQM1",truncate:"Heading_truncate__2Lq93",marginSm:"Heading_marginSm__13YwX",marginMd:"Heading_marginMd__2AnZN",marginLg:"Heading_marginLg__2ZfEq",marginXl:"Heading_marginXl__3RHt7",soft:"Heading_soft__2Zu43",medium:"Heading_medium__2X8Z-",dark:"Heading_dark__Ds2QB",fancy:"Heading_fancy__1Wx6l",warning:"Heading_warning__2lrZC",primary:"Heading_primary__2hOk2",secondary:"Heading_secondary__37lKs",disabled:"Heading_disabled__30DjG",error:"Heading_error__t5ujr",white:"Heading_white__2gkIK"}},1424:function(e,n,t){"use strict";var a,r=t(26),c=t(23),i=t(18),o=t(13),s=t(2);n.a=function(e){var n=e.networkInfo,t=e.onClick,a=e.flexGrow,r=n||Object(i.n)(),c=r.backgroundColor,o=r.textColor;return Object(s.jsx)(l,{onClick:t,backgroundColor:c,textColor:o,flexGrow:a,children:r.label})};var l=c.default.span(a||(a=Object(r.a)(["\n  position: relative;\n  bottom: 2px;\n  line-height: normal;\n  display: inline-block;\n  min-width: 70px;\n  font-size: ",";\n  padding: "," ",";\n  background-color: ",";\n  color: ",";\n  cursor: ",";\n  text-align: center;\n  border-radius: 3px;\n  text-transform: capitalize;\n  flex-grow: ",";\n"])),o.extraSmallFontSize,o.xs,o.sm,(function(e){var n=e.backgroundColor;return null!==n&&void 0!==n?n:o.border}),(function(e){var n=e.textColor;return null!==n&&void 0!==n?n:o.fontColor}),(function(e){return e.onClick?"pointer":"inherit"}),(function(e){return e.flexGrow?1:"initial"}))},1436:function(e,n,t){"use strict";t.d(n,"b",(function(){return l})),t.d(n,"a",(function(){return d}));var a=t(8),r=t(38),c=t(0),i=t(27),o=t(2),s=Object(c.createContext)({});function l(){var e=Object(c.useContext)(s);if(!(Object.keys(e).length>0))throw new Error("useStepper must be used within a StepperProvider!");return e}function d(e){var n=e.onFinish,t=e.store,l=e.disableNextButton,d=e.stepsComponents,u=e.children,b=e.testId,j=Object(c.useState)(0),f=Object(r.a)(j,2),h=f[0],p=f[1],O=c.Children.toArray(d),m=O[h],x=m.props.nextButtonType,g=m.props.nextButtonLabel,v="submit"===x,w=0===h,y=h>O.length-2,k=g,S=Object(a.a)({currentStep:h,setCurrentStep:p,steps:O,CurrentStepComponent:m,isFirstStep:w,isLastStep:y,onClickPreviousStep:function(){w?i.p.goBack():p((function(e){return e-1}))},onClickNextStep:function(){v||(y?null===n||void 0===n||n():p((function(e){return e+1})))},disableNextButton:l,nextButtonType:x,customNextButtonLabel:k,testId:b},t);return Object(o.jsx)(s.Provider,{value:S,children:u})}},1437:function(e,n,t){"use strict";var a=t(1),r=t.n(a),c=t(17),i=t(8),o=t(12),s=t(93),l=t(38),d=t(0),u=t(1359),b=t(1423),j=t(568),f=t(576),h=t(1369),p=t(514),O=t(109),m=t(31),x=t(45),g=t(63),v=t(22),w=t(327),y=t(2);n.a=function(e){var n=e.className,t=void 0===n?"":n,a=e.name,k=void 0===a?"recipientAddress":a,S=e.text,C=void 0===S?"Recipient*":S,_=e.placeholder,N=void 0===_?"Recipient*":_,T=e.fieldMutator,E=e.testId,z=e.inputAdornment,I=e.validators,F=void 0===I?[]:I,A=e.defaultValue,H=e.disabled,L=Object(d.useState)(""),B=Object(l.a)(L,2),P=B[0],R=B[1],M=Object(d.useState)({}),D=Object(l.a)(M,2),G=D[0],q=D[1],Y=G[P],W=""===Y;Object(d.useEffect)((function(){Y&&T(Y)}),[Y,T]);var V=W?{endAdornment:Object(y.jsx)(j.a,{position:"end",children:Object(y.jsx)(f.a,{size:"16px"})})}:z;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(u.a,{className:t,component:h.a,defaultValue:A,disabled:H,inputAdornment:V,name:k,placeholder:N,testId:E,text:C,type:"text",spellCheck:!1,validate:p.d.apply(void 0,[p.p,p.k].concat(Object(s.a)(F)))}),Object(y.jsx)(b.a,{name:k,children:function(){var e=Object(o.a)(r.a.mark((function e(n){var t,a,o,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(O.c)(n),R(t),!Object(x.e)(t)&&!Object(x.d)(t)){e.next=18;break}return q((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(c.a)({},t,""))})),e.prev=4,e.next=7,Object(m.b)(t);case 7:a=e.sent,o=Object(g.a)(a),q((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(c.a)({},t,o))})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),q((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(c.a)({},t,void 0))})),Object(v.c)(v.b._101,e.t0.message);case 16:e.next=21;break;case 18:if(s=t,Object(w.a)(t))try{s=Object(g.a)(t)}catch(r){}T(s);case 21:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(n){return e.apply(this,arguments)}}()})]})}},1490:function(e,n,t){"use strict";var a=t(135),r=t.n(a),c=t(1491),i=t.n(c),o=t(2),s=r.a.bind(i.a);n.a=function(e){var n=e.align,t=e.children,a=e.overflow;return Object(o.jsx)("main",{className:s(i.a.page,n,{overflow:a}),children:t})}},1491:function(e,n,t){e.exports={page:"Page_page__G6hb0",center:"Page_center__1dwJ9",overflow:"Page_overflow__30EmX"}},1680:function(e,n,t){"use strict";t.d(n,"a",(function(){return S}));var a=t(8),r=t(38),c=t(0),i=t.n(c),o=t(1359),s=t(711),l=t(577),d=t(2606),u=t(709),b=t(395),j=t(390),f=t(167),h=t(235),p=t(108),O=t(113),m=t(13),x=t(1436),g=t(2);function v(){var e=Object(x.b)(),n=e.currentStep,t=e.setCurrentStep,a=e.steps,r=e.onClickPreviousStep,c=e.onClickNextStep,i=e.disableNextButton,o=e.nextButtonType,j=e.testId;return Object(g.jsx)(s.a,{"data-testid":j,activeStep:n,orientation:"vertical",children:a.map((function(e,s){var j=0===s,m=n>s,x=y({isStepLabelClickable:m});var v=a[s],w=j?"Cancel":"Back",k=v.props.nextButtonLabel||"Next";return Object(g.jsxs)(l.a,{children:[Object(g.jsx)(u.a,{onClick:function(){m&&t(s)},className:x.stepLabel,children:e.props.label}),Object(g.jsx)(d.a,{children:Object(g.jsxs)(b.a,{className:x.root,elevation:1,children:[v,Object(g.jsx)(f.a,{}),Object(g.jsx)(O.a,{align:"center",grow:!0,className:x.controlStyle,children:Object(g.jsxs)(p.a,{center:"xs",xs:12,children:[Object(g.jsx)(h.a,{onClick:r,size:"small",className:x.backButton,type:"button",children:w}),Object(g.jsx)(h.a,{onClick:c,color:"primary",type:o||"button",disabled:i||e.props.disableNextButton,size:"small",className:x.nextButton,variant:"contained",children:k})]})})]})})]},e.props.label)}))})}function w(e){return Object(g.jsx)(x.a,Object(a.a)(Object(a.a)({stepsComponents:e.children},e),{},{children:Object(g.jsx)(v,{})}))}var y=Object(j.a)((function(e){return{root:{margin:"10px 0 10px 10px",maxWidth:"770px",boxShadow:"0 0 10px 0 rgba(33,48,77,0.10)"},controlStyle:{backgroundColor:"white",padding:m.lg,borderRadius:m.sm},backButton:{marginRight:m.sm,fontWeight:m.boldFont,color:e.palette.secondary.main},nextButton:{fontWeight:m.boldFont},stepLabel:{cursor:function(e){return e.isStepLabelClickable?"pointer":"inherit"}}}}));function k(e){return e.children}n.b=function(e){var n=e.children,t=e.onSubmit,s=e.testId,l=e.initialValues,d=Object(c.useState)(),u=Object(r.a)(d,2),b=u[0],j=u[1],f=Object(c.useState)(),h=Object(r.a)(f,2),p=h[0],O=h[1],m=Object(c.useMemo)((function(){return i.a.Children.toArray(n).filter(Boolean).map((function(e,n,r){function i(){var a=Object(x.b)().setCurrentStep;return Object(c.useEffect)((function(){var c=n===r.length-1;j((function(){return e.props.validate})),O(c?function(){return function(e){return t(e)}}:function(){return function(){a((function(e){return e+1}))}})}),[a]),e.props.children}return Object(g.jsx)(k,Object(a.a)(Object(a.a)({nextButtonType:"submit"},e.props),{},{children:Object(g.jsx)(i,{})}),e.props.label)}))}),[n,t]);return Object(g.jsx)(o.b,{onSubmit:function(e){return null===p||void 0===p?void 0:p(e)},initialValues:l,validate:function(e){return null===b||void 0===b?void 0:b(e)},children:function(e){var n=e.handleSubmit,t=e.submitting;return Object(g.jsx)("form",{"data-testid":s,onSubmit:n,children:Object(g.jsx)(w,{disableNextButton:t,nextButtonType:"submit",children:m})})}})};function S(e){return e.children}},1681:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var a=t(38),r=t(0),c=t(18),i="\naardvark\nalbatross\nalligator\nalpaca\nant\nanteater\nantelope\nape\narmadillo\nbaboon\nbadger\nbarracuda\nbat\nbear\nbeaver\nbee\nbinturong\nbird\nbison\nbluebird\nboar\nbobcat\nbuffalo\nbutterfly\ncamel\ncapybara\ncaracal\ncaribou\ncassowary\ncat\ncaterpillar\ncattle\nchameleon\nchamois\ncheetah\nchicken\nchimpanzee\nchinchilla\nchough\ncoati\ncobra\ncockroach\ncod\ncormorant\ncougar\ncoyote\ncrab\ncrane\ncricket\ncrocodile\ncrow\ncuckoo\ncurlew\ndeer\ndegu\ndhole\ndingo\ndinosaur\ndog\ndogfish\ndolphin\ndonkey\ndotterel\ndove\ndragonfly\nduck\ndugong\ndunlin\neagle\nechidna\neel\neland\nelephant\nelk\nemu\nfalcon\nferret\nfinch\nfish\nflamingo\nfly\nfox\nfrog\ngaur\ngazelle\ngecko\ngerbil\ngiraffe\ngnat\ngnu\ngoat\ngoldfinch\ngoosander\ngoose\ngorilla\ngoshawk\ngrasshopper\ngrouse\nguanaco\nguinea-pig\ngull\nhamster\nhare\nhawk\nhedgehog\nheron\nherring\nhippopotamus\nhoatzin\nhoopoe\nhornet\nhorse\nhuman\nhummingbird\nhyena\nibex\nibis\niguana\nimpala\njackal\njaguar\njay\njellyfish\njerboa\nkangaroo\nkingfisher\nkinkajou\nkoala\nkomodo-dragon\nkookaburra\nkouprey\nkudu\nlapwing\nlark\nlemur\nleopard\nlion\nlizard\nllama\nlobster\nlocust\nloris\nlouse\nlynx\nlyrebird\nmacaque\nmacaw\nmagpie\nmallard\nmammoth\nmanatee\nmandrill\nmarmoset\nmarmot\nmeerkat\nmink\nmole\nmongoose\nmonkey\nmoose\nmosquito\nmouse\nmyna\nnarwhal\nnewt\nnightingale\noctopus\nokapi\nopossum\norangutan\noryx\nostrich\notter\nowl\noyster\npanther\nparrot\npanda\npartridge\npeafowl\npelican\npenguin\npheasant\npig\npigeon\npika\npolar-bear\npony\nporcupine\nporpoise\npug\nquail\nquelea\nquetzal\nrabbit\nraccoon\nram\nrat\nraven\nred-deer\nred-panda\nreindeer\nrhea\nrhinoceros\nrook\nsalamander\nsalmon\nsand-dollar\nsandpiper\nsardine\nsea-lion\nseahorse\nseal\nshark\nsheep\nshrew\nsiamang\nskunk\nsloth\nsnail\nsnake\nspider\nsquid\nsquirrel\nstarling\nstegosaurus\nswan\ntamarin\ntapir\ntarsier\ntermite\ntiger\ntoad\ntoucan\nturaco\nturkey\nturtle\numbrellabird\nvinegaroon\nviper\nvulture\nwallaby\nwalrus\nwasp\nwaxwing\nweasel\nwhale\nwobbegong\nwolf\nwolverine\nwombat\nwoodpecker\nworm\nwren\nyak\nzebra\n".trim().split(/\s+/),o="\nadmirable\nenergetic\nlucky\naffable\nenjoyable\nmagnificent\naffectionate\nenthusiastic\nmarvelous\nagreeable\neuphoric\nmeritorious\namazing\nexcellent\nmerry\namiable\nexceptional\nmild-mannered\namused\nexcited\nnice\namusing\nextraordinary\nnoble\nanimated\nexultant\noutstanding\nappreciative\nfabulous\noverjoyed\nastonishing\nfaithful\npassionate\nauthentic\nfantastic\npeaceful\nbelievable\nfervent\nplacid\nbenevolent\nfortunate\npleasant\nblissful\nfriendly\npleasing\nbouncy\nfun\npleasurable\nbrilliant\ngenuine\npositive\nbubbly\nglad\npraiseworthy\nbuoyant\nglorious\nprominent\ncalm\ngood\nproud\ncharming\ngood-humored\nrelaxed\ncheerful\ngood-natured\nreliable\ncheery\ngracious\nrespectable\nclever\ngrateful\nsharp\ncomfortable\ngreat\nsincere\ncomical\nhappy\nspirited\ncommendable\nheartfelt\nsplendid\nconfident\nhonest\nsuperb\ncongenial\nhonorable\nsuperior\ncontent\nhopeful\nterrific\ncordial\nhumorous\nthankful\ncourteous\nincredible\ntremendous\ndedicated\ninspirational\ntriumphant\ndelighted\njolly\ntrustworthy\ndelightful\njovial\ntrusty\ndependable\njoyful\ntruthful\ndevoted\njoyous\nuplifting\ndocile\njubilant\nvictorious\ndynamic\nkeen\nvigorous\neager\nkind\nvirtuous\nearnest\nlaudable\nvivacious\neasygoing\nlaughing\nwhimsical\nebullient\nlikable\nwitty\necstatic\nlively\nwonderful\nelated\nlovely\nworthy\nemphatic\nloving\nzealous\nenchanting\nloyal\nzestful\n".trim().split(/\s+/),s=function(e){return e[Math.floor(e.length*Math.random())]},l=function(e){var n=Object(r.useState)(""),t=Object(a.a)(n,2),c=t[0],l=t[1];return Object(r.useEffect)((function(){l(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s(i),n=s(o);return"".concat(n,"-").concat(e)}(e))}),[e]),c},d=function(){var e=Object(c.o)().toLowerCase();return l("".concat(e,"-safe"))}},2615:function(e,n,t){"use strict";t.r(n);var a,r,c,i=t(26),o=t(17),s=t(8),l=t(1),d=t.n(l),u=t(12),b=t(38),j=t(0),f=t.n(j),h=t(271),p=t(1721),O=t.n(p),m=t(23),x=t(42),g=t(1968),v=t.n(g),w=t(59),y=t(24),k=t(1490),S=t(146),C=t(113),_=t(1408),N=t(27),T=t(13),E=t(1680),z=t(1359),I=t(108),F=t(87),A=t(1364),H=t(1369),L=t(88),B="customSafeName",P="suggestedSafeName",R="owners",M="newSafeThreshold",D="maxOwnerNumber",G="safeCreationSalt",q="gasLimit",Y="safeCreationTxHash",W="NEW_SAFE_PENDING_CREATION_STORAGE_KEY",V=t(1436),X=t(1424),Q=t(2);var J,Z,K,U,$,ee,ne,te,ae,re=function(){var e=Object(x.d)(L.d),n=Object(V.b)().setCurrentStep;Object(j.useEffect)((function(){e||n(0)}),[e,n]);var t=Object(z.d)().getState().values;return Object(Q.jsxs)(ce,{"data-testid":"create-safe-name-step",children:[Object(Q.jsx)(S.a,{margin:"md",children:Object(Q.jsxs)(F.a,{color:"primary",noMargin:!0,size:"lg",children:["You are about to create a new Gnosis Safe wallet with one or more owners. First, let's give your new wallet a name. This name is only stored locally and will never be shared with Gnosis or any third parties. The new Safe will ONLY be available on ",Object(Q.jsx)(X.a,{})]})}),Object(Q.jsx)("label",{htmlFor:B,children:"Name of the new Safe"}),Object(Q.jsx)(ie,{margin:"lg",children:Object(Q.jsx)(I.a,{xs:11,children:Object(Q.jsx)(A.a,{component:H.a,name:B,placeholder:t.suggestedSafeName,text:"Safe name",type:"text",testId:"create-safe-name-field"})})}),Object(Q.jsx)(S.a,{margin:"lg",children:Object(Q.jsxs)(F.a,{color:"primary",noMargin:!0,size:"lg",children:["By continuing you consent with the"," ",Object(Q.jsx)(oe,{href:"https://gnosis-safe.io/terms",rel:"noopener noreferrer",target:"_blank",children:"terms of use"})," ","and"," ",Object(Q.jsx)(oe,{href:"https://gnosis-safe.io/privacy",rel:"noopener noreferrer",target:"_blank",children:"privacy policy"}),". Most importantly, you confirm that your funds are held securely in the Gnosis Safe, a smart contract on the Ethereum blockchain. These funds cannot be accessed by Gnosis at any point."]})})]})},ce=Object(m.default)(S.a)(a||(a=Object(i.a)(["\n  padding: ",";\n"])),T.lg),ie=Object(m.default)(S.a)(r||(r=Object(i.a)(["\n  display: flex;\n  max-width: 460px;\n  margin-top: 12px;\n"]))),oe=m.default.a(c||(c=Object(i.a)(["\n  color: ",";\n"])),T.secondary),se=t(1681),le=t(93),de=t(1719),ue=t.n(de),be=t(568),je=t(567),fe=t(1437),he=t(235),pe=t(331),Oe=t(1400),me=t(167),xe=t(514),ge=t(1391),ve=t(324);var we,ye,ke,Se,Ce,_e=function(){var e=Object(x.d)(L.d),n=Object(V.b)().setCurrentStep;Object(j.useEffect)((function(){e||n(0)}),[e,n]);var t=Object(z.d)(),a=Object(x.d)(ve.f),r=t.getState().values,c=t.getState().errors||{},i=r.owners,o=r.newSafeThreshold,s=r.maxOwnerNumber;return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)(Te,{"data-testid":"create-safe-owners-confirmation-step",children:[Object(Q.jsx)(Ee,{color:"primary",noMargin:!0,size:"lg",children:"Your Safe will have one or more owners. We have prefilled the first owner with your connected wallet details, but you are free to change this to a different owner."}),Object(Q.jsxs)(F.a,{color:"primary",size:"lg",children:["Add additional owners (e.g. wallets of your teammates) and specify how many of them have to confirm a transaction before it gets executed. In general, the more confirmations required, the more secure your Safe is.",Object(Q.jsxs)(ze,{href:"https://help.gnosis-safe.io/en/articles/4772567-what-gnosis-safe- setup-should-i-use",target:"_blank",rel:"noreferrer",title:"Learn about which Safe setup to use",children:[Object(Q.jsx)(y.Text,{size:"xl",as:"span",color:"primary",children:"Learn about which Safe setup to use"}),Object(Q.jsx)(y.Icon,{size:"sm",type:"externalLink",color:"primary"})]}),". The new Safe will ONLY be available on ",Object(Q.jsx)(X.a,{})]})]}),Object(Q.jsx)(me.a,{}),Object(Q.jsxs)(Ie,{children:[Object(Q.jsx)(I.a,{xs:3,children:"NAME"}),Object(Q.jsx)(I.a,{xs:7,children:"ADDRESS"})]}),Object(Q.jsx)(me.a,{}),Object(Q.jsxs)(S.a,{margin:"md",padding:"md",children:[Object(Q.jsx)(Ie,{children:i.map((function(e){var n=e.nameFieldName,r=e.addressFieldName,s=c[r],l="owner-address-0"!==r;return Object(Q.jsxs)(j.Fragment,{children:[Object(Q.jsx)(I.a,{xs:3,children:Object(Q.jsx)(Fe,{component:H.a,name:n,placeholder:"Owner Name",text:"Owner Name",type:"text",validate:Object(xe.h)(0,50),testId:n})}),Object(Q.jsx)(I.a,{xs:7,children:Object(Q.jsx)(fe.a,{fieldMutator:function(e){var c;t.change(r,e);var i=null===(c=a[e])||void 0===c?void 0:c.name;i&&t.change(n,i)},inputAdornment:!s&&{endAdornment:Object(Q.jsx)(be.a,{position:"end",children:Object(Q.jsx)(Ae,{"data-testid":"".concat(r,"-valid-adornment")})})},name:r,placeholder:"Owner Address*",text:"Owner Address",testId:r})}),Object(Q.jsx)(He,{xs:1,center:"xs",middle:"xs",children:Object(Q.jsx)(ge.a,{handleScan:function(e,n){t.change(r,e),n()},testId:"".concat(r,"-scan-QR")})}),l&&Object(Q.jsx)(He,{xs:1,center:"xs",middle:"xs",children:Object(Q.jsx)(pe.a,{onClick:function(){return function(e){var n=e.addressFieldName,a=i.filter((function(e){return e.addressFieldName!==n}));t.change(R,a),o>a.length&&t.change(M,o-1)}({addressFieldName:r})},dataTestId:"".concat(r,"-remove-button"),children:Object(Q.jsx)(y.Icon,{size:"sm",type:"delete",color:"icon",tooltip:"Delete Owner"})})})]},r)}))}),Object(Q.jsx)(Le,{align:"center",grow:!0,children:Object(Q.jsx)(he.a,{color:"secondary","data-testid":"add-new-owner",onClick:function(){var e={nameFieldName:"owner-name-".concat(s),addressFieldName:"owner-address-".concat(s)};t.change(R,[].concat(Object(le.a)(i),[e]));var n=s+1;t.change(D,n)},children:Object(Q.jsx)(F.a,{noMargin:!0,size:"lg",children:"+ Add another owner"})})}),Object(Q.jsxs)(Te,{children:[Object(Q.jsx)(S.a,{children:Object(Q.jsx)(F.a,{children:"Any transaction requires the confirmation of:"})}),Object(Q.jsxs)(Le,{align:"center",grow:!0,children:[Object(Q.jsx)(I.a,{xs:1,children:Object(Q.jsx)(A.a,{component:Oe.a,"data-testid":"threshold-selector-input",name:M,validate:Object(xe.d)(xe.p,Object(xe.i)(1)),children:i.map((function(e,n){return Object(Q.jsx)(je.a,{value:n+1,"data-testid":"threshold-selector-option-".concat(n+1),children:n+1},"threshold-selector-option-".concat(n))}))})}),Object(Q.jsx)(I.a,{xs:11,children:Object(Q.jsxs)(Be,{noMargin:!0,children:["out of ",i.length," owner(s)"]})})]})]})]})]})},Ne=function(e){var n={},t=e.owners,a=e.newSafeThreshold,r=t.map((function(n){var t=n.addressFieldName;return e[t]}));return t.forEach((function(t,a){var c=t.addressFieldName,i=e[c];r.slice(0,a).includes(i)&&(n[c]=xe.a)})),!!a&&a<=t.length||(n.newSafeThreshold=xe.b),n},Te=Object(m.default)(S.a)(J||(J=Object(i.a)(["\n  padding: ",";\n"])),T.lg),Ee=Object(m.default)(F.a)(Z||(Z=Object(i.a)(["\n  margin-bottom: 12px;\n"]))),ze=Object(m.default)(y.Link)(K||(K=Object(i.a)(["\n  padding: 0 ",";\n  & svg {\n    position: relative;\n    top: 1px;\n    left: ",";\n    height: 14px;\n    width: 14px;\n  }\n"])),T.xs,T.xs),Ie=Object(m.default)(C.a)(U||(U=Object(i.a)(["\n  padding: "," ",";\n  font-size: ",";\n  color: ",";\n"])),T.sm,T.lg,T.extraSmallFontSize,T.disabled),Fe=Object(m.default)(A.a)($||($=Object(i.a)(["\n  margin-right: ",";\n  margin-bottom: ",";\n"])),T.sm,T.sm),Ae=Object(m.default)(ue.a)(ee||(ee=Object(i.a)(["\n  color: #03ae60;\n  height: 20px;\n"]))),He=Object(m.default)(I.a)(ne||(ne=Object(i.a)(["\n  height: 56px;\n  max-width: 32px;\n  cursor: pointer;\n"]))),Le=Object(m.default)(C.a)(te||(te=Object(i.a)(["\n  justify-content: center;\n"]))),Be=Object(m.default)(F.a)(ae||(ae=Object(i.a)(["\n  padding-left: 12px;\n"]))),Pe=t(570),Re=t(18),Me=t(110),De=t(280),Ge=t(241),qe=t(94),Ye=function(){var e=Object(u.a)(d.a.mark((function e(n,t,a,r){var c,i,o,s,l,u,j,f,h;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Object(Me.b)(r,t,n,a),Object(qe.c)()]);case 2:return c=e.sent,i=Object(b.a)(c,2),o=i[0],s=i[1],l=o*parseInt(s,10),u=Object(Re.n)(),j=u.nativeCoin,f=Object(De.a)(l,j.decimals),h=Object(Ge.a)(f),e.abrupt("return",{gasEstimation:o,gasCostFormatted:h,gasLimit:o});case 11:case"end":return e.stop()}}),e)})));return function(n,t,a,r){return e.apply(this,arguments)}}();var We=function(){var e=Object(x.d)(L.d),n=Object(V.b)().setCurrentStep;Object(j.useEffect)((function(){e||n(0)}),[e,n]);var t=Object(z.d)(),a=t.getState().values,r=a.suggestedSafeName,c=a.customSafeName||r,i=a.newSafeThreshold,o=a.owners,s=o.length,l=a.safeCreationSalt,d=function(e){var n=e.addresses,t=e.numOwners,a=e.safeCreationSalt,r=Object(j.useState)({gasEstimation:0,gasCostFormatted:"< 0.001",gasLimit:0}),c=Object(b.a)(r,2),i=c[0],o=c[1],s=Object(x.d)(L.g),l=JSON.stringify(n);return Object(j.useEffect)((function(){var e,n=JSON.parse(l);n.length&&t&&s&&(null===(e=Ye(s,t,a,n))||void 0===e||e.then(o))}),[t,a,l,s]),i}({addresses:o.map((function(e){var n=e.addressFieldName;return a[n]})),numOwners:s,safeCreationSalt:l}),u=d.gasCostFormatted,h=d.gasLimit,p=Object(Re.n)().nativeCoin;return Object(j.useEffect)((function(){t.change(q,h)}),[h,t]),Object(Q.jsxs)(C.a,{"data-testid":"create-safe-review-step",children:[Object(Q.jsx)(I.a,{xs:4,layout:"column",children:Object(Q.jsxs)(Ve,{children:[Object(Q.jsx)(S.a,{margin:"lg",children:Object(Q.jsx)(F.a,{color:"primary",noMargin:!0,size:"lg",children:"Details"})}),Object(Q.jsxs)(S.a,{margin:"lg",children:[Object(Q.jsx)(F.a,{color:"disabled",noMargin:!0,size:"sm",children:"Name of new Safe"}),Object(Q.jsx)(Xe,{color:"primary",noMargin:!0,size:"md",weight:"bolder","data-testid":"create-safe-review-safe-name",children:c})]}),Object(Q.jsxs)(S.a,{margin:"lg",children:[Object(Q.jsx)(F.a,{color:"disabled",noMargin:!0,size:"sm",children:"Any transaction requires the confirmation of:"}),Object(Q.jsx)(F.a,{color:"primary",noMargin:!0,size:"md",weight:"bolder","data-testid":"create-safe-review-threshold-label",children:"".concat(i," out of ").concat(s," owners")})]})]})}),Object(Q.jsx)(I.a,{layout:"column",xs:8,children:Object(Q.jsxs)(Pe.a,{children:[Object(Q.jsx)(Qe,{children:Object(Q.jsx)(F.a,{color:"primary",noMargin:!0,size:"lg",children:"".concat(s," Safe owners")})}),Object(Q.jsx)(me.a,{}),o.map((function(e){var n=e.nameFieldName,t=e.addressFieldName,r=a[n],c=a[t];return Object(Q.jsxs)(f.a.Fragment,{children:[Object(Q.jsx)(Je,{children:Object(Q.jsx)(I.a,{align:"center",xs:12,"data-testid":"create-safe-owner-details-".concat(c),children:Object(Q.jsx)(y.EthHashInfo,{hash:c,name:r,showAvatar:!0,showCopyBtn:!0,explorerUrl:Object(Re.f)(c)})})}),Object(Q.jsx)(me.a,{})]},"owner-".concat(t))}))]})}),Object(Q.jsx)(Ze,{align:"center",children:Object(Q.jsxs)(F.a,{color:"primary",noMargin:!0,size:"lg",children:["You're about to create a new Safe on ",Object(Q.jsx)(X.a,{})," and will have to confirm a transaction with your currently connected wallet. The creation will cost approximately ",u," ",p.name,". The exact amount will be determined by your wallet."]})})]})},Ve=Object(m.default)(S.a)(we||(we=Object(i.a)(["\n  padding: ",";\n  border-right: solid 1px ",";\n  height: 100%;\n"])),T.lg,T.border),Xe=Object(m.default)(F.a)(ye||(ye=Object(i.a)(["\n  text-overflow: ellipsis;\n  overflow: hidden;\n"]))),Qe=Object(m.default)(S.a)(ke||(ke=Object(i.a)(["\n  padding: ",";\n"])),T.lg),Je=Object(m.default)(C.a)(Se||(Se=Object(i.a)(["\n  align-items: center;\n  min-width: fit-content;\n  padding: ",";\n  padding-left: ",";\n"])),T.sm,T.lg),Ze=Object(m.default)(C.a)(Ce||(Ce=Object(i.a)(["\n  background-colo: ",";\n  padding: ",";\n  text-align: center;\n"])),T.background,T.lg),Ke=t(82),Ue=t(1971),$e=t(31),en=t(45),nn=t(109),tn=t(22);function an(e){return rn.apply(this,arguments)}function rn(){return(rn=Object(u.a)(d.a.mark((function e(n){var t,a,r,c,i,o,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.sender,a=n.hash,r=n.nonce,c=n.data,i=Object($e.h)(),e.next=4,i.eth.getBlock("latest",!0);case 4:return o=e.sent,s=o.transactions.find((function(e){return Object(en.f)(e.from,t)&&e.nonce===r&&!Object(nn.a)(e.hash,a)&&Object(nn.a)(e.input,c)})),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var cn,on,sn,ln,dn,un=function e(n,t){var a=n.sender,r=n.hash,c=n.data,i=n.nonce,o=n.gasPrice,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,b=Object($e.h)();return new Promise((function(n,j){var f,h=(t||{}).maxRetries;if(l>(void 0===h?720:h))j(new tn.a(tn.b._805,"max retries reached"));else{var p=function(){var f=Object(u.a)(d.a.mark((function u(){var f,h,p,O,m;return d.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:if(null!=i&&null!=o){d.next=12;break}return f={sender:a,hash:r,data:c},d.prev=2,d.next=5,b.eth.getTransaction(r);case 5:(h=d.sent)&&(f=Object(s.a)(Object(s.a)({},f),{},{nonce:h.nonce,gasPrice:h.gasPrice})),d.next=11;break;case 9:d.prev=9,d.t0=d.catch(2);case 11:return d.abrupt("return",e(f,t,l+1).then(n).catch(j));case 12:return d.prev=12,d.next=15,b.eth.getTransactionReceipt(r);case 15:if(!(p=d.sent)){d.next=18;break}return d.abrupt("return",n(p));case 18:d.next=22;break;case 20:d.prev=20,d.t1=d.catch(12);case 22:return d.prev=22,d.next=25,an({sender:a,hash:r,nonce:i,data:c});case 25:if(!(O=d.sent)){d.next=33;break}return d.next=29,b.eth.getTransactionReceipt(O.hash);case 29:if(!(m=d.sent)){d.next=32;break}return d.abrupt("return",n(m));case 32:return d.abrupt("return",e({sender:a,nonce:i,hash:O.hash,data:O.input,gasPrice:O.gasPrice},t,l+1).then(n).catch(j));case 33:d.next=37;break;case 35:d.prev=35,d.t2=d.catch(22);case 37:e({sender:a,hash:r,data:c,nonce:i,gasPrice:o},t,l+1).then(n).catch(j);case 38:case"end":return d.stop()}}),u,null,[[2,9],[12,20],[22,35]])})));return function(){return f.apply(this,arguments)}}();setTimeout(p,null!==(f=null===t||void 0===t?void 0:t.delay)&&void 0!==f?f:5e3)}}))},bn=Object(m.default)(y.Text)(cn||(cn=Object(i.a)(["\n  display: inline-flex;\n  a {\n    margin-left: 4px;\n  }\n  svg {\n    position: relative;\n    top: 4px;\n    left: 4px;\n  }\n"]))),jn=Object(m.default)(he.a)(on||(on=Object(i.a)(["\n  margin-right: 16px;\n"]))),fn=m.default.div(sn||(sn=Object(i.a)(["\n  width: 100%;\n  height: 76px;\n\n  button {\n    margin-top: 24px;\n  }\n"]))),hn=m.default.span(ln||(ln=Object(i.a)(["\n  margin-left: 10px;\n"]))),pn=function(e){var n=e.safeCreationTxHash,t=Object(Re.f)(n)(),a=t.url,r=t.alt,c=/(http|https):\/\/(\w+\.\w+)\/.*/i.exec(a),i=null!==c?c[2]:"Network Explorer";return Object(Q.jsxs)("span",{children:[Object(Q.jsx)(y.Text,{size:"xl",children:"This process should take a couple of minutes."}),Object(Q.jsxs)(bn,{size:"xl",children:["Follow the progress on"," ",Object(Q.jsxs)(y.Link,{href:a,"aria-label":r,target:"_blank",rel:"noopener noreferrer","data-testid":"safe-create-explorer-link",title:"More info about this in Etherscan",children:[Object(Q.jsx)(y.Text,{size:"xl",as:"span",color:"primary",children:i}),Object(Q.jsx)(y.Icon,{size:"sm",type:"externalLink",color:"primary"})]})]})]})},On=function(e){var n=e.onCancel,t=e.onRetry;return Object(Q.jsxs)(fn,{children:[Object(Q.jsx)(me.a,{}),Object(Q.jsx)(jn,{onClick:n,variant:"contained",children:"Cancel"}),Object(Q.jsx)(he.a,{color:"primary",onClick:t,variant:"contained",children:"Retry"})]})},mn=[{id:"1",label:"Waiting for transaction confirmation",description:void 0,instruction:"Please confirm the Safe creation in your wallet",footerComponent:null},{id:"2",label:"Transaction submitted",description:void 0,instruction:"Please do not leave the page",footerComponent:pn},{id:"3",label:"Validating transaction",description:void 0,instruction:"Please do not leave the page",footerComponent:pn},{id:"4",label:"Deploying smart contract",description:void 0,instruction:"Please do not leave the page",footerComponent:pn},{id:"5",label:"Generating your Safe",description:void 0,instruction:"Please do not leave the page",footerComponent:pn},{id:"6",label:"Success",description:"Your Safe was created successfully",instruction:void 0,footerComponent:function(e){var n=e.continueButtonDisabled,t=e.onContinue;return Object(Q.jsxs)(fn,{children:[Object(Q.jsx)(me.a,{}),Object(Q.jsx)(he.a,{color:"primary",disabled:n,onClick:t,variant:"contained","data-testid":"continue-btn",children:n?Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(y.Loader,{size:"xs",color:"secondaryLight"})," ",Object(Q.jsx)(hn,{children:"Loading jupisky"})]}):Object(Q.jsx)(Q.Fragment,{children:"Get started"})})]})}}],xn=t(126),gn=t.p+"static/media/safe-created.99c91369.svg",vn=t.p+"static/media/vault-error.17985c86.svg",wn=t.p+"static/media/creation-process.b0164935.gif",yn=t(81),kn=t(111),Sn=t(1979),Cn=t.n(Sn),_n=t(134),Nn=t(63),Tn=t(34);Cn.a.addABI(null===(dn=Object(_n.getProxyFactoryDeployment)({version:Tn.k}))||void 0===dn?void 0:dn.abi);var En,zn,In,Fn,An,Hn,Ln,Bn,Pn,Rn,Mn,Dn,Gn,qn,Yn=function(e){var n,t=Cn.a.decodeLogs(e).find((function(e){return"ProxyCreation"===e.name})),a=null===t||void 0===t||null===(n=t.events)||void 0===n?void 0:n.find((function(e){return"proxy"===e.name}));return Object(Nn.a)((null===a||void 0===a?void 0:a.value)||"")},Wn=function(e){var n,t=e.creationTxHash,a=e.onCancel,r=e.onRetry,c=e.onSuccess,i=e.submittedPromise,o=Object(j.useState)(!0),l=Object(b.a)(o,2),f=l[0],h=l[1],p=Object(j.useState)(0),O=Object(b.a)(p,2),m=O[0],g=O[1],v=Object(j.useState)(""),w=Object(b.a)(v,2),k=w[0],S=w[1],C=Object(j.useState)(""),_=Object(b.a)(C,2),N=_[0],T=_[1],E=Object(j.useState)(!1),z=Object(b.a)(E,2),I=z[0],F=z[1],A=Object(j.useState)(!1),H=Object(b.a)(A,2),B=H[0],P=H[1],R=Object(j.useState)(!1),M=Object(b.a)(R,2),D=M[0],G=M[1],q=Object(j.useState)(!1),Y=Object(b.a)(q,2),W=Y[0],V=Y[1],X=Object(x.d)(L.d),J=Object(x.c)(),Z=function(e){return 0===e}(m),K=Object(j.useCallback)((function(e){Object($e.i)(e)?J(Object(kn.b)(Object(s.a)({},yn.a.TX_PENDING_MSG))):J(Object(kn.b)(Object(s.a)({},yn.a.CREATE_SAFE_FAILED_MSG)))}),[J]),U=Object(j.useCallback)((function(e){P(!1),G(!1),V(!1),F(!0),Object(tn.c)(tn.b._800,e.message),K(e)}),[P,G,V,F,K]),$=function(){g(0),F(!1),r()};return Object(j.useEffect)((function(){var e=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Me.m)();case 2:h(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();X&&e()}),[X]),Object(j.useEffect)((function(){if(void 0!==i){var e=function(){var e=Object(u.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(0),e.prev=1,e.next=4,i;case 4:n=e.sent,S(n.transactionHash),g(1),P(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),U(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();e()}}),[i,U]),Object(j.useEffect)((function(){void 0!==t&&(S(t),g(1),P(!0))}),[t]),Object(j.useEffect)((function(){if(B){var e=function(){var e=Object(u.a)(d.a.mark((function e(n){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object($e.g)(),e.next=3,t.eth.getTransaction(n);case 3:if(null!==e.sent.blockNumber){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,t.eth.getTransactionReceipt(n);case 8:if(e.sent.status){e.next=11;break}throw Error("TX status reverted");case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),n=setInterval(Object(u.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(m<4&&g(m+1),void 0!==i&&i.then((function(){g(4),G(!0),P(!1)})),void 0===t){n.next=13;break}return n.prev=3,n.next=6,e(t);case 6:n.sent&&(g(4),G(!0),P(!1)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),U(n.t0);case 13:case"end":return n.stop()}}),n,null,[[3,10]])}))),3e3);return function(){clearInterval(n)}}}),[t,i,B,m,I,U]),Object(j.useEffect)((function(){var e,n=function(){var n=Object(u.a)(d.a.mark((function n(t){var a,r,c;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a=Object($e.g)(),n.next=4,a.eth.getTransactionReceipt(t);case 4:r=n.sent,c=r.events?r.events.ProxyCreation.returnValues.proxy:Yn(r.logs),T(c),e=setInterval(Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.eth.getCode(c);case 2:e.sent!==qe.a&&g(5);case 4:case"end":return e.stop()}}),e)}))),1e3),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),U(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}();if(D)return"string"===typeof k&&n(k),function(){clearInterval(e)}}),[k,D,U]),f||void 0===m?Object(Q.jsx)(Vn,{"data-testid":"create-safe-loader",children:Object(Q.jsx)(y.Loader,{size:"md"})}):(I?n=On:mn[m].footerComponent&&(n=mn[m].footerComponent),Object(Q.jsxs)(Xn,{children:[Object(Q.jsx)(Qn,{tag:"h2",testId:"safe-creation-process-title",children:"Safe creation process"}),Object(Q.jsx)(Jn,{children:Object(Q.jsx)(y.Stepper,{activeStepIndex:m,error:I,orientation:"vertical",steps:mn})}),Object(Q.jsxs)(Zn,{children:[Object(Q.jsx)($n,{children:Object(Q.jsx)(xn.a,{alt:"Vault",height:92,src:I?vn:m<=4?wn:gn})}),Object(Q.jsx)(et,{children:Object(Q.jsx)(Kn,{children:mn[m].description||mn[m].label})}),mn[m].instruction&&Object(Q.jsx)(nt,{children:Object(Q.jsx)(Un,{color:"primary",inversecolors:Z.toString(),noMargin:!0,size:"md",$stepIndex:m,children:I?"You can Cancel or Retry the Safe creation process.":mn[m].instruction})}),Object(Q.jsx)(tt,{children:n?Object(Q.jsx)(n,{continueButtonDisabled:W,onCancel:a,onClick:$,onContinue:function(){V(!0),c(N)},onRetry:$,safeCreationTxHash:k}):null})]}),0!==m&&Object(Q.jsx)(at,{color:"primary",minWidth:140,onClick:a,"data-testid":"safe-creation-back-btn",children:"Back"})]}))},Vn=m.default.div(En||(En=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n"]))),Xn=m.default.div(zn||(zn=Object(i.a)(["\n  display: grid;\n  grid-template-columns: 250px auto;\n  grid-template-rows: 43px auto;\n  margin-bottom: 30px;\n"]))),Qn=Object(m.default)(_.a)(In||(In=Object(i.a)(["\n  grid-column: 1/3;\n  grid-row: 1;\n  margin: 7px 0 0 0 !important;\n"]))),Jn=m.default.div(Fn||(Fn=Object(i.a)(["\n  grid-column: 1;\n  grid-row: 2;\n"]))),Zn=m.default.div(An||(An=Object(i.a)(["\n  grid-column: 2;\n  grid-row: 2;\n  text-align: center;\n  background-color: ",";\n  border-radius: 5px;\n  min-width: 700px;\n  padding-top: 70px;\n  box-shadow: 0 0 10px 0 rgba(33, 48, 77, 0.1);\n\n  display: grid;\n  grid-template-rows: 100px 50px 110px 1fr;\n"])),(function(e){return e.theme.colors.white})),Kn=m.default.div(Hn||(Hn=Object(i.a)(["\n  font-size: 20px;\n  padding-top: 10px;\n"]))),Un=Object(m.default)(F.a)(Ln||(Ln=Object(i.a)(["\n  background-color: ",";\n  color: ",";\n  padding: 28px;\n  font-size: 20px;\n  margin-bottom: 16px;\n  transition: color 0.3s ease-in-out, background-color 0.3s ease-in-out;\n"])),(function(e){return 0===e.$stepIndex?T.connected:T.background}),(function(e){var n=e.theme;return 0===e.$stepIndex?n.colors.white:T.fontColor})),$n=m.default.div(Bn||(Bn=Object(i.a)(["\n  grid-row: 1;\n"]))),et=m.default.div(Pn||(Pn=Object(i.a)(["\n  grid-row: 2;\n"]))),nt=m.default.div(Rn||(Rn=Object(i.a)(["\n  grid-row: 3;\n  margin: 27px 0;\n"]))),tt=m.default.div(Mn||(Mn=Object(i.a)(["\n  grid-row: 4;\n\n  padding: 10px 0;\n  display: flex;\n  justify-content: center;\n  align-items: flex-end;\n"]))),at=Object(m.default)(he.a)(Dn||(Dn=Object(i.a)(["\n  grid-column: 2;\n  margin: 20px auto 0;\n"]))),rt=t(181),ct=function(e){return new Promise((function(n){return setTimeout(n,e)}))},it=t(214),ot=t(302),st=t(339),lt=t(101),dt=t(207),ut=function(){N.p.push(N.i)};var bt,jt,ft,ht,pt,Ot=function(){var e=Object(j.useState)(),n=Object(b.a)(e,2),t=n[0],a=n[1],r=Object(j.useState)(),c=Object(b.a)(r,2),i=c[0],l=c[1],f=Object(rt.g)().trackEvent,h=Object(x.c)(),p=Object(x.d)(L.g),O=Object(j.useState)(!1),m=Object(b.a)(O,2),g=m[0],v=m[1],w=Object(j.useState)({safeAddress:""}),k=Object(b.a)(w,2),S=k[0],C=k[1],_=Object(j.useCallback)(Object(u.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ke.b)(W);case 2:if(n=e.sent){e.next=6;break}return ut(),e.abrupt("return");case 6:a(n.safeCreationTxHash),l(new Promise((function(e,t){var a=n.newSafeThreshold,r=n.owners.map((function(e){var t=e.addressFieldName;return n[t]})),c=n.safeCreationSalt,i=n.gasLimit,l=Object(Me.h)(r,a,c);l.send({from:p,gas:i}).once("transactionHash",(function(a){Object(Ke.e)(W,Object(s.a)(Object(o.a)({},Y,a),n)),un({sender:p,hash:a,data:l.encodeABI()}).then((function(n){console.log("Speed up tx mined:",n),e(n)})).catch((function(e){t(e)}))})).then((function(n){console.log("First tx mined:",n),e(n)})).catch((function(e){t(e)}))})));case 8:case"end":return e.stop()}}),e)}))),[p]);Object(j.useEffect)((function(){var e=function(){var e=Object(u.a)(d.a.mark((function e(){var n,t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ke.b)(W);case 2:if(n=e.sent){e.next=6;break}return ut(),e.abrupt("return");case 6:(t=n.safeCreationTxHash)?a(t):_();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[_]);var T=function(){var e=Object(u.a)(d.a.mark((function e(n){var t,a,r,c,i,o,s,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ke.b)(W);case 2:if(t=e.sent){e.next=6;break}return ut(),e.abrupt("return");case 6:return a=t.safeCreationTxHash,r=t.suggestedSafeName,c=t.customSafeName||r,i=t.owners,o=i.map((function(e){var n=e.nameFieldName,a=e.addressFieldName;return Object(dt.b)({address:t[a],name:t[n]})})),s=Object(dt.b)({address:n,name:c}),e.next=14,h(Object(lt.f)([].concat(Object(le.a)(o),[s])));case 14:return f(rt.d.CREATE_SAFE),e.next=17,ct(5e3);case 17:return e.next=19,Object(Ue.backOff)((function(){return Object(ot.a)(n)}),{startingDelay:750,retry:function(e){return console.info("waiting for client-gateway to provide safe information",e),!0}});case 19:return e.next=21,Object(st.a)(n);case 21:return l=e.sent,e.next=24,h(Object(it.b)(l));case 24:v(!0),C({safeAddress:l.address,safeName:c,safeCreationTxHash:a});case 26:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ke.b)(W);case 2:if(n=e.sent){e.next=6;break}return ut(),e.abrupt("return");case 6:return a(void 0),delete n.safeCreationTxHash,e.next=10,Object(Ke.e)(W,n);case 10:_();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function z(){return I.apply(this,arguments)}function I(){return I=Object(u.a)(d.a.mark((function e(){var n,t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ke.c)(W);case 2:n=S.safeName,t=S.safeCreationTxHash,a=S.safeAddress,N.p.push({pathname:Object(N.m)(N.g.ASSETS_BALANCES,{shortName:Object(Re.e)(),safeAddress:a}),state:{name:n,tx:t}});case 4:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(Wn,{creationTxHash:t,onCancel:function(){Object(Ke.c)(W),ut()},onRetry:E,onSuccess:T,submittedPromise:i}),g&&Object(Q.jsx)(y.GenericModal,{onClose:z,title:"Safe Created!",body:Object(Q.jsxs)("div",{"data-testid":"safe-created-popup",children:[Object(Q.jsxs)(F.a,{children:["You just created a new Safe on ",Object(Q.jsx)(X.a,{})]}),Object(Q.jsxs)(F.a,{children:["You will only be able to use this Safe on ",Object(Q.jsx)(X.a,{})]}),Object(Q.jsxs)(F.a,{children:["If you send assets on other networks to this address,"," ",Object(Q.jsx)(xt,{children:"you will not be able to access them"})]})]}),footer:Object(Q.jsx)(mt,{children:Object(Q.jsx)(he.a,{testId:"safe-created-button",onClick:z,color:"primary",type:"button",size:"small",variant:"contained",children:"Continue"})})})]})},mt=m.default.div(Gn||(Gn=Object(i.a)(["\n  text-align: center;\n"]))),xt=m.default.span(qn||(qn=Object(i.a)(["\n  font-weight: ",";\n"])),T.boldFont),gt=t(2607),vt=t(2608),wt=t(515),yt=t.n(wt),kt=t(2609),St=t(1346),Ct=t(202),_t=t(357),Nt=t(191);var Tt,Et,zt=Object(m.default)(S.a)(bt||(bt=Object(i.a)(["\n  padding: ",";\n"])),T.lg),It=m.default.div(jt||(jt=Object(i.a)(["\n  margin: ",";\n  display: flex;\n  justify-content: center;\n"])),T.lg),Ft=Object(m.default)(vt.a)(ft||(ft=Object(i.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 16px 24px;\n"]))),At=Object(m.default)(kt.a)(ht||(ht=Object(i.a)(["\n  min-width: 500px;\n"]))),Ht=m.default.div(pt||(pt=Object(i.a)(["\n  display: flex;\n  margin: "," auto;\n  cursor: pointer;\n  max-width: 50%;\n\n  & > span {\n    font-size: 13px;\n  }\n"])),T.lg),Lt=function(){var e=Object(j.useState)(!1),n=Object(b.a)(e,2),t=n[0],a=n[1],r=!!Object(x.d)(L.d);function c(){a(!0)}var i=Object(Re.q)(),o=Object(j.useCallback)((function(e){Object(Nt.a)(e),a(!1)}),[]);return Object(Q.jsxs)(zt,{"data-testid":"select-network-step",children:[r?Object(Q.jsxs)(F.a,{color:"primary",noMargin:!0,size:"lg",children:["Select network on which to create your Safe. You are currently connected to"," ",Object(Q.jsx)(X.a,{onClick:c})]}):Object(Q.jsx)(F.a,{color:"primary",noMargin:!0,size:"lg",children:"In order to select the network to create your Safe, you need to connect a wallet"}),Object(Q.jsx)(It,{children:r?Object(Q.jsx)(y.ButtonLink,{type:"button",onClick:c,color:"primary","data-testid":"switch-network-link",children:"Switch Network"}):Object(Q.jsx)(_t.a,{"data-testid":"heading-connect-btn"})}),Object(Q.jsxs)(gt.a,{onClose:function(){return a(!1)},"aria-labelledby":"select-network","data-testid":"select-network-popup",open:t,children:[Object(Q.jsxs)(Ft,{disableTypography:!0,children:[Object(Q.jsx)(Ct.a,{variant:"h5",children:"Select Network"}),Object(Q.jsx)(h.a,{"aria-label":"close",onClick:function(){return a(!1)},children:Object(Q.jsx)(yt.a,{})})]}),Object(Q.jsx)(At,{dividers:!0,children:Object(Q.jsx)(St.a,{component:"div",children:i.map((function(e){return Object(Q.jsx)(Ht,{role:"button",onClick:function(){return o(e.id)},children:Object(Q.jsx)(X.a,{networkInfo:e,flexGrow:!0})},e.id)}))})})]})]})};n.default=function(){var e=Object(j.useState)(),n=Object(b.a)(e,2),t=n[0],a=n[1],r=Object(j.useState)(!0),c=Object(b.a)(r,2),i=c[0],l=c[1],f=Object(x.d)(L.d);Object(j.useEffect)((function(){function e(){return e=Object(u.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,Object(Ke.b)(W);case 3:if(n=e.sent,!f){e.next=8;break}return e.next=7,Object(Me.m)();case 7:a(n);case 8:l(!1);case 9:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[f]);var h=Object(x.d)(L.g),p=Object(x.d)(ve.f),m=Object(w.i)(),g=Object(se.a)();function T(){return(T=Object(u.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ke.e)(W,Object(s.a)({},n));case 2:a(n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z=Object(j.useState)(),I=Object(b.a)(z,2),F=I[0],A=I[1];return Object(j.useEffect)((function(){if(f&&h){var e=function(e,n,t,a){var r,c,i,l=v.a.parse(t.search,{arrayFormat:"comma"}),d=l.name,u=l.owneraddresses,b=l.ownernames,j=l.threshold,f=!!u,h=Array.isArray(u)?u:[u],p=f?h:[e],O=Array.isArray(b)?b:[b],m=[(null===(r=n[e])||void 0===r?void 0:r.name)||"My Wallet"],x=f?O:m,g=Number(j),w=j&&!Number.isNaN(j)&&g<=p.length&&g>0;return Object(s.a)(Object(s.a)(Object(s.a)((c={},Object(o.a)(c,P,a),Object(o.a)(c,B,d),Object(o.a)(c,M,w?j:1),Object(o.a)(c,R,p.map((function(e,n){return{nameFieldName:"owner-name-".concat(n),addressFieldName:"owner-address-".concat(n)}}))),c),p.reduce((function(e,n,t){return Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},"owner-address-".concat(t),n))}),{})),x.reduce((function(e,n,t){return Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},"owner-name-".concat(t),n))}),{})),{},(i={},Object(o.a)(i,D,p.length),Object(o.a)(i,G,Date.now()),i))}(h,p,m,g);A(e)}}),[f,h,p,m,g]),i?Object(Q.jsx)(Bt,{"data-testid":"create-safe-loader",children:Object(Q.jsx)(y.Loader,{size:"md"})}):t?Object(Q.jsx)(Ot,{}):Object(Q.jsx)(k.a,{children:Object(Q.jsxs)(S.a,{children:[Object(Q.jsxs)(C.a,{align:"center",children:[Object(Q.jsx)(Pt,{disableRipple:!0,onClick:N.p.goBack,children:Object(Q.jsx)(O.a,{})}),Object(Q.jsx)(_.a,{tag:"h2",children:"Create new Safe"})]}),Object(Q.jsxs)(E.b,{initialValues:F,onSubmit:function(e){return T.apply(this,arguments)},testId:"create-safe-form",children:[Object(Q.jsx)(E.a,{label:"Connect wallet & select network",nextButtonLabel:"Continue",disableNextButton:!f,children:Object(Q.jsx)(Lt,{})}),Object(Q.jsx)(E.a,{label:"Name",nextButtonLabel:"Continue",children:Object(Q.jsx)(re,{})}),Object(Q.jsx)(E.a,{label:"Owners and Confirmations",nextButtonLabel:"Continue",validate:Ne,children:Object(Q.jsx)(_e,{})}),Object(Q.jsx)(E.a,{label:"Review",nextButtonLabel:"Create",children:Object(Q.jsx)(We,{})})]})]})})};var Bt=m.default.div(Tt||(Tt=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n"]))),Pt=Object(m.default)(h.a)(Et||(Et=Object(i.a)(["\n  color: ",";\n  padding: ",";\n  margin-right: 5px;\n"])),T.secondary,T.sm)}}]);
//# sourceMappingURL=36.416555c3.chunk.js.map