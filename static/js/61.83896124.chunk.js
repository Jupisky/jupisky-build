(this["webpackJsonpjupisky-ui"]=this["webpackJsonpjupisky-ui"]||[]).push([[61],{1408:function(e,t,a){"use strict";var n=a(8),r=a(60),i=a(135),c=a.n(i),s=a(0),o=a(1414),d=a.n(o),l=a(71),u=["align","children","className","color","margin","tag","testId","truncate"],b=c.a.bind(d.a);t.a=function(e){var t=e.align,a=e.children,i=e.className,c=void 0===i?"":i,o=e.color,d=e.margin,j=e.tag,g=e.testId,f=e.truncate,O=Object(r.a)(e,u),h=b(c,"heading",t,j,d?Object(l.a)(d,"margin"):void 0,o,{truncate:f});return s.createElement(j,Object(n.a)(Object(n.a)({},O),{},{className:h,"data-testid":g||""}),a)}},1414:function(e,t,a){e.exports={heading:"Heading_heading__1O94U",h1:"Heading_h1__2KSmw",h2:"Heading_h2__1GfC1",h3:"Heading_h3__2PASY",h4:"Heading_h4__1UTeK",center:"Heading_center__2STnO",right:"Heading_right__23ICA",truncate:"Heading_truncate__3zA7Q",marginSm:"Heading_marginSm__1Mt0w",marginMd:"Heading_marginMd__19PYc",marginLg:"Heading_marginLg__2mXa8",marginXl:"Heading_marginXl__2nHIr",soft:"Heading_soft__1wR_E",medium:"Heading_medium__2xEQK",dark:"Heading_dark__1bnh6",fancy:"Heading_fancy__TH_ww",warning:"Heading_warning__17e1e",primary:"Heading_primary__2aWUJ",secondary:"Heading_secondary__3snnz",disabled:"Heading_disabled__1I8Tx",error:"Heading_error__hGPs_",white:"Heading_white__1V7Eu"}},2620:function(e,t,a){"use strict";a.r(t),a.d(t,"SAFE_NAME_INPUT_TEST_ID",(function(){return le})),a.d(t,"SAFE_NAME_SUBMIT_BTN_TEST_ID",(function(){return ue})),a.d(t,"SAFE_NAME_UPDATE_SAFE_BTN_TEST_ID",(function(){return be}));var n,r=a(1),i=a.n(r),c=a(12),s=a(38),o=a(26),d=a(24),l=a(390),u=a(0),b=a(42),j=a(23),g=a(492),f=a(13),O=Object(g.a)({formContainer:{padding:f.lg},root:{display:"flex",maxWidth:"460px"},saveBtn:{fontWeight:f.boldFont,marginRight:f.sm},controlsRow:{borderTop:"2px solid ".concat(f.border),padding:f.lg,marginTop:f.sm}}),h=a(323),m=a(1376),_=a(146),p=a(235),x=a(1408),v=a(87),C=a(113),E=a(207),S=a(101),T=a(111),w=a(81),I=a(45),N=a(61),k=a(47),A=Object(l.a)(Object(g.a)({modalContent:{padding:"".concat(f.md," ").concat(f.lg)},gasCostsContainer:{backgroundColor:f.background,padding:"0 ".concat(f.lg)}})),y=a(34),H=a(338),G=a(141),L=a.n(G),U=a(110),D=a(550),F=a(94),B=function(e,t){var a=Object(U.j)(),n=Object(U.d)(e,t).methods.changeMasterCopy(a).encodeABI(),r=function(e){var t=L()(y.k,">=1.1.0"),a=Object(U.c)(),n=Object(U.d)(e,y.k);return t?n.methods.setFallbackHandler(a).encodeABI():F.a}(e),i=[{to:e,value:"0",data:n},{to:e,value:"0",data:r}];return Object(D.a)(i)},M=a(430),P=a(1386),R=a(1377),V=a(1390),z=a(1383),W=a(1385),X=a(1368),J=a(2),K=function(e){var t=e.onClose,a=e.safeAddress,n=e.safeCurrentVersion,r=A(),i=Object(b.c)(),c=Object(u.useState)(F.a),o=Object(s.a)(c,2),d=o[0],l=o[1],j=Object(R.b)({txRecipient:Object(U.g)(),txData:d,txAmount:"0",operation:k.Operation.DELEGATE}),g=j.gasCostFormatted,f=j.txEstimationExecutionStatus,O=j.isExecution,m=j.isCreation,p=j.isOffChainSignature,x=j.gasPriceFormatted,E=j.gasLimit,S=j.gasEstimation,T=Object(V.a)(f),w=Object(s.a)(T,1)[0];Object(u.useEffect)((function(){var e=B(a,n);l(e)}),[a,n]);var I="Update Safe";return h.a.LOADING===w&&(I=f===R.a.LOADING?"Estimating":"Updating"),Object(J.jsx)(W.a,{isOffChainSignature:p,isExecution:O,ethGasLimit:E,ethGasPrice:x,safeTxGas:S.toString(),children:function(e,n){return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(X.a,{onClose:t,title:"Update safe version"}),Object(J.jsxs)(_.a,{className:r.modalContent,children:[Object(J.jsxs)(C.a,{children:[Object(J.jsx)(v.a,{noMargin:!0,children:"Update now to take advantage of new features and the highest security standards available."}),Object(J.jsxs)(v.a,{children:["To check details about updates added by this smart contract version please visit"," ",Object(J.jsx)(H.a,{target:"_blank",to:"https://github.com/gnosis/safe-contracts/releases/tag/v".concat(y.k),children:"latest Gnosis Safe contracts changelog"})]}),Object(J.jsx)(v.a,{noMargin:!0,children:"You will need to confirm this update just like any other transaction. This means other owners will have to confirm the update in case more than one confirmation is required for this Safe."}),Object(J.jsxs)(v.a,{children:[Object(J.jsx)("b",{children:"Warning"}),": this upgrade will invalidate all unexecuted transactions. This means you will be unable to access or execute them after the upgrade. Please make sure to execute any remaining transactions before upgrading."]})]}),Object(J.jsx)(z.a,{txParameters:e,onEdit:n,compact:!1,isTransactionCreation:m,isTransactionExecution:O,isOffChainSignature:p})]}),f===R.a.LOADING?null:Object(J.jsx)(_.a,{className:r.gasCostsContainer,children:Object(J.jsx)(P.a,{gasCostFormatted:g,isExecution:O,isCreation:m,isOffChainSignature:p,txEstimationExecutionStatus:f})}),Object(J.jsx)(h.b.Footer,{withoutBorder:w!==h.a.LOADING,children:Object(J.jsx)(h.b.Footer.Buttons,{cancelButtonProps:{onClick:t,text:"Cancel"},confirmButtonProps:{onClick:function(){return function(e){i(Object(M.b)({safeAddress:a,to:Object(U.g)(),valueInWei:"0",txData:d,txNonce:e.safeNonce,safeTxGas:e.safeTxGas,ethParameters:e,notifiedTransaction:"STANDARD_TX",operation:k.Operation.DELEGATE})),t()}(e)},status:w,text:I}})})]})}})},Y=a(234),Q=a(193),q=a(79),Z=a(181),$=a(187),ee=a.n($),te=a(18),ae=a(150),ne=a.n(ae);!function(e){e.GNOSIS="Gnosis",e.CIRCLES="Circles"}(n||(n={}));var re,ie,ce,se=function(e){var t=e.version.toLowerCase().includes(n.CIRCLES.toLowerCase()),a=e.version.indexOf("-");return{address:e.address,version:t?e.version.substring(0,a):e.version,deployer:t?n.CIRCLES:n.GNOSIS,deployerRepoUrl:t?"https://github.com/CirclesUBI/safe-contracts/releases":"https://github.com/gnosis/safe-contracts/releases"}},oe=ne()(Object(c.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(Object(te.w)(),"/about/master-copies/"),e.prev=1,e.next=4,ee.a.get(t);case 4:return a=e.sent,e.abrupt("return",a.data.map(se));case 8:e.prev=8,e.t0=e.catch(1),console.error("Fetching data from master-copies errored",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))),de=a(439),le="safe-name-input",ue="change-safe-name-btn",be="update-safe-name-btn",je=Object(l.a)(O),ge=Object(j.default)(d.Link)(re||(re=Object(o.a)(["\n  margin: 12px 0 0 0;\n"]))),fe=Object(j.default)(d.Icon)(ie||(ie=Object(o.a)(["\n  position: relative;\n  top: 3px;\n  left: 6px;\n"]))),Oe=Object(j.default)(v.a)(ce||(ce=Object(o.a)(["\n  margin-bottom: 0;\n"])));t.default=function(){var e,t=je(),a=Object(b.d)(Y.b),r=Object(b.d)(q.k),o=Object(b.d)(q.a),l=o.address,j=o.needsUpdate,g=o.currentVersion,f=o.chainId,O=void 0===f?Object(te.l)():f,k=(null===(e=Object(b.d)(q.o)[l])||void 0===e||e.name,Object(b.c)()),A=Object(Z.g)().trackEvent,y=Object(u.useState)(!1),H=Object(s.a)(y,2),G=H[0],L=H[1],D=Object(u.useState)(),F=Object(s.a)(D,2),B=F[0],M=F[1],P=function(){L((function(e){return!e}))},R=function(){L(!0)};return Object(u.useEffect)((function(){A(Z.c.DETAILS)}),[A]),Object(u.useEffect)((function(){var e=function(){var e=Object(c.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe();case 2:return t=e.sent,e.next=5,Object(U.e)(l);case 5:a=e.sent,n=null===t||void 0===t?void 0:t.find((function(e){return Object(I.f)(e.address,a)})),M(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();l&&e()}),[l]),Object(J.jsx)(m.a,{onSubmit:function(e){k(Object(S.b)(Object(E.b)({address:l,name:e.safeName}))),k(Object(Q.b)({address:l,loadedViaUrl:!1}));var t=Object(w.c)(N.a.SAFE_NAME_CHANGE_TX);k(Object(T.b)(Object(w.b)(t.afterExecution.noMoreConfirmationsNeeded)))},children:function(){return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)(_.a,{className:t.formContainer,children:[Object(J.jsx)(x.a,{tag:"h2",children:"Contract Version"}),Object(J.jsx)(C.a,{align:"end",grow:!0,children:Object(J.jsxs)(ge,{rel:"noreferrer noopener",target:"_blank",href:null===B||void 0===B?void 0:B.deployerRepoUrl,children:[Object(J.jsxs)(d.Text,{size:"xl",as:"span",color:"primary",children:[B?B.deployer===n.GNOSIS?g:"".concat(g,"-").concat(B.deployer):"",B&&B.deployer===n.GNOSIS&&j?" (there's a newer version: ".concat(r,")"):""]}),Object(J.jsx)(fe,{size:"sm",type:"externalLink",color:"primary"})]})}),j&&a?Object(J.jsx)(C.a,{align:"end",grow:!0,children:Object(J.jsx)(v.a,{children:Object(J.jsx)(p.a,{className:t.saveBtn,color:"primary",onClick:R,size:"small",testId:be,variant:"contained",children:"Update Safe"})})}):null]}),Object(J.jsxs)(_.a,{className:t.formContainer,children:[Object(J.jsx)(x.a,{tag:"h2",children:"Blockchain Network"}),Object(J.jsx)(Oe,{children:Object(J.jsx)(de.a,{chainId:O})})]}),Object(J.jsx)(h.c,{description:"Update Safe",handleClose:P,open:G,title:"Update Safe",children:Object(J.jsx)(K,{onClose:P,safeAddress:l,safeCurrentVersion:g})})]})}})}}}]);
//# sourceMappingURL=61.83896124.chunk.js.map