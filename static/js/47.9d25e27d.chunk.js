(this["webpackJsonpjupisky-ui"]=this["webpackJsonpjupisky-ui"]||[]).push([[47],{1364:function(e,t,n){"use strict";var r=n(8),o=n(1359),i=n(2);t.a=function(e){var t=Object.assign({},e);return Object(i.jsx)(o.a,Object(r.a)({},t))}},1369:function(e,t,n){"use strict";var r=n(8),o=n(60),i=n(575),a=n(492),c=n(390),s=n(13),d=n(2),l=["name","onChange","value"],u=["input","inputAdornment","meta","multiline","rows","testId","text"],b={overflow:"hidden",width:"100%"},j=Object(c.a)((function(){return Object(a.a)({root:{paddingTop:s.lg,paddingBottom:"12px",lineHeight:0}})}));t.a=function(e){var t=e.input,n=t.name,a=t.onChange,c=t.value,s=Object(o.a)(t,l),O=e.inputAdornment,x=e.meta,p=e.multiline,f=e.rows,h=e.testId,m=e.text,g=Object(o.a)(e,u),v=j(),y=c?m:void 0,w=(x.touched||!x.pristine)&&!x.valid,C=!!x.error||!x.modifiedSinceLastSubmit&&!!x.submitError,S=x.error||x.submitError,k=!x.active&&(x.pristine||!x.touched),B="undefined"===typeof x.error||!x.touched,E=k&&B,P=y?v.root:"",T=x.valid?"isValid":C&&w?"isInvalid":"",R=Object(r.a)(Object(r.a)({},s),{},{autoComplete:"off","data-testid":h}),I=Object(r.a)(Object(r.a)({},O),{},{className:"".concat(P," ").concat(T),disableUnderline:E});return Object(d.jsx)(i.a,Object(r.a)({error:C&&w,helperText:C&&w?S:y||" ",inputProps:R,InputProps:I,multiline:p,name:n,onChange:a,rows:f,style:b,value:c},g))}},1376:function(e,t,n){"use strict";var r=n(60),o=n(1359),i=n(2),a=["handleSubmit"],c=function(e){return{padding:"0 ".concat(e,"%"),flexDirection:"column",flex:"1 0 auto"}};t.a=function(e){var t=e.children,n=e.decorators,s=e.formMutators,d=e.initialValues,l=e.onSubmit,u=e.padding,b=void 0===u?0:u,j=e.subscription,O=e.testId,x=void 0===O?"":O,p=e.validation;return Object(i.jsx)(o.b,{decorators:n,initialValues:d,mutators:s,onSubmit:l,render:function(e){var n=e.handleSubmit,o=Object(r.a)(e,a);return Object(i.jsx)("form",{"data-testid":x,onSubmit:n,style:c(b),children:t(o.submitting,o.validating,o,o.form.mutators)})},subscription:j,validate:p})}},1391:function(e,t,n){"use strict";n.d(t,"a",(function(){return B}));var r=n(38),o=n(390),i=n(0),a=n.p+"static/media/qrcode.fec1b6d8.svg",c=n(271),s=n(515),d=n.n(s),l=n(1422),u=n.n(l),b=n(13),j=n(492),O=Object(j.a)({heading:{padding:b.lg,justifyContent:"space-between",maxHeight:"75px",boxSizing:"border-box"},loaderContainer:{width:"100%",height:"100%"},close:{height:"25px",width:"25px",color:b.secondaryText},detailsContainer:{backgroundColor:b.background,maxHeight:"450px"},buttonRow:{height:"84px",justifyContent:"center"},button:{"&:last-child":{marginLeft:b.sm}}}),x=n(323),p=n(146),f=n(235),h=n(108),m=n(167),g=n(87),v=n(113),y=n(2),w=Object(o.a)(O),C=function(e){var t=e.isOpen,n=e.onClose,o=e.onScan,a=w(),s=Object(i.useState)(!1),l=Object(r.a)(s,2),b=l[0],j=l[1],O=Object(i.useState)(null),C=Object(r.a)(O,2),S=C[0],k=C[1],B=Object(i.useState)(!1),E=Object(r.a)(B,2),P=E[0],T=E[1],R=i.createRef(),I=i.useCallback((function(){R.current.openImageDialog()}),[R]);Object(i.useEffect)((function(){b||!P||S||(j(!0),I())}),[P,I,b,j,S]);var z=function(e,t){if(e)return console.error("QR code error",e),void("NotAllowedError"===e.name||"PermissionDismissedError"===e.name?(T(!0),j(!1)):k("The QR could not be read"));t?o(t):P&&k("The QR could not be read")};return Object(y.jsxs)(x.c,{description:"Receive Tokens Form",handleClose:n,open:t,title:"Receive Tokens",children:[Object(y.jsxs)(v.a,{align:"center",className:a.heading,grow:!0,children:[Object(y.jsx)(g.a,{noMargin:!0,size:"xl",children:"Scan QR"}),Object(y.jsx)(c.a,{disableRipple:!0,onClick:n,children:Object(y.jsx)(d.a,{className:a.close})})]}),Object(y.jsx)(m.a,{}),Object(y.jsxs)(h.a,{className:a.detailsContainer,layout:"column",middle:"xs",children:[S&&Object(y.jsx)(p.a,{padding:"md",margin:"md",children:S}),Object(y.jsx)(u.a,{legacyMode:P,onError:function(e){return z(e,null)},onScan:function(e){return z(null,e)},ref:R,style:{width:"400px",height:"400px"},facingMode:"user"})]}),Object(y.jsx)(m.a,{}),Object(y.jsxs)(v.a,{align:"center",className:a.buttonRow,children:[Object(y.jsx)(f.a,{className:a.button,color:"secondary",minWidth:154,onClick:n,children:"Close"}),Object(y.jsx)(f.a,{className:a.button,color:"primary",minWidth:154,onClick:function(){T(!0),k(null),j(!1)},variant:"contained",children:"Upload an image"})]})]})},S=n(126),k=Object(o.a)({qrCodeBtn:{cursor:"pointer"}}),B=function(e){var t=e.handleScan,n=e.testId,o=k(),c=Object(i.useState)(!1),s=Object(r.a)(c,2),d=s[0],l=s[1],u=function(){l(!1)};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(S.a,{alt:"Scan QR",className:o.qrCodeBtn,height:20,onClick:function(){l(!0)},role:"button",src:a,testId:n||"qr-icon"}),d&&Object(y.jsx)(C,{isOpen:d,onClose:u,onScan:function(e){t(e,u)}})]})}},1410:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(7),o=n(9),i=n(10),a=n(11),c=n(537),s=n(540),d=n(538),l=n(710),u=n(0),b=n(2),j=function(e){if(e)return{maxWidth:"".concat(e,"px")}},O=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).changeSort=function(t,n){return function(){(0,e.props.onSort)(t,n)}},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.columns,r=t.order,o=t.orderBy;return Object(b.jsx)(s.a,{children:Object(b.jsx)(d.a,{children:n.map((function(t){return Object(b.jsx)(c.a,{align:t.align,padding:t.disablePadding?"none":"normal",sortDirection:o===t.id&&r,children:t.static?Object(b.jsx)("div",{style:t.style,children:t.label}):Object(b.jsx)(l.a,{active:o===t.id,direction:r,onClick:e.changeSort(t.id,t.order),style:t.style,children:t.label})},t.id)}))})})}}]),n}(u.PureComponent);t.b=O},1429:function(e,t,n){"use strict";var r=n(7),o=n(9),i=n(10),a=n(11),c=n(24),s=n(569),d=n(539),l=n(1554),u=n(19),b=n(0),j=n(1410),O=n(74),x=function(e,t,n,r,o){var i=r?"".concat(n,"Order"):n;return o(t[i])<o(e[i])?-1:o(t[i])>o(e[i])?1:0},p=n(113),f=n(13),h=n(2),m={root:{backgroundColor:"white",borderTopRightRadius:f.sm,borderTopLeftRadius:f.sm,boxShadow:"1px 2px 10px 0 rgba(212, 212, 211, 0.59)"},selectRoot:{lineHeight:f.xxl,backgroundColor:"white"},white:{backgroundColor:"white"},paginationRoot:{backgroundColor:"white",boxShadow:"1px 2px 10px 0 rgba(212, 212, 211, 0.59)",marginBottom:"90px",borderBottomRightRadius:f.sm,borderBottomLeftRadius:f.sm},loader:{boxShadow:"1px 2px 10px 0 rgba(212, 212, 211, 0.59)"}},g={"aria-label":"Previous Page"},v={"aria-label":"Next Page"},y=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(e){var o;return Object(r.a)(this,n),(o=t.call(this,e)).onSort=function(e,t){var n=o.state,r=n.order,i=n.orderBy,a=o.props.defaultOrder,c="desc";r&&i===e&&"desc"===r?c="asc":r||"desc"!==a||(c="asc"),o.setState((function(){return{order:c,orderBy:e,orderProp:t,fixed:!1}}))},o.getEmptyStyle=function(){return{height:"calc(100vh - ".concat(255,"px)"),borderTopRightRadius:f.sm,borderTopLeftRadius:f.sm,backgroundColor:"white",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},o.handleChangePage=function(e,t){o.setState({page:t})},o.handleChangeRowsPerPage=function(e){var t=Number(e.target.value);o.setState({rowsPerPage:t})},o.state={page:0,order:void 0,orderBy:void 0,fixed:void 0,orderProp:!1,rowsPerPage:void 0},o}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.columns,n=e.defaultOrderBy;n&&t&&(t.find((function(e){return e.id===n})).order&&this.setState({orderProp:!0}))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.classes,r=e.columns,o=e.data,i=e.defaultFixed,a=e.defaultOrder,u=e.defaultOrderBy,b=e.defaultRowsPerPage,f=e.disableLoadingOnEmptyTable,m=e.disablePagination,y=e.label,w=e.noBorder,C=e.size,S=this.state,k=S.fixed,B=S.order,E=S.orderBy,P=S.orderProp,T=S.page,R=S.rowsPerPage,I=E||u,z=B||a,N=R||b,A="undefined"!==typeof k?k:!!i,D={selectRoot:n.selectRoot,root:!w&&n.paginationRoot,input:n.white},H=r.find((function(e){return e.id===I})),M=function(e,t,n){var r=n?e.filter((function(e){return e.fixed})):Object(O.a)([]),o=(n?e.filter((function(e){return!e.fixed})):e).map((function(e,t){return[e,t]})),i=(o=o.sort((function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]}))).map((function(e){return e[0]}));return r.concat(i)}(o,function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e};return"desc"===e?function(e,o){return x(e,o,t,n,r)}:function(e,o){return-x(e,o,t,n,r)}}(z,I,P,null===H||void 0===H?void 0:H.formatTypeSort),A);m||(M=M.slice(T*N,T*N+N));var F=0===C&&!f;return Object(h.jsxs)(h.Fragment,{children:[!F&&Object(h.jsxs)(s.a,{"aria-labelledby":y,className:w?"":n.root,children:[Object(h.jsx)(j.b,{columns:r,onSort:this.onSort,order:B,orderBy:I}),Object(h.jsx)(d.a,{children:t(M)})]}),F&&Object(h.jsx)(p.a,{className:n.loader,style:this.getEmptyStyle(),children:Object(h.jsx)(c.Loader,{size:"sm"})}),!m&&Object(h.jsx)(l.a,{backIconButtonProps:g,classes:D,component:"div",count:C,nextIconButtonProps:v,onPageChange:this.handleChangePage,onRowsPerPageChange:this.handleChangeRowsPerPage,page:T,rowsPerPage:N,rowsPerPageOptions:[5,10,25,50,100]})]})}}]),n}(b.Component);y.defaultProps={defaultOrder:"asc",disablePagination:!1,defaultRowsPerPage:5};t.a=Object(u.a)(m)(y)},1437:function(e,t,n){"use strict";var r=n(1),o=n.n(r),i=n(17),a=n(8),c=n(12),s=n(93),d=n(38),l=n(0),u=n(1359),b=n(1423),j=n(568),O=n(576),x=n(1369),p=n(514),f=n(109),h=n(31),m=n(45),g=n(63),v=n(22),y=n(327),w=n(2);t.a=function(e){var t=e.className,n=void 0===t?"":t,r=e.name,C=void 0===r?"recipientAddress":r,S=e.text,k=void 0===S?"Recipient*":S,B=e.placeholder,E=void 0===B?"Recipient*":B,P=e.fieldMutator,T=e.testId,R=e.inputAdornment,I=e.validators,z=void 0===I?[]:I,N=e.defaultValue,A=e.disabled,D=Object(l.useState)(""),H=Object(d.a)(D,2),M=H[0],F=H[1],L=Object(l.useState)({}),V=Object(d.a)(L,2),W=V[0],_=V[1],q=W[M],Q=""===q;Object(l.useEffect)((function(){q&&P(q)}),[q,P]);var U=Q?{endAdornment:Object(w.jsx)(j.a,{position:"end",children:Object(w.jsx)(O.a,{size:"16px"})})}:R;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(u.a,{className:n,component:x.a,defaultValue:N,disabled:A,inputAdornment:U,name:C,placeholder:E,testId:T,text:k,type:"text",spellCheck:!1,validate:p.d.apply(void 0,[p.p,p.k].concat(Object(s.a)(z)))}),Object(w.jsx)(b.a,{name:C,children:function(){var e=Object(c.a)(o.a.mark((function e(t){var n,r,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(f.c)(t),F(n),!Object(m.e)(n)&&!Object(m.d)(n)){e.next=18;break}return _((function(e){return Object(a.a)(Object(a.a)({},e),{},Object(i.a)({},n,""))})),e.prev=4,e.next=7,Object(h.b)(n);case 7:r=e.sent,c=Object(g.a)(r),_((function(e){return Object(a.a)(Object(a.a)({},e),{},Object(i.a)({},n,c))})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),_((function(e){return Object(a.a)(Object(a.a)({},e),{},Object(i.a)({},n,void 0))})),Object(v.c)(v.b._101,e.t0.message);case 16:e.next=21;break;case 18:if(s=n,Object(y.a)(n))try{s=Object(g.a)(n)}catch(o){}P(s);case 21:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}()})]})}},2594:function(e,t,n){"use strict";n.r(t);var r,o,i,a,c,s,d,l,u=n(8),b=n(38),j=n(26),O=n(24),x=n(537),p=n(570),f=n(538),h=n(390),m=n(206),g=n.n(m),v=n(23),y=n(0),w=n(42),C=n(13),S=n(492),k=Object(S.a)({formContainer:{minHeight:"250px"},title:{padding:C.lg,paddingBottom:0},annotation:{paddingLeft:C.lg},hide:{"&:hover":{backgroundColor:"#f7f5f5"},"&:hover $actions":{visibility:"initial"}},actions:{justifyContent:"flex-end",alignItems:"center",visibility:"hidden",minWidth:"100px",gap:C.md},noBorderBottom:{"& > td":{borderBottom:"none"}},controlsRow:{backgroundColor:"white",padding:C.lg,borderRadius:C.sm},editEntryButton:{cursor:"pointer"},editEntryButtonNonOwner:{cursor:"pointer"},removeEntryButton:{cursor:"pointer"},removeEntryButtonDisabled:{cursor:"default"},removeEntryButtonNonOwner:{cursor:"pointer"},leftIcon:{marginRight:C.sm},iconSmall:{fontSize:16}}),B=n(18),E=n(331),P=n(1429),T=n(1410),R=n(146),I=n(108),z=n(113),N=n(207),A=n(101),D=n(324),H=n(45),M=n(60),F=Object(h.a)(Object(S.a)({heading:{padding:C.lg,justifyContent:"space-between",boxSizing:"border-box",height:"74px"},manage:{fontSize:C.lg},container:{padding:"".concat(C.md," ").concat(C.lg)},close:{height:"35px",width:"35px"}})),L=n(323),V=n(1391),W=n(1437),_=n(1364),q=n(1376),Q=n(1369),U=n(514),J=n(2),K=["isNew"],Y="create-entry-input-name",$="create-entry-input-address",G="save-new-entry-btn-id",X={setOwnerAddress:function(e,t,n){n.changeValue(t,"address",(function(){return e[0]}))}},Z=function(e){var t=e.editEntryModalHandler,n=e.entryToEdit,r=e.isOpen,o=e.newEntryModalHandler,i=e.onClose,a=F(),c=n.entry,s=c.isNew,d=Object(M.a)(c,K),l=Object(w.d)(D.e),u=Object(U.q)(l);return Object(J.jsxs)(L.b,{description:s?"Create new addressBook entry":"Edit addressBook entry",handleClose:i,open:r,title:s?"Create new entry":"Edit entry",children:[Object(J.jsx)(L.b.Header,{onClose:i,children:Object(J.jsx)(L.b.Header.Title,{children:s?"Create entry":"Edit entry"})}),Object(J.jsx)(L.b.Body,{withoutPadding:!0,children:Object(J.jsx)(q.a,{formMutators:X,onSubmit:function(e){s?o(e):t(e)},initialValues:d,children:function(){var e=arguments.length<=2?void 0:arguments[2],t=arguments.length<=3?void 0:arguments[3],n=function(e,n){var r=e;r.startsWith("ethereum:")&&(r=r.replace("ethereum:","")),t.setOwnerAddress(r),n()};return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)(R.a,{className:a.container,children:[Object(J.jsx)(z.a,{margin:"md",children:Object(J.jsx)(I.a,{xs:11,children:Object(J.jsx)(_.a,{component:Q.a,name:"name",placeholder:"Name*",testId:Y,text:"Name*",type:"text",validate:Object(U.d)(U.p,U.r)})})}),Object(J.jsxs)(z.a,{margin:"md",children:[Object(J.jsx)(I.a,{xs:11,children:Object(J.jsx)(W.a,{disabled:!s,fieldMutator:t.setOwnerAddress,name:"address",placeholder:"Address*",testId:$,text:"Address*",validators:[function(e){return s?u(e):void 0}]})}),s?Object(J.jsx)(I.a,{center:"xs",className:a,middle:"xs",xs:1,children:Object(J.jsx)(V.a,{handleScan:n})}):null]})]}),Object(J.jsx)(L.b.Footer,{children:Object(J.jsx)(L.b.Footer.Buttons,{cancelButtonProps:{onClick:i},confirmButtonProps:{disabled:!e.valid,testId:G,text:s?"Create":"Save"}})})]})}})})]})},ee=n(420),te=n(1895),ne=n(81),re=n(111),oe=n(61),ie=n(126),ae=Object(v.default)(O.Icon)(r||(r=Object(j.a)(["\n  svg {\n    position: relative;\n    top: 4px;\n    left: 4px;\n  }\n"]))),ce=function(){return Object(J.jsxs)(O.Link,{href:"https://help.gnosis-safe.io/en/articles/5299068-address-book-export-and-import",target:"_blank",rel:"noreferrer",title:"Export & import info",children:[Object(J.jsx)(O.Text,{size:"xl",as:"span",color:"primary",children:"Learn about the address book import and export"}),Object(J.jsx)(ae,{size:"sm",type:"externalLink",color:"primary"})]})},se=n.p+"static/media/success.05cfb920.svg",de=n.p+"static/media/error.b0f27278.svg",le=n.p+"static/media/wait.8fd3356d.svg",ue=Object(v.default)(z.a)(o||(o=Object(j.a)(["\n  padding: "," ",";\n  justify-content: center;\n"])),C.md,C.lg),be=Object(v.default)(z.a)(i||(i=Object(j.a)(["\n  background-color: ",";\n  flex-direction: column;\n  justify-content: center;\n  padding: ",";\n  text-align: center;\n"])),C.background,C.lg),je=v.default.div(a||(a=Object(j.a)(["\n  grid-row: 1;\n"]))),Oe=Object(v.default)(O.Loader)(c||(c=Object(j.a)(["\n  margin-right: 5px;\n"]))),xe=function(e){var t=e.isOpen,n=e.onClose,r=Object(w.c)(),o=Object(w.d)(D.c),i=Object(y.useState)(!0),a=Object(b.a)(i,2),c=a[0],s=a[1],d=Object(y.useState)(""),l=Object(b.a)(d,2),u=l[0],j=l[1],x=Object(y.useState)(""),p=Object(b.a)(x,2),f=p[0],h=p[1],m=Object(y.useState)(!1),g=Object(b.a)(m,2),v=g[0],C=g[1],S=Object(ee.a)(new Date,"yyyy-MM-dd");return Object(y.useEffect)((function(){!function(){if(t||v){s(!0),j("");try{h(Object(te.c)(o))}catch(e){return s(!1),void j(e.message)}s(!1),C(!1)}}()}),[o,t,v,f]),Object(J.jsxs)(L.b,{description:"Export address book",handleClose:n,open:t,title:"Export address book",children:[Object(J.jsx)(L.b.Header,{onClose:n,children:Object(J.jsx)(L.b.Header.Title,{withoutMargin:!0,children:"Export address book"})}),Object(J.jsxs)(L.b.Body,{withoutPadding:!0,children:[Object(J.jsx)(ue,{children:Object(J.jsx)(je,{children:Object(J.jsx)(ie.a,{alt:"Export",height:92,src:u?de:c?le:se})})}),Object(J.jsx)(be,{children:Object(J.jsx)(O.Text,{color:"primary",as:"p",size:"xl",children:u?Object(J.jsx)(O.Text,{size:"xl",as:"span",children:"An error occurred while generating the address book CSV."}):Object(J.jsxs)(O.Text,{size:"xl",as:"span",children:["You're about to export a CSV file with"," ",Object(J.jsxs)(O.Text,{size:"xl",strong:!0,as:"span",children:[o.length," address book entries. ",Object(J.jsx)("br",{}),Object(J.jsx)(ce,{})]}),"."]})})})]}),Object(J.jsxs)(L.b.Footer,{withoutBorder:!0,children:[Object(J.jsx)(O.Button,{size:"md",variant:"outlined",onClick:n,children:"Cancel"}),u?Object(J.jsx)(O.Button,{color:"primary",size:"md",disabled:c,onClick:function(){return C(!0)},children:"Retry"}):Object(J.jsx)(te.a,{data:f,bom:!0,filename:"jupisky-address-book-".concat(S),type:"link",children:Object(J.jsxs)(O.Button,{color:"primary",size:"md",disabled:c,onClick:function(){s(!0),setTimeout((function(){if(!c){var e=Object(ne.c)(oe.a.ADDRESS_BOOK_EXPORT_ENTRIES),t=u?e.afterExecution.afterExecutionError:e.afterExecution.noMoreConfirmationsNeeded;r(Object(re.b)(Object(ne.b)(t)))}n()}),600)},children:[c&&Object(J.jsx)(Oe,{color:"secondaryLight",size:"xs"}),"Download"]})})]})]})},pe=function(e){var t=e.deleteEntryModalHandler,n=e.entryToDelete,r=e.isOpen,o=e.onClose;return Object(J.jsxs)(L.b,{description:"Delete entry",handleClose:o,open:r,title:"Delete entry",children:[Object(J.jsx)(L.b.Header,{onClose:o,children:Object(J.jsx)(L.b.Header.Title,{children:"Delete entry"})}),Object(J.jsx)(q.a,{onSubmit:function(){t()},children:function(){return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(L.b.Body,{children:Object(J.jsxs)(O.Text,{size:"xl",children:["This action will delete"," ",Object(J.jsx)(O.Text,{size:"xl",strong:!0,as:"span",children:n.entry.name})," ","from the address book."]})}),Object(J.jsx)(L.b.Footer,{children:Object(J.jsx)(L.b.Footer.Buttons,{cancelButtonProps:{onClick:o},confirmButtonProps:{color:"error",testId:"delete-entry-btn-id",text:"Delete"}})})]})}})]})},fe=n(74),he="name",me="address",ge=n(535),ve=n(79),ye=n(63),we=n(234),Ce=n(181),Se=n(327),ke=n(14),Be=["","text/csv","text/plain","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],Ee=/[^.]+\.(txt|csv|tsv|ods|xls|xlsx)$/,Pe=function(e){return Object.keys(ke.b).some((function(t){return ke.b[t]===e.toString()}))},Te=v.default.div(s||(s=Object(j.a)(["\n  flex-direction: column;\n  justify-content: center;\n  margin: 24px;\n  align-items: center;\n  min-height: 100px;\n  display: flex;\n"]))),Re=v.default.div(d||(d=Object(j.a)(["\n  background-color: ",";\n  flex-direction: column;\n  justify-content: center;\n  padding: 24px;\n  text-align: center;\n  margin-top: 16px;\n"])),(function(e){return e.theme.colors.background})),Ie=function(e){var t=e.importEntryModalHandler,n=e.isOpen,r=e.onClose,o=Object(y.useState)(!1),i=Object(b.a)(o,2),a=i[0],c=i[1],s=Object(y.useState)(""),d=Object(b.a)(s,2),l=d[0],u=d[1],j=Object(y.useState)([]),x=Object(b.a)(j,2),p=x[0],f=x[1],h=function(){c(!1),f([]),u(""),r()};return Object(J.jsxs)(L.b,{description:"Import address book",handleClose:h,open:n,title:"Import address book",children:[Object(J.jsx)(L.b.Header,{onClose:h,children:Object(J.jsx)(L.b.Header.Title,{children:"Import address book"})}),Object(J.jsxs)(L.b.Body,{withoutPadding:!0,children:[Object(J.jsx)(Te,{children:Object(J.jsx)(te.b,{onDrop:function(e,t){var n=e.slice(1),r=function(e){return Be.includes(e.type)&&Ee.test(e.name.toLowerCase())?e.size>=1e6?"The size of the file is over 1 MB":void 0:"Only CSV files are allowed"}(t);if(r)u(r);else{var o=[];n.forEach((function(e){(1!==e.data.length||e.data[0])&&o.push(e)}));var i=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=Object(b.a)(n.data,3),o=r[0],i=r[1],a=r[2];if(3!==n.data.length)return"Invalid amount of columns on row ".concat(t+1);if("string"!==typeof o||"string"!==typeof i||"string"!==typeof a)return"Invalid amount of columns on row ".concat(t+1);if(!o.trim()||!i.trim()||!a.trim())return"Invalid amount of columns on row ".concat(t+1);var c=o.toLowerCase();if(!Object(Se.a)(c))return"Invalid address on row ".concat(t+1);if(!Pe(a.trim()))return"Invalid chain id on row ".concat(t+1)}}(o);if(i)u(i);else{var a=o.map((function(e){var t=e.data;return{address:Object(ye.a)(t[0].trim()),name:t[1].trim(),chainId:t[2].trim()}}));f(a),u(""),c(!0)}}},onError:function(e){u(e.message)},addRemoveButton:!0,onRemoveFile:function(){c(!1),u("")},style:{dropArea:{borderColor:"#B2B5B2",borderRadius:8},dropAreaActive:{borderColor:"#008C73"},dropFile:{width:200,height:100,background:"#fff",boxShadow:"rgb(40 54 61 / 18%) 1px 2px 10px 0px",borderRadius:8},fileSizeInfo:{color:"#001428",lineHeight:1,position:"absolute",left:"10px",top:"12px"},fileNameInfo:{color:""===l?"#008C73":"#DB3A3D",backgroundColor:"#fff",fontSize:14,lineHeight:1.4,padding:"0 0.4em",margin:"1.2em 0 0.5em 0",maxHeight:"59px",overflow:"hidden"},progressBar:{backgroundColor:"#008C73"},removeButton:{color:"#DB3A3D"}},children:Object(J.jsxs)(O.Text,{size:"xl",children:["Drop your CSV file here ",Object(J.jsx)("br",{}),"or click to upload."]})})}),Object(J.jsxs)(Re,{children:[""!==l&&Object(J.jsx)(O.Text,{size:"xl",color:"error",children:l}),!a&&""===l&&Object(J.jsxs)(O.Text,{color:"text",as:"p",size:"xl",children:["Only CSV files exported from Gnosis Safe are allowed. ",Object(J.jsx)("br",{}),Object(J.jsx)(ce,{})]}),a&&""===l&&Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(O.Text,{size:"xl",as:"span",children:"You're about to import"}),Object(J.jsx)(O.Text,{size:"xl",strong:!0,as:"span",children:" ".concat(p.length," entries to your address book")})]})]})]}),Object(J.jsx)(L.b.Footer,{withoutBorder:!0,children:Object(J.jsx)(L.b.Footer.Buttons,{cancelButtonProps:{onClick:function(){return h()}},confirmButtonProps:{color:"primary",disabled:!a||""!==l,onClick:function(){c(!1),t(p)},text:"Import"}})})]})},ze=n(59),Ne=n(69),Ae=Object(v.default)(O.Button)(l||(l=Object(j.a)(["\n  &&.MuiButton-root {\n    margin: 4px 12px 4px 0px;\n    padding: 0 12px;\n    min-width: auto;\n  }\n\n  svg {\n    margin: 0 6px 0 0;\n  }\n"]))),De=Object(h.a)(k);t.default=function(){var e,t,n=De(),r=function(){var e={id:he,order:!1,disablePadding:!1,label:"Name",width:150,custom:!1,align:"left"},t={id:me,order:!1,disablePadding:!1,label:"Address",custom:!1,align:"left"},n={id:"actions",order:!1,disablePadding:!1,label:"",custom:!0};return Object(fe.a)([e,t,n])}(),o=r.filter((function(e){return!e.custom})),i=Object(w.c)(),a=Object(w.d)(ve.l),c=Object(w.d)(D.d),s=Object(w.d)(Ne.a),d=Object(w.d)(we.b),l={entry:{address:"",name:"",chainId:Object(B.l)(),isNew:!0}},j=Object(y.useState)(l),h=Object(b.a)(j,2),m=h[0],v=h[1],C=Object(y.useState)(!1),S=Object(b.a)(C,2),k=S[0],M=S[1],F=Object(y.useState)(!1),L=Object(b.a)(F,2),V=L[0],W=L[1],_=Object(y.useState)(!1),q=Object(b.a)(_,2),Q=q[0],U=q[1],K=Object(y.useState)(!1),Y=Object(b.a)(K,2),$=Y[0],G=Y[1],X=Object(y.useState)(!1),ee=Object(b.a)(X,2),te=ee[0],ne=ee[1],re=Object(Ce.g)().trackEvent,oe=Object(ze.h)(),ie=Object.fromEntries(new URLSearchParams(oe.location.search)),ae=null===ie||void 0===ie?void 0:ie.entryAddress;Object(y.useEffect)((function(){re(Ce.b.ADDRESS_BOOK)}),[re]),Object(y.useEffect)((function(){ae&&M(!0)}),[ae]),Object(y.useEffect)((function(){if(Object(Se.a)(ae)){var e=Object(ye.a)(ae),t=c.findIndex((function(t){return Object(H.f)(t.address,e)}));v(t>=0?{entry:c[t],index:t}:{entry:{name:"",address:e,chainId:s,isNew:!0}})}}),[c,ae,s]);return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)(O.Menu,{children:[Object(J.jsx)(I.a,{start:"sm",sm:6,xs:12,children:Object(J.jsx)(O.Breadcrumb,{children:Object(J.jsx)(O.BreadcrumbElement,{iconType:"addressBook",text:"Address Book",counter:null===c||void 0===c?void 0:c.length.toString()})})}),Object(J.jsxs)(I.a,{end:"sm",sm:6,xs:12,children:[Object(J.jsx)(O.ButtonLink,{onClick:function(){v(l),G(!0)},color:"primary",iconType:"exportImg",iconSize:"sm",textSize:"xl",children:"Export"}),Object(J.jsx)(O.ButtonLink,{onClick:function(){W(!0)},color:"primary",iconType:"importImg",iconSize:"sm",textSize:"xl",children:"Import"}),Object(J.jsx)(O.ButtonLink,{onClick:function(){v(l),M(!0)},color:"primary",iconType:"add",iconSize:"sm",textSize:"xl",children:"Create entry"})]})]}),Object(J.jsx)(R.a,{className:n.formContainer,children:Object(J.jsx)(p.a,{children:Object(J.jsx)(P.a,{columns:r,data:c,defaultFixed:!0,defaultOrderBy:he,defaultRowsPerPage:25,disableLoadingOnEmptyTable:!0,label:"Owners",size:(null===c||void 0===c?void 0:c.length)||0,children:function(e){return e.map((function(t,r){var i=Object(H.c)(a,t.address),c=r>=3&&r===e.size-1&&n.noBorderBottom;return Object(J.jsxs)(f.a,{className:g()(n.hide,c),"data-testid":"address-book-row",tabIndex:-1,children:[o.map((function(e){return Object(J.jsx)(x.a,{align:e.align,component:"td",style:Object(T.a)(e.width),children:e.id===me?Object(J.jsx)(R.a,{justify:"left",children:Object(J.jsx)(O.EthHashInfo,{hash:t[e.id],showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(B.f)(t[e.id])})}):t[e.id]},e.id)})),Object(J.jsx)(x.a,{component:"td",children:Object(J.jsxs)(z.a,{align:"end",className:n.actions,children:[Object(J.jsx)(E.a,{onClick:function(){v({entry:t,isOwnerAddress:i}),M(!0)},children:Object(J.jsx)(O.Icon,{size:"sm",type:"edit",tooltip:"Edit entry",className:d?n.editEntryButton:n.editEntryButtonNonOwner})}),Object(J.jsx)(E.a,{onClick:function(){v({entry:t}),U(!0)},children:Object(J.jsx)(O.Icon,{size:"sm",type:"delete",color:"error",tooltip:"Delete entry",className:d?n.removeEntryButton:n.removeEntryButtonNonOwner})}),d?Object(J.jsxs)(Ae,{color:"primary",onClick:function(){v({entry:t}),ne(!0)},size:"md",variant:"contained","data-testid":"send-entry-btn",children:[Object(J.jsx)(O.FixedIcon,{type:"arrowSentWhite"}),Object(J.jsx)(O.Text,{size:"xl",color:"white",children:"Send"})]}):null]})})]},r)}))}})})}),Object(J.jsx)(Z,{editEntryModalHandler:function(e){v(l),M(!1),i(Object(A.b)(Object(N.b)(Object(u.a)(Object(u.a)({},e),{},{address:Object(ye.a)(e.address)}))))},entryToEdit:m,isOpen:k,newEntryModalHandler:function(e){M(!1),i(Object(A.b)(Object(N.b)(Object(u.a)(Object(u.a)({},e),{},{address:Object(ye.a)(e.address)}))))},onClose:function(){return M(!1)}}),Object(J.jsx)(pe,{deleteEntryModalHandler:function(){v(l),U(!1),(null===m||void 0===m?void 0:m.entry)&&i(Object(A.e)(m.entry))},entryToDelete:m,isOpen:Q,onClose:function(){return U(!1)}}),Object(J.jsx)(xe,{isOpen:$,onClose:function(){return G(!1)}}),Object(J.jsx)(Ie,{importEntryModalHandler:function(e){i(Object(A.c)(e)),W(!1)},isOpen:V,onClose:function(){return W(!1)}}),Object(J.jsx)(ge.a,{activeScreenType:"chooseTxType",isOpen:te,onClose:function(){return ne(!1)},recipientAddress:null===m||void 0===m||null===(e=m.entry)||void 0===e?void 0:e.address,recipientName:null===m||void 0===m||null===(t=m.entry)||void 0===t?void 0:t.name})]})}}}]);
//# sourceMappingURL=47.9d25e27d.chunk.js.map