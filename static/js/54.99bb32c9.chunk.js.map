{"version":3,"sources":["logic/contractInteraction/sources/ABIService/index.ts","routes/safe/components/Balances/SendModal/screens/ContractInteraction/ContractABI/index.tsx","routes/safe/components/Balances/SendModal/screens/ContractInteraction/FormErrorMessage/index.tsx","routes/safe/components/Balances/SendModal/screens/ContractInteraction/MethodsDropdown/index.tsx","routes/safe/components/Balances/SendModal/screens/ContractInteraction/RenderInputParams/InputComponent/ArrayTypeInput.tsx","routes/safe/components/Balances/SendModal/screens/ContractInteraction/RenderInputParams/InputComponent/index.tsx","routes/safe/components/Balances/SendModal/screens/ContractInteraction/RenderInputParams/index.tsx","routes/safe/components/Balances/SendModal/screens/ContractInteraction/RenderOutputParams/index.tsx","routes/safe/components/Balances/SendModal/screens/ContractInteraction/NativeCoinValue/index.tsx","routes/safe/components/Balances/SendModal/screens/ContractInteraction/index.tsx","routes/safe/components/Balances/SendModal/screens/ModalHeader/style.ts","routes/safe/components/Balances/SendModal/screens/ModalHeader/index.tsx","../node_modules/@material-ui/icons/Search.js","../node_modules/@material-ui/core/esm/ListItemIcon/ListItemIcon.js","routes/safe/components/CurrencyDropdown/img/check.svg","routes/safe/components/CurrencyDropdown/style.ts"],"names":["getMethodSignature","inputs","name","params","map","x","type","join","getSignatureHash","signature","keccak256","toString","isAllowedMethod","getMethodAction","stateMutability","includes","extractUsefulMethods","abi","filter","method","action","methodSignature","signatureHash","getMethodSignatureAndSignatureHash","sort","a","b","toLowerCase","NO_DATA","hasUsefulMethods","JSON","parse","length","e","ContractABI","contractAddress","useField","subscription","value","input","mutators","useForm","setAbiValue","useRef","useEffect","validateAndSetAbi","isEthereumAddress","undefined","mustBeEthereumAddress","mustBeEthereumContractAddress","isEthereumContractAddress","getContractABI","current","Row","margin","Col","TextAreaField","placeholder","text","validate","useStyles","makeStyles","styles","FormErrorMessage","classes","useFormState","modifiedSinceLastSubmit","submitError","align","className","fullWidth","Paragraph","color","noMargin","size","style","letterSpacing","overflowWrap","MENU_WIDTH","StyledText","styled","Text","MethodsDropdown","onChange","useDropdownStyles","buttonWidth","valid","meta","selectedMethodByDefault","initialValues","selectedMethod","useState","setSelectedMethod","methodsList","setMethodsList","methodsListFiltered","setMethodsListFiltered","anchorEl","setAnchorEl","searchParams","setSearchParams","handleClose","NO_CONTRACT","theme","DropdownListTheme","button","onClick","event","currentTarget","classNames","buttonInner","openMenuButton","Menu","anchorOrigin","horizontal","vertical","elevation","getContentAnchorEl","id","keepMounted","onClose","open","PaperProps","width","transformOrigin","MenuItem","listItemSearch","search","searchIcon","InputBase","root","inputRoot","inputInput","inputProps","target","dropdownItemsScrollWrapper","listItem","chosenMethod","ListItemText","primary","ListItemIcon","iconRight","alt","src","CheckIcon","validator","values","Array","isArray","typePlaceholder","isAddress","isBoolean","isUint","isInt","isByte","ArrayTypeInput","InputComponent","keyValue","Field","component","Checkbox","label","TextField","testId","composeValidators","required","mustBeAddressHash","isArrayParameter","RenderInputParams","validABI","index","key","generateFormFieldKey","output","lineHeight","height","overflowY","RenderOutputParams","results","multipleResults","outputs","multiline","disabled","rowsMax","NativeCoinValue","onSetMax","nativeCoin","getNetworkInfo","ethBalance","useSelector","currentSafeEthBalance","Boolean","payable","isPayable","ButtonLink","weight","inputAdornment","endAdornment","InputAdornment","position","mustBeFloat","maxValue","ContractInteraction","setCallResults","isABI","onNext","switchMethod","safeAddress","extractSafeAddress","useMemo","saveForm","handleSubmit","submit","txObject","createTxObject","data","encodeABI","isReadMethod","call","from","result","handleSubmitError","ModalHeader","subTitle","title","Hairline","GnoForm","decorators","ensResolver","formMutators","onSubmit","submitting","pristine","validating","rest","Block","formContainer","SafeInfo","Divider","withArrow","EthAddressInput","onScannedValue","setContractAddress","setMax","Switch","checked","Buttons","requiresMethod","createStyles","heading","padding","md","lg","justifyContent","boxSizing","maxHeight","annotation","secondaryText","marginRight","marginLeft","headingText","fontSize","closeIcon","chainIndicator","alignItems","icon","iconUrl","connectedNetwork","grow","ChainIndicator","chainId","IconButton","disableRipple","_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","default","React","_default","createElement","d","props","ref","other","_objectWithoutProperties","context","ListContext","_extends","clsx","alignItemsFlexStart","withStyles","minWidth","palette","active","flexShrink","display","marginTop","maxWidth","localFlag","backgroundPosition","backgroundRepeat","backgroundSize","etherFlag","iconLeft","backgroundColor","border","borderRadius","cursor","fontWeight","outline","textAlign","opacity","borderLeft","borderRight","borderTop","content","right","top","borderBottom","overflow","left","pointerEvents","transform","fill"],"mappings":"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","file":"static/js/54.99bb32c9.chunk.js","sourcesContent":["import { AbiItem, keccak256 } from 'web3-utils'\n\nexport interface AllowedAbiItem extends AbiItem {\n  name: string\n  type: 'function'\n}\n\nexport interface AbiItemExtended extends AllowedAbiItem {\n  action: string\n  methodSignature: string\n  signatureHash: string\n}\n\nexport const getMethodSignature = ({ inputs, name }: AbiItem): string => {\n  const params = inputs?.map((x) => x.type).join(',')\n  return `${name}(${params})`\n}\n\nexport const getSignatureHash = (signature: string): string => {\n  return keccak256(signature).toString()\n}\n\nexport const getMethodHash = (method: AbiItem): string => {\n  const signature = getMethodSignature(method)\n  return getSignatureHash(signature)\n}\n\nexport const getMethodSignatureAndSignatureHash = (\n  method: AbiItem,\n): { methodSignature: string; signatureHash: string } => {\n  const methodSignature = getMethodSignature(method)\n  const signatureHash = getSignatureHash(methodSignature)\n  return { methodSignature, signatureHash }\n}\n\nexport const isAllowedMethod = ({ name, type }: AbiItem): boolean => {\n  return type === 'function' && !!name\n}\n\nexport const getMethodAction = ({ stateMutability }: AbiItem): 'read' | 'write' => {\n  if (!stateMutability) {\n    return 'write'\n  }\n\n  return ['view', 'pure'].includes(stateMutability) ? 'read' : 'write'\n}\n\nexport const extractUsefulMethods = (abi: AbiItem[]): AbiItemExtended[] => {\n  const allowedAbiItems = abi.filter(isAllowedMethod) as AllowedAbiItem[]\n\n  return allowedAbiItems\n    .map(\n      (method): AbiItemExtended => ({\n        action: getMethodAction(method),\n        ...getMethodSignatureAndSignatureHash(method),\n        ...method,\n      }),\n    )\n    .sort(({ name: a }, { name: b }) => {\n      return a.toLowerCase() > b.toLowerCase() ? 1 : -1\n    })\n}\n\nexport const isPayable = (method: AbiItem | AbiItemExtended): boolean => {\n  return Boolean(method?.payable) || method.stateMutability === 'payable'\n}\n","import { useField, useForm } from 'react-final-form'\nimport { useRef, useEffect } from 'react'\n\nimport { TextAreaField } from 'src/components/forms/TextAreaField'\nimport { mustBeEthereumAddress, mustBeEthereumContractAddress } from 'src/components/forms/validator'\nimport Col from 'src/components/layout/Col'\nimport Row from 'src/components/layout/Row'\nimport { getContractABI } from 'src/config'\nimport { extractUsefulMethods } from 'src/logic/contractInteraction/sources/ABIService'\n\nexport const NO_DATA = 'no data'\n\nconst hasUsefulMethods = (abi: string): undefined | string => {\n  try {\n    const parsedABI = extractUsefulMethods(JSON.parse(abi))\n\n    if (parsedABI.length === 0) {\n      return NO_DATA\n    }\n  } catch (e) {\n    return NO_DATA\n  }\n}\n\nconst ContractABI = (): React.ReactElement => {\n  const {\n    input: { value: contractAddress },\n  } = useField('contractAddress', { subscription: { value: true } })\n  const { mutators } = useForm()\n  const setAbiValue = useRef(mutators.setAbiValue)\n\n  useEffect(() => {\n    const validateAndSetAbi = async () => {\n      const isEthereumAddress = mustBeEthereumAddress(contractAddress) === undefined\n      const isEthereumContractAddress = (await mustBeEthereumContractAddress(contractAddress)) === undefined\n\n      if (isEthereumAddress && isEthereumContractAddress) {\n        const abi = await getContractABI(contractAddress)\n        const isValidABI = hasUsefulMethods(abi) === undefined\n\n        // this check may help in scenarios where the user first pastes the ABI,\n        // and then sets a Proxy contract that has no useful methods\n        if (isValidABI) {\n          setAbiValue.current(abi)\n        }\n      }\n    }\n\n    if (contractAddress) {\n      validateAndSetAbi()\n    }\n  }, [contractAddress])\n\n  return (\n    <Row margin=\"sm\">\n      <Col>\n        <TextAreaField name=\"abi\" placeholder=\"ABI*\" text=\"ABI*\" type=\"text\" validate={hasUsefulMethods} />\n      </Col>\n    </Row>\n  )\n}\n\nexport default ContractABI\n","import { makeStyles } from '@material-ui/core/styles'\n\nimport { useFormState } from 'react-final-form'\n\nimport Row from 'src/components/layout/Row'\nimport Paragraph from 'src/components/layout/Paragraph'\nimport { styles } from 'src/routes/safe/components/Balances/SendModal/screens/ContractInteraction/style'\n\nconst useStyles = makeStyles(styles)\n\nconst FormErrorMessage = () => {\n  const classes = useStyles()\n  const { modifiedSinceLastSubmit, submitError } = useFormState({\n    subscription: { modifiedSinceLastSubmit: true, submitError: true },\n  })\n\n  const hasNewSubmitError = !!submitError && !modifiedSinceLastSubmit\n  return hasNewSubmitError ? (\n    <Row align=\"center\" className={classes.fullWidth} margin=\"xs\">\n      <Paragraph color=\"error\" noMargin size=\"md\" style={{ letterSpacing: '-0.5px', overflowWrap: 'anywhere' }}>\n        {submitError}\n      </Paragraph>\n    </Row>\n  ) : null\n}\n\nexport default FormErrorMessage\n","import InputBase from '@material-ui/core/InputBase'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Menu from '@material-ui/core/Menu'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport { MuiThemeProvider } from '@material-ui/core/styles'\nimport SearchIcon from '@material-ui/icons/Search'\nimport classNames from 'classnames'\nimport { ReactElement, useEffect, useState } from 'react'\nimport { useField, useFormState } from 'react-final-form'\nimport { AbiItem } from 'web3-utils'\n\nimport Col from 'src/components/layout/Col'\nimport Row from 'src/components/layout/Row'\nimport { NO_CONTRACT } from 'src/routes/safe/components/Balances/SendModal/screens/ContractInteraction/utils'\nimport CheckIcon from 'src/routes/safe/components/CurrencyDropdown/img/check.svg'\nimport { useDropdownStyles } from 'src/routes/safe/components/CurrencyDropdown/style'\nimport { DropdownListTheme } from 'src/theme/mui'\nimport { extractUsefulMethods, AbiItemExtended } from 'src/logic/contractInteraction/sources/ABIService'\nimport { Text } from '@gnosis.pm/safe-react-components'\nimport styled from 'styled-components'\n\nconst MENU_WIDTH = '452px'\n\nconst StyledText = styled(Text)`\n  padding: 4px 0 0 8px;\n`\n\ninterface MethodsDropdownProps {\n  onChange: (method: AbiItem) => void\n}\n\nexport const MethodsDropdown = ({ onChange }: MethodsDropdownProps): ReactElement | null => {\n  const classes = useDropdownStyles({ buttonWidth: MENU_WIDTH })\n  const {\n    input: { value: abi },\n    meta: { valid },\n  } = useField('abi', { subscription: { value: true, valid: true } })\n  const {\n    initialValues: { selectedMethod: selectedMethodByDefault },\n  } = useFormState({ subscription: { initialValues: true } })\n  const [selectedMethod, setSelectedMethod] = useState(selectedMethodByDefault ? selectedMethodByDefault : {})\n  const [methodsList, setMethodsList] = useState<AbiItemExtended[]>([])\n  const [methodsListFiltered, setMethodsListFiltered] = useState<AbiItemExtended[]>([])\n\n  const [anchorEl, setAnchorEl] = useState(null)\n  const [searchParams, setSearchParams] = useState('')\n\n  useEffect(() => {\n    if (abi) {\n      try {\n        setMethodsList(extractUsefulMethods(JSON.parse(abi)))\n      } catch (e) {\n        setMethodsList([])\n      }\n    }\n  }, [abi])\n\n  useEffect(() => {\n    setMethodsListFiltered(methodsList.filter(({ name }) => name?.toLowerCase().includes(searchParams.toLowerCase())))\n  }, [methodsList, searchParams])\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget)\n  }\n\n  const handleClose = () => {\n    setAnchorEl(null)\n  }\n\n  const onMethodSelectedChanged = (chosenMethod: AbiItem) => {\n    setSelectedMethod(chosenMethod)\n    onChange(chosenMethod)\n    handleClose()\n  }\n\n  if (!valid || !abi || abi === NO_CONTRACT) {\n    return null\n  }\n\n  return (\n    <Row margin=\"sm\">\n      <Col>\n        <MuiThemeProvider theme={DropdownListTheme}>\n          <>\n            <button className={classes.button} onClick={handleClick} type=\"button\">\n              <StyledText\n                size=\"md\"\n                color=\"placeHolder\"\n                className={classNames(classes.buttonInner, anchorEl && classes.openMenuButton)}\n              >\n                {(selectedMethod as Record<string, string>).name || 'Method'}\n              </StyledText>\n            </button>\n            <Menu\n              anchorEl={anchorEl}\n              anchorOrigin={{\n                horizontal: 'center',\n                vertical: 'bottom',\n              }}\n              elevation={0}\n              getContentAnchorEl={null}\n              id=\"customizedMenu\"\n              keepMounted\n              onClose={handleClose}\n              open={!!anchorEl}\n              PaperProps={{ style: { width: MENU_WIDTH } }}\n              transformOrigin={{\n                horizontal: 'center',\n                vertical: 'top',\n              }}\n            >\n              <MenuItem className={classes.listItemSearch} key=\"0\">\n                <div className={classes.search}>\n                  <div className={classes.searchIcon}>\n                    <SearchIcon />\n                  </div>\n                  <InputBase\n                    classes={{\n                      root: classes.inputRoot,\n                      input: classes.inputInput,\n                    }}\n                    inputProps={{ 'aria-label': 'search' }}\n                    onChange={(event) => setSearchParams(event.target.value)}\n                    placeholder=\"Search…\"\n                    value={searchParams}\n                  />\n                </div>\n              </MenuItem>\n              <div className={classes.dropdownItemsScrollWrapper}>\n                {methodsListFiltered.map((method) => {\n                  const { action, name, signatureHash } = method\n\n                  return (\n                    <MenuItem\n                      className={classes.listItem}\n                      key={signatureHash}\n                      onClick={() => onMethodSelectedChanged(method)}\n                      value={signatureHash}\n                    >\n                      <ListItemText primary={name} />\n                      <ListItemIcon className={classes.iconRight}>\n                        {signatureHash === (selectedMethod as Record<string, string>).signatureHash ? (\n                          <img alt=\"checked\" src={CheckIcon} />\n                        ) : (\n                          <span />\n                        )}\n                      </ListItemIcon>\n                      <ListItemIcon className={classes.iconRight}>\n                        <div>{action}</div>\n                      </ListItemIcon>\n                    </MenuItem>\n                  )\n                })}\n              </div>\n            </Menu>\n          </>\n        </MuiThemeProvider>\n      </Col>\n    </Row>\n  )\n}\n","import { TextAreaField } from 'src/components/forms/TextAreaField'\nimport {\n  isAddress,\n  isBoolean,\n  isByte,\n  isInt,\n  isUint,\n} from 'src/routes/safe/components/Balances/SendModal/screens/ContractInteraction/utils'\n\nconst validator = (value: string): string | undefined => {\n  try {\n    const values = JSON.parse(value)\n\n    if (!Array.isArray(values)) {\n      return 'be sure to surround value with []'\n    }\n  } catch (e) {\n    return 'invalid format'\n  }\n}\n\nconst typePlaceholder = (text: string, type: string): string => {\n  if (isAddress(type)) {\n    return `${text} E.g.: [\"0xACa94ef8bD5ffEE41947b4585a84BdA5a3d3DA6E\",\"0x1dF62f291b2E969fB0849d99D9Ce41e2F137006e\"]`\n  }\n\n  if (isBoolean(type)) {\n    return `${text} E.g.: [true, false, false, true]`\n  }\n\n  if (isUint(type)) {\n    return `${text} E.g.: [1000, 212, 320000022, 23]`\n  }\n\n  if (isInt(type)) {\n    return `${text} E.g.: [1000, -212, 1232, -1]`\n  }\n\n  if (isByte(type)) {\n    return `${text} E.g.: [\"0xc00000000000000000000000000000000000\", \"0xc00000000000000000000000000000000001\"]`\n  }\n\n  return `${text} E.g.: [\"first value\", \"second value\", \"third value\"]`\n}\n\nconst ArrayTypeInput = ({ name, text, type }: { name: string; text: string; type: string }): React.ReactElement => (\n  <TextAreaField name={name} placeholder={typePlaceholder(text, type)} text={text} type=\"text\" validate={validator} />\n)\n\nexport default ArrayTypeInput\n","import { Checkbox } from '@gnosis.pm/safe-react-components'\nimport { ReactElement } from 'react'\n\nimport Col from 'src/components/layout/Col'\nimport Field from 'src/components/forms/Field'\nimport TextField from 'src/components/forms/TextField'\n\nimport { composeValidators, mustBeAddressHash, required } from 'src/components/forms/validator'\nimport { isArrayParameter } from 'src/routes/safe/components/Balances/SendModal/screens/ContractInteraction/utils'\nimport ArrayTypeInput from './ArrayTypeInput'\n\ntype Props = {\n  type: string\n  keyValue: string\n  placeholder: string\n}\n\nexport const InputComponent = ({ type, keyValue, placeholder }: Props): ReactElement | null => {\n  if (!type) {\n    return null\n  }\n\n  switch (type) {\n    case 'bool': {\n      const inputProps = {\n        'data-testid': keyValue,\n      }\n      return (\n        <Col>\n          <Field component={Checkbox} name={keyValue} label={placeholder} type=\"checkbox\" inputProps={inputProps} />\n        </Col>\n      )\n    }\n    case 'address': {\n      return (\n        <Col>\n          <Field\n            component={TextField}\n            name={keyValue}\n            placeholder={placeholder}\n            testId={keyValue}\n            text={placeholder}\n            type=\"text\"\n            validate={composeValidators(required, mustBeAddressHash)}\n          />\n        </Col>\n      )\n    }\n    default: {\n      return (\n        <Col>\n          {isArrayParameter(type) ? (\n            <ArrayTypeInput name={keyValue} text={placeholder} type={type} />\n          ) : (\n            <Field\n              component={TextField}\n              name={keyValue}\n              placeholder={placeholder}\n              testId={keyValue}\n              text={placeholder}\n              type=\"text\"\n              validate={required}\n            />\n          )}\n        </Col>\n      )\n    }\n  }\n}\n","import { ReactElement } from 'react'\nimport { useField } from 'react-final-form'\n\nimport Row from 'src/components/layout/Row'\n\nimport { InputComponent } from './InputComponent'\nimport { generateFormFieldKey } from '../utils'\nimport { AbiItemExtended } from 'src/logic/contractInteraction/sources/ABIService'\n\nexport const RenderInputParams = (): ReactElement | null => {\n  const {\n    meta: { valid: validABI },\n  } = useField('abi', { subscription: { valid: true, value: true } })\n  const {\n    input: { value: method },\n  }: { input: { value: AbiItemExtended } } = useField('selectedMethod', { subscription: { value: true } })\n  const renderInputs = validABI && !!method && method.inputs?.length\n\n  return !renderInputs ? null : (\n    <>\n      {method.inputs?.map(({ name, type }, index) => {\n        const placeholder = name ? `${name} (${type})` : type\n        const key = generateFormFieldKey(type, method.signatureHash, index)\n\n        return (\n          <Row key={key} margin=\"sm\">\n            <InputComponent type={type} keyValue={key} placeholder={placeholder} />\n          </Row>\n        )\n      })}\n    </>\n  )\n}\n","import { ReactElement } from 'react'\nimport { useField } from 'react-final-form'\nimport { makeStyles } from '@material-ui/core/styles'\nimport TextField from 'src/components/forms/TextField'\nimport Col from 'src/components/layout/Col'\nimport Paragraph from 'src/components/layout/Paragraph'\nimport Row from 'src/components/layout/Row'\n\nconst useStyles = makeStyles({\n  output: {\n    '& > div > textarea': {\n      letterSpacing: '-0.5px',\n      lineHeight: '20px',\n      height: '40px',\n      overflowY: 'auto',\n    },\n  },\n})\n\nexport const RenderOutputParams = (): ReactElement | null => {\n  const classes = useStyles()\n  const {\n    input: { value: method },\n  }: any = useField('selectedMethod', { subscription: { value: true } })\n  const {\n    input: { value: results },\n  }: any = useField('callResults', { subscription: { value: true } })\n  const multipleResults = !!method && method.outputs.length > 1\n\n  if (results == null || results === '') {\n    return null\n  }\n\n  return (\n    <>\n      <Row align=\"left\" margin=\"xs\">\n        <Paragraph color=\"primary\" size=\"lg\" style={{ letterSpacing: '-0.5px' }}>\n          Call result:\n        </Paragraph>\n      </Row>\n      {method.outputs?.map(({ name, type }, index) => {\n        const placeholder = name ? `${name} (${type})` : type\n        const key = `methodCallResult-${method.name}_${index}_${type}`\n        const value = multipleResults ? results[index] : results\n\n        return (\n          <Row key={key} margin=\"sm\">\n            <Col>\n              <TextField\n                className={classes.output}\n                multiline\n                disabled\n                rowsMax={3}\n                input={{ name: key, value: value.toString(), placeholder, type: 'text' }}\n                meta={{ valid: true }}\n                testId={key}\n                text={placeholder}\n              />\n            </Col>\n          </Row>\n        )\n      })}\n    </>\n  )\n}\n","import InputAdornment from '@material-ui/core/InputAdornment'\nimport { makeStyles } from '@material-ui/core/styles'\n\nimport { useField } from 'react-final-form'\nimport { useSelector } from 'react-redux'\n\nimport Field from 'src/components/forms/Field'\nimport TextField from 'src/components/forms/TextField'\nimport { composeValidators, maxValue, mustBeFloat } from 'src/components/forms/validator'\nimport ButtonLink from 'src/components/layout/ButtonLink'\nimport Col from 'src/components/layout/Col'\nimport Paragraph from 'src/components/layout/Paragraph'\nimport Row from 'src/components/layout/Row'\nimport { isPayable } from 'src/logic/contractInteraction/sources/ABIService'\nimport { styles } from 'src/routes/safe/components/Balances/SendModal/screens/ContractInteraction/style'\nimport { currentSafeEthBalance } from 'src/logic/safe/store/selectors'\nimport { getNetworkInfo } from 'src/config'\n\nconst useStyles = makeStyles(styles)\n\ninterface NativeCoinValueProps {\n  onSetMax: (nativeCoinBalance: string) => void\n}\n\nexport const NativeCoinValue = ({ onSetMax }: NativeCoinValueProps): React.ReactElement | null => {\n  const classes = useStyles()\n  const { nativeCoin } = getNetworkInfo()\n  const ethBalance = useSelector(currentSafeEthBalance)\n\n  const {\n    input: { value: method },\n  } = useField('selectedMethod', { subscription: { value: true } })\n  const disabled = !isPayable(method)\n\n  if (!ethBalance) {\n    return null\n  }\n\n  return disabled ? null : (\n    <>\n      <Row className={classes.fullWidth} margin=\"xs\">\n        <Paragraph color=\"disabled\" noMargin size=\"md\" style={{ letterSpacing: '-0.5px' }}>\n          Value\n        </Paragraph>\n        <ButtonLink\n          color={disabled ? 'disabled' : 'secondary'}\n          onClick={() => !disabled && onSetMax(ethBalance)}\n          weight=\"bold\"\n        >\n          Send max\n        </ButtonLink>\n      </Row>\n      <Row margin=\"md\">\n        <Col>\n          <Field\n            component={TextField}\n            disabled={disabled}\n            inputAdornment={{\n              endAdornment: <InputAdornment position=\"end\">{nativeCoin.name}</InputAdornment>,\n              disabled,\n            }}\n            name=\"value\"\n            placeholder=\"Value\"\n            text=\"Value\"\n            type=\"text\"\n            validate={!disabled && composeValidators(mustBeFloat, maxValue(ethBalance))}\n          />\n        </Col>\n      </Row>\n    </>\n  )\n}\n","import { makeStyles } from '@material-ui/core/styles'\nimport { useMemo } from 'react'\nimport Switch from '@material-ui/core/Switch'\n\nimport { styles } from './style'\nimport Divider from 'src/components/Divider'\nimport GnoForm from 'src/components/forms/GnoForm'\nimport Block from 'src/components/layout/Block'\nimport Hairline from 'src/components/layout/Hairline'\nimport SafeInfo from 'src/routes/safe/components/Balances/SendModal/SafeInfo'\nimport Paragraph from 'src/components/layout/Paragraph'\nimport Buttons from './Buttons'\nimport ContractABI from './ContractABI'\nimport { EthAddressInput } from './EthAddressInput'\nimport FormErrorMessage from './FormErrorMessage'\nimport { MethodsDropdown } from './MethodsDropdown'\nimport { RenderInputParams } from './RenderInputParams'\nimport { RenderOutputParams } from './RenderOutputParams'\nimport { createTxObject, formMutators, handleSubmitError, isReadMethod, ensResolver } from './utils'\nimport { TransactionReviewType } from './Review'\nimport { NativeCoinValue } from './NativeCoinValue'\nimport { ModalHeader } from '../ModalHeader'\nimport { extractSafeAddress } from 'src/routes/routes'\n\nconst useStyles = makeStyles(styles)\n\nexport interface CreatedTx {\n  contractAddress: string\n  data: string\n  selectedMethod: TransactionReviewType\n  value: string | number\n}\n\nexport type ContractInteractionTx = {\n  contractAddress?: string\n}\n\nexport interface ContractInteractionProps {\n  contractAddress?: string\n  initialValues: ContractInteractionTx\n  isABI: boolean\n  onClose: () => void\n  switchMethod: () => void\n  onNext: (tx: CreatedTx, submit: boolean) => void\n}\n\nconst ContractInteraction: React.FC<ContractInteractionProps> = ({\n  contractAddress,\n  initialValues,\n  isABI,\n  onClose,\n  onNext,\n  switchMethod,\n}) => {\n  const classes = useStyles()\n  const safeAddress = extractSafeAddress()\n  let setCallResults\n\n  useMemo(() => {\n    if (contractAddress) {\n      initialValues.contractAddress = contractAddress\n    }\n  }, [contractAddress, initialValues])\n\n  const saveForm = async (values: CreatedTx): Promise<void> => {\n    await handleSubmit(values, false)\n    switchMethod()\n  }\n\n  const handleSubmit = async (\n    { contractAddress, selectedMethod, value, ...values },\n    submit = true,\n  ): Promise<void | Record<string, string>> => {\n    if (value || (contractAddress && selectedMethod)) {\n      try {\n        const txObject = createTxObject(selectedMethod, contractAddress, values)\n        const data = txObject.encodeABI()\n\n        if (isReadMethod(selectedMethod) && submit) {\n          const result = await txObject.call({ from: safeAddress })\n          setCallResults(result)\n\n          // this was a read method, so we won't go to the 'review' screen\n          return\n        }\n\n        onNext({ ...values, contractAddress, data, selectedMethod, value }, submit)\n      } catch (error) {\n        return handleSubmitError(error, values)\n      }\n    }\n  }\n\n  return (\n    <>\n      <ModalHeader onClose={onClose} subTitle=\"1 of 2\" title=\"Contract interaction\" />\n      <Hairline />\n      <GnoForm\n        decorators={[ensResolver]}\n        formMutators={formMutators}\n        initialValues={initialValues}\n        onSubmit={handleSubmit}\n        subscription={{ submitting: true, pristine: true, values: true }}\n      >\n        {(submitting, validating, rest, mutators) => {\n          setCallResults = mutators.setCallResults\n          return (\n            <>\n              <Block className={classes.formContainer}>\n                <SafeInfo />\n                <Divider withArrow />\n                <EthAddressInput\n                  name=\"contractAddress\"\n                  onScannedValue={mutators.setContractAddress}\n                  text=\"Contract address*\"\n                />\n                <ContractABI />\n                <MethodsDropdown onChange={mutators.setSelectedMethod} />\n                <NativeCoinValue onSetMax={mutators.setMax} />\n                <RenderInputParams />\n                <RenderOutputParams />\n                <FormErrorMessage />\n                <Paragraph color=\"disabled\" noMargin size=\"lg\" style={{ letterSpacing: '-0.5px' }}>\n                  <Switch checked={!isABI} onChange={() => saveForm(rest.values)} />\n                  Use custom data (hex encoded)\n                </Paragraph>\n              </Block>\n              <Buttons onClose={onClose} requiresMethod />\n            </>\n          )\n        }}\n      </GnoForm>\n    </>\n  )\n}\n\nexport default ContractInteraction\n","import { lg, md, secondaryText } from 'src/theme/variables'\nimport { createStyles } from '@material-ui/core'\n\nexport const styles = createStyles({\n  heading: {\n    padding: `${md} ${lg}`,\n    justifyContent: 'flex-start',\n    boxSizing: 'border-box',\n    maxHeight: '74px',\n  },\n  annotation: {\n    letterSpacing: '-1px',\n    color: secondaryText,\n    marginRight: 'auto',\n    marginLeft: '20px',\n  },\n  headingText: {\n    fontSize: lg,\n  },\n  closeIcon: {\n    height: '35px',\n    width: '35px',\n  },\n  chainIndicator: {\n    padding: `0 ${md}`,\n    height: '20px',\n    alignItems: 'center',\n  },\n  icon: {\n    width: '20px',\n    marginRight: '10px',\n  },\n})\n","import IconButton from '@material-ui/core/IconButton'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Close from '@material-ui/icons/Close'\nimport { ReactElement } from 'react'\n\nimport ChainIndicator from 'src/components/ChainIndicator'\nimport Paragraph from 'src/components/layout/Paragraph'\nimport Row from 'src/components/layout/Row'\nimport { getNetworkInfo } from 'src/config'\nimport { styles } from './style'\n\nconst useStyles = makeStyles(styles)\n\ninterface HeaderProps {\n  onClose: () => void\n  subTitle?: string\n  title: string\n  iconUrl?: string\n}\n\nexport const ModalHeader = ({ onClose, subTitle, title, iconUrl }: HeaderProps): ReactElement => {\n  const classes = useStyles()\n  const connectedNetwork = getNetworkInfo()\n\n  return (\n    <Row align=\"center\" className={classes.heading} grow>\n      {iconUrl && <img className={classes.icon} alt={title} src={iconUrl} />}\n      <Paragraph className={classes.headingText} noMargin weight=\"bolder\">\n        {title}\n      </Paragraph>\n      <Paragraph className={classes.annotation}>{subTitle ? subTitle : ''}</Paragraph>\n      <Row className={classes.chainIndicator}>\n        {connectedNetwork.id && <ChainIndicator chainId={connectedNetwork.id} />}\n      </Row>\n      <IconButton disableRipple onClick={onClose}>\n        <Close className={classes.closeIcon} />\n      </IconButton>\n    </Row>\n  )\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\n}), 'Search');\n\nexports.default = _default;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport ListContext from '../List/ListContext';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      minWidth: 56,\n      color: theme.palette.action.active,\n      flexShrink: 0,\n      display: 'inline-flex'\n    },\n\n    /* Styles applied to the root element when the parent `ListItem` uses `alignItems=\"flex-start\"`. */\n    alignItemsFlexStart: {\n      marginTop: 8\n    }\n  };\n};\n/**\n * A simple wrapper to apply `List` styles to an `Icon` or `SvgIcon`.\n */\n\nvar ListItemIcon = /*#__PURE__*/React.forwardRef(function ListItemIcon(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\"]);\n\n  var context = React.useContext(ListContext);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className, context.alignItems === 'flex-start' && classes.alignItemsFlexStart),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItemIcon.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component, normally `Icon`, `SvgIcon`,\n   * or a `@material-ui/icons` SVG icon element.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiListItemIcon'\n})(ListItemIcon);","export default __webpack_public_path__ + \"static/media/check.7da64643.svg\";","import { makeStyles } from '@material-ui/core/styles'\n\nconst buttonWidth = '140px'\nexport const useDropdownStyles = makeStyles({\n  listItem: {\n    maxWidth: (props: any) => (props.buttonWidth ? props.buttonWidth : buttonWidth),\n    boxSizing: 'border-box',\n  },\n  listItemSearch: {\n    maxWidth: (props: any) => (props.buttonWidth ? props.buttonWidth : buttonWidth),\n    padding: '0',\n    boxSizing: 'border-box',\n  },\n  localFlag: {\n    backgroundPosition: '50% 50%',\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'contain',\n    height: '20px !important',\n    width: '26px !important',\n  },\n  etherFlag: {\n    backgroundPosition: '50% 50%',\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'contain',\n    width: '26px',\n    height: '26px',\n  },\n  iconLeft: {\n    marginRight: '10px',\n  },\n  iconRight: {\n    marginLeft: '18px',\n  },\n  button: {\n    backgroundColor: '#e8e7e6',\n    border: 'none',\n    borderRadius: '3px',\n    boxSizing: 'border-box',\n    color: '#5d6d74',\n    cursor: 'pointer',\n    fontSize: '12px',\n    fontWeight: 'normal',\n    height: '24px',\n    lineHeight: '1.33',\n    marginRight: '20px',\n    minWidth: (props: any) => (props.buttonWidth ? props.buttonWidth : buttonWidth),\n    outline: 'none',\n    padding: '0',\n    textAlign: 'left',\n    '&:active': {\n      opacity: '0.8',\n    },\n  },\n  buttonInner: {\n    boxSizing: 'border-box',\n    display: 'block',\n    height: '100%',\n    lineHeight: '24px',\n    padding: '0 22px 0 8px',\n    position: 'relative',\n    width: '100%',\n    '&::after': {\n      borderLeft: '5px solid transparent',\n      borderRight: '5px solid transparent',\n      borderTop: '5px solid #5d6d74',\n      content: '\"\"',\n      height: '0',\n      position: 'absolute',\n      right: '8px',\n      top: '9px',\n      width: '0',\n    },\n  },\n  openMenuButton: {\n    '&::after': {\n      borderBottom: '5px solid #5d6d74',\n      borderLeft: '5px solid transparent',\n      borderRight: '5px solid transparent',\n      borderTop: 'none',\n    },\n  },\n  dropdownItemsScrollWrapper: {\n    maxHeight: '280px',\n    overflow: 'auto',\n  },\n  search: {\n    position: 'relative',\n    borderRadius: '0',\n    backgroundColor: '#fff',\n    '&:hover': {\n      backgroundColor: '#fff',\n    },\n    marginRight: 0,\n    width: '100%',\n  },\n  searchIcon: {\n    alignItems: 'center',\n    display: 'flex',\n    height: '100%',\n    justifyContent: 'center',\n    left: '12px',\n    margin: '0',\n    pointerEvents: 'none',\n    position: 'absolute',\n    top: '50%',\n    transform: 'translateY(-50%)',\n    width: '18px',\n    '& path': {\n      fill: '#b2b5b2',\n    },\n  },\n  inputRoot: {\n    color: '#5d6d74',\n    fontSize: '14px',\n    fontWeight: 'normal',\n    lineHeight: '1.43',\n    width: '100%',\n  },\n  inputInput: {\n    boxSizing: 'border-box',\n    height: '44px',\n    padding: '12px 12px 12px 40px',\n    width: '100%',\n  },\n})\n"],"sourceRoot":""}