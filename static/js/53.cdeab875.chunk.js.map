{"version":3,"sources":["components/layout/Bold/index.tsx","components/forms/SelectField/index.tsx","components/layout/Heading/index.tsx","components/layout/Heading/index.module.scss","routes/safe/components/Settings/ThresholdSettings/ChangeThreshold/style.ts","routes/safe/components/Settings/ThresholdSettings/ChangeThreshold/index.tsx","routes/safe/components/Settings/ThresholdSettings/style.ts","routes/safe/components/Settings/ThresholdSettings/index.tsx"],"names":["Bold","this","props","children","React","style","minWidth","SelectInput","classes","disableError","formControlProps","input","name","onChange","value","restInput","label","meta","renderValue","rest","showError","submitError","dirtySinceLastSubmit","error","touched","inputProps","htmlFor","cx","classNames","bind","styles","Heading","align","className","color","margin","tag","testId","truncate","capitalize","undefined","module","exports","useStyles","makeStyles","createStyles","modalContent","padding","md","lg","ownersText","marginLeft","sm","inputRow","position","gasCostsContainer","backgroundColor","background","ChangeThresholdModal","onClose","ownersCount","safeAddress","threshold","dispatch","useDispatch","safeVersion","useSelector","currentSafeCurrentVersion","useState","data","setData","manualSafeTxGas","setManualSafeTxGas","manualGasPrice","setManualGasPrice","manualGasLimit","setManualGasLimit","editedThreshold","setEditedThreshold","disabledSubmitForm","setDisabledSubmitForm","useEstimateTransactionGas","txData","txRecipient","safeTxGas","gasCostFormatted","txEstimationExecutionStatus","isCreation","isExecution","isOffChainSignature","gasLimit","gasPriceFormatted","gasEstimation","useEstimationStatus","buttonStatus","useEffect","isCurrent","getGnosisSafeInstanceAt","methods","changeThreshold","encodeABI","calculateChangeThresholdData","handleThreshold","target","parseInt","handleSubmit","txParameters","createTransaction","to","valueInWei","txNonce","safeNonce","ethParameters","notifiedTransaction","TX_NOTIFICATION_TYPES","SETTINGS_CHANGE_TX","EditableTxParameters","ethGasLimit","ethGasPrice","closeEditModalCallback","oldGasPrice","newGasPrice","oldSafeTxGas","newSafeTxGas","toggleEditMode","ModalHeader","title","Hairline","GnoForm","initialValues","toString","onSubmit","Block","Row","Paragraph","weight","Col","xs","Field","render","SelectField","Array","Number","map","x","index","MenuItem","validate","composeValidators","required","mustBeInteger","minValue","differentFrom","noMargin","size","TxParametersDetail","onEdit","isTransactionCreation","isTransactionExecution","EstimationStatus","LOADING","Modal","Footer","withoutBorder","ButtonStatus","Buttons","cancelButtonProps","onClick","confirmButtonProps","disabled","status","text","secondaryText","fontColor","container","buttonRow","left","bottom","boxSizing","width","justifyContent","borderTop","border","modifyBtn","height","xl","fontSize","smallFontSize","ThresholdSettings","isModalOpen","setModalOpen","currentSafe","address","owners","granted","grantedSelector","toggleModal","prevOpen","trackEvent","useAnalytics","SETTINGS_EVENTS","OWNERS","length","Button","variant","description","handleClose","open"],"mappings":"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","file":"static/js/53.cdeab875.chunk.js","sourcesContent":["import * as React from 'react'\n\nclass Bold extends React.PureComponent<any> {\n  render() {\n    const { children, ...props } = this.props\n\n    return <b {...props}>{children}</b>\n  }\n}\n\nexport default Bold\n","import FormControl from '@material-ui/core/FormControl'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport Select from '@material-ui/core/Select'\n\nconst style = {\n  minWidth: '100%',\n}\n\nconst SelectInput = ({\n  classes,\n  disableError,\n  formControlProps,\n  input: { name, onChange, value, ...restInput },\n  label,\n  meta,\n  renderValue,\n  ...rest\n}) => {\n  const showError = ((meta.submitError && !meta.dirtySinceLastSubmit) || meta.error) && meta.touched && !disableError\n  const inputProps = {\n    ...restInput,\n    name,\n  }\n\n  return (\n    <FormControl {...formControlProps} error={showError} style={style}>\n      <InputLabel htmlFor={name}>{label}</InputLabel>\n      <Select\n        classes={classes}\n        inputProps={inputProps}\n        onChange={onChange}\n        renderValue={renderValue}\n        value={value}\n        {...rest}\n      />\n      {showError && <FormHelperText>{meta.error || meta.submitError}</FormHelperText>}\n    </FormControl>\n  )\n}\n\nexport default SelectInput\n","import classNames from 'classnames/bind'\nimport * as React from 'react'\n\nimport styles from './index.module.scss'\n\nimport { capitalize } from 'src/utils/css'\n\nconst cx = classNames.bind(styles)\n\nconst Heading = (props) => {\n  const { align, children, className = '', color, margin, tag, testId, truncate, ...rest } = props\n\n  const classes = cx(className, 'heading', align, tag, margin ? capitalize(margin, 'margin') : undefined, color, {\n    truncate,\n  })\n\n  return React.createElement(tag, { ...rest, className: classes, 'data-testid': testId || '' }, children)\n}\n\nexport default Heading\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"heading\":\"Heading_heading__3Wz9P\",\"h1\":\"Heading_h1__MXfCA\",\"h2\":\"Heading_h2__3X6Ts\",\"h3\":\"Heading_h3__1k2fD\",\"h4\":\"Heading_h4__1YCmR\",\"center\":\"Heading_center__28MHY\",\"right\":\"Heading_right__1fQM1\",\"truncate\":\"Heading_truncate__2Lq93\",\"marginSm\":\"Heading_marginSm__13YwX\",\"marginMd\":\"Heading_marginMd__2AnZN\",\"marginLg\":\"Heading_marginLg__2ZfEq\",\"marginXl\":\"Heading_marginXl__3RHt7\",\"soft\":\"Heading_soft__2Zu43\",\"medium\":\"Heading_medium__2X8Z-\",\"dark\":\"Heading_dark__Ds2QB\",\"fancy\":\"Heading_fancy__1Wx6l\",\"warning\":\"Heading_warning__2lrZC\",\"primary\":\"Heading_primary__2hOk2\",\"secondary\":\"Heading_secondary__37lKs\",\"disabled\":\"Heading_disabled__30DjG\",\"error\":\"Heading_error__t5ujr\",\"white\":\"Heading_white__2gkIK\"};","import { createStyles, makeStyles } from '@material-ui/core'\n\nimport { background, lg, md, sm } from 'src/theme/variables'\n\nexport const useStyles = makeStyles(\n  createStyles({\n    modalContent: {\n      padding: `${md} ${lg}`,\n    },\n    ownersText: {\n      marginLeft: sm,\n    },\n    inputRow: {\n      position: 'relative',\n    },\n    gasCostsContainer: {\n      backgroundColor: background,\n      padding: `${sm} ${lg}`,\n    },\n  }),\n)\n","import MenuItem from '@material-ui/core/MenuItem'\nimport { ReactElement, useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport Field from 'src/components/forms/Field'\nimport GnoForm from 'src/components/forms/GnoForm'\nimport SelectField from 'src/components/forms/SelectField'\nimport { composeValidators, differentFrom, minValue, mustBeInteger, required } from 'src/components/forms/validator'\nimport Block from 'src/components/layout/Block'\nimport Col from 'src/components/layout/Col'\nimport Hairline from 'src/components/layout/Hairline'\nimport Paragraph from 'src/components/layout/Paragraph'\nimport Row from 'src/components/layout/Row'\nimport { ModalHeader } from 'src/routes/safe/components/Balances/SendModal/screens/ModalHeader'\nimport { EditableTxParameters } from 'src/routes/safe/components/Transactions/helpers/EditableTxParameters'\nimport { TxParameters } from 'src/routes/safe/container/hooks/useTransactionParameters'\nimport { currentSafeCurrentVersion } from 'src/logic/safe/store/selectors'\nimport { getGnosisSafeInstanceAt } from 'src/logic/contracts/safeContracts'\nimport { useEstimationStatus } from 'src/logic/hooks/useEstimationStatus'\nimport { EstimationStatus, useEstimateTransactionGas } from 'src/logic/hooks/useEstimateTransactionGas'\nimport { ButtonStatus, Modal } from 'src/components/Modal'\nimport { TransactionFees } from 'src/components/TransactionsFees'\nimport { TxParametersDetail } from 'src/routes/safe/components/Transactions/helpers/TxParametersDetail'\nimport { createTransaction } from 'src/logic/safe/store/actions/createTransaction'\nimport { TX_NOTIFICATION_TYPES } from 'src/logic/safe/transactions'\n\nimport { useStyles } from './style'\n\nconst THRESHOLD_FIELD_NAME = 'threshold'\n\ntype ChangeThresholdModalProps = {\n  onClose: () => void\n  ownersCount?: number\n  safeAddress: string\n  threshold?: number\n}\n\nexport const ChangeThresholdModal = ({\n  onClose,\n  ownersCount = 0,\n  safeAddress,\n  threshold = 1,\n}: ChangeThresholdModalProps): ReactElement => {\n  const classes = useStyles()\n  const dispatch = useDispatch()\n  const safeVersion = useSelector(currentSafeCurrentVersion) as string\n  const [data, setData] = useState('')\n  const [manualSafeTxGas, setManualSafeTxGas] = useState('0')\n  const [manualGasPrice, setManualGasPrice] = useState<string | undefined>()\n  const [manualGasLimit, setManualGasLimit] = useState<string | undefined>()\n  const [editedThreshold, setEditedThreshold] = useState<number>(threshold)\n  const [disabledSubmitForm, setDisabledSubmitForm] = useState<boolean>(true)\n\n  const {\n    gasCostFormatted,\n    txEstimationExecutionStatus,\n    isCreation,\n    isExecution,\n    isOffChainSignature,\n    gasLimit,\n    gasPriceFormatted,\n    gasEstimation,\n  } = useEstimateTransactionGas({\n    txData: data,\n    txRecipient: safeAddress,\n    safeTxGas: manualSafeTxGas,\n    manualGasPrice,\n    manualGasLimit,\n  })\n\n  const [buttonStatus] = useEstimationStatus(txEstimationExecutionStatus)\n\n  useEffect(() => {\n    let isCurrent = true\n    const calculateChangeThresholdData = () => {\n      const safeInstance = getGnosisSafeInstanceAt(safeAddress, safeVersion)\n      const txData = safeInstance.methods.changeThreshold(editedThreshold).encodeABI()\n      if (isCurrent) {\n        setData(txData)\n      }\n    }\n\n    calculateChangeThresholdData()\n    return () => {\n      isCurrent = false\n    }\n  }, [safeAddress, safeVersion, editedThreshold])\n\n  const handleThreshold = ({ target }) => {\n    const value = parseInt(target.value)\n    setDisabledSubmitForm(value === editedThreshold || value === threshold)\n    setEditedThreshold(value)\n  }\n\n  const handleSubmit = ({ txParameters }) => {\n    dispatch(\n      createTransaction({\n        safeAddress,\n        to: safeAddress,\n        valueInWei: '0',\n        txData: data,\n        txNonce: txParameters.safeNonce,\n        safeTxGas: txParameters.safeTxGas,\n        ethParameters: txParameters,\n        notifiedTransaction: TX_NOTIFICATION_TYPES.SETTINGS_CHANGE_TX,\n      }),\n    )\n    onClose()\n  }\n\n  const closeEditModalCallback = (txParameters: TxParameters) => {\n    const oldGasPrice = gasPriceFormatted\n    const newGasPrice = txParameters.ethGasPrice\n    const oldSafeTxGas = gasEstimation\n    const newSafeTxGas = txParameters.safeTxGas\n\n    if (newGasPrice && oldGasPrice !== newGasPrice) {\n      setManualGasPrice(txParameters.ethGasPrice)\n    }\n\n    if (txParameters.ethGasLimit && gasLimit !== txParameters.ethGasLimit) {\n      setManualGasLimit(txParameters.ethGasLimit)\n    }\n\n    if (newSafeTxGas && oldSafeTxGas !== newSafeTxGas) {\n      setManualSafeTxGas(newSafeTxGas)\n    }\n  }\n\n  return (\n    <EditableTxParameters\n      isOffChainSignature={isOffChainSignature}\n      isExecution={isExecution}\n      ethGasLimit={gasLimit}\n      ethGasPrice={gasPriceFormatted}\n      safeTxGas={gasEstimation}\n      closeEditModalCallback={closeEditModalCallback}\n    >\n      {(txParameters, toggleEditMode) => (\n        <>\n          <ModalHeader onClose={onClose} title=\"Change threshold\" />\n          <Hairline />\n          <GnoForm initialValues={{ threshold: editedThreshold.toString(), txParameters }} onSubmit={handleSubmit}>\n            {() => (\n              <>\n                <Block className={classes.modalContent}>\n                  <Row>\n                    <Paragraph weight=\"bolder\">Any transaction requires the confirmation of:</Paragraph>\n                  </Row>\n                  <Row align=\"center\" className={classes.inputRow} margin=\"xl\">\n                    <Col xs={2}>\n                      <Field\n                        data-testid=\"threshold-select-input\"\n                        name={THRESHOLD_FIELD_NAME}\n                        onChange={handleThreshold}\n                        render={(props) => (\n                          <>\n                            <SelectField {...props} disableError>\n                              {[...Array(Number(ownersCount))].map((x, index) => (\n                                <MenuItem key={index} value={`${index + 1}`}>\n                                  {index + 1}\n                                </MenuItem>\n                              ))}\n                            </SelectField>\n                          </>\n                        )}\n                        validate={composeValidators(required, mustBeInteger, minValue(1), differentFrom(threshold))}\n                      />\n                    </Col>\n                    <Col xs={10}>\n                      <Paragraph className={classes.ownersText} color=\"primary\" noMargin size=\"lg\">\n                        {`out of ${ownersCount} owner(s)`}\n                      </Paragraph>\n                    </Col>\n                  </Row>\n\n                  {/* Tx Parameters */}\n                  <TxParametersDetail\n                    txParameters={txParameters}\n                    onEdit={toggleEditMode}\n                    isTransactionCreation={isCreation}\n                    isTransactionExecution={isExecution}\n                    isOffChainSignature={isOffChainSignature}\n                  />\n                </Block>\n                {txEstimationExecutionStatus !== EstimationStatus.LOADING && (\n                  <div className={classes.gasCostsContainer}>\n                    <TransactionFees\n                      gasCostFormatted={gasCostFormatted}\n                      isExecution={isExecution}\n                      isCreation={isCreation}\n                      isOffChainSignature={isOffChainSignature}\n                      txEstimationExecutionStatus={txEstimationExecutionStatus}\n                    />\n                  </div>\n                )}\n\n                <Modal.Footer withoutBorder={buttonStatus !== ButtonStatus.LOADING}>\n                  <Modal.Footer.Buttons\n                    cancelButtonProps={{ onClick: onClose }}\n                    confirmButtonProps={{\n                      disabled: disabledSubmitForm,\n                      status: buttonStatus,\n                      text: txEstimationExecutionStatus === EstimationStatus.LOADING ? 'Estimating' : undefined,\n                    }}\n                  />\n                </Modal.Footer>\n              </>\n            )}\n          </GnoForm>\n        </>\n      )}\n    </EditableTxParameters>\n  )\n}\n","import { createStyles } from '@material-ui/core/styles'\nimport { border, fontColor, lg, secondaryText, smallFontSize, xl } from 'src/theme/variables'\n\nexport const styles = createStyles({\n  ownersText: {\n    color: secondaryText,\n    '& b': {\n      color: fontColor,\n    },\n  },\n  container: {\n    padding: lg,\n  },\n  buttonRow: {\n    padding: lg,\n    position: 'absolute',\n    left: 0,\n    bottom: 0,\n    boxSizing: 'border-box',\n    width: '100%',\n    justifyContent: 'flex-end',\n    borderTop: `2px solid ${border}`,\n  },\n  modifyBtn: {\n    height: xl,\n    fontSize: smallFontSize,\n  },\n})\n","import { makeStyles } from '@material-ui/core/styles'\nimport { useState, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport Modal from 'src/components/Modal'\nimport Block from 'src/components/layout/Block'\nimport Bold from 'src/components/layout/Bold'\nimport Button from 'src/components/layout/Button'\nimport Heading from 'src/components/layout/Heading'\nimport Paragraph from 'src/components/layout/Paragraph'\nimport Row from 'src/components/layout/Row'\nimport { grantedSelector } from 'src/routes/safe/container/selector'\nimport { currentSafe } from 'src/logic/safe/store/selectors'\nimport { useAnalytics, SETTINGS_EVENTS } from 'src/utils/googleAnalytics'\n\nimport { ChangeThresholdModal } from './ChangeThreshold'\nimport { styles } from './style'\n\nconst useStyles = makeStyles(styles)\n\nconst ThresholdSettings = (): React.ReactElement => {\n  const classes = useStyles()\n  const [isModalOpen, setModalOpen] = useState(false)\n  const { address: safeAddress = '', owners, threshold = 1 } = useSelector(currentSafe) ?? {}\n  const granted = useSelector(grantedSelector)\n\n  const toggleModal = () => {\n    setModalOpen((prevOpen) => !prevOpen)\n  }\n\n  const { trackEvent } = useAnalytics()\n\n  useEffect(() => {\n    trackEvent(SETTINGS_EVENTS.OWNERS)\n  }, [trackEvent])\n\n  return (\n    <>\n      <Block className={classes.container}>\n        <Heading tag=\"h2\">Required Confirmations</Heading>\n        <Paragraph>Any transaction requires the confirmation of:</Paragraph>\n        <Paragraph className={classes.ownersText} size=\"lg\">\n          <Bold>{threshold}</Bold> out of <Bold>{owners?.length || 0}</Bold> owners\n        </Paragraph>\n        {owners && owners.length > 1 && granted && (\n          <Row className={classes.buttonRow}>\n            <Button\n              className={classes.modifyBtn}\n              color=\"primary\"\n              minWidth={120}\n              onClick={toggleModal}\n              variant=\"contained\"\n            >\n              Change\n            </Button>\n          </Row>\n        )}\n      </Block>\n      <Modal\n        description=\"Change Required Confirmations Form\"\n        handleClose={toggleModal}\n        open={isModalOpen}\n        title=\"Change Required Confirmations\"\n      >\n        <ChangeThresholdModal\n          onClose={toggleModal}\n          ownersCount={owners?.length}\n          safeAddress={safeAddress}\n          threshold={threshold}\n        />\n      </Modal>\n    </>\n  )\n}\n\nexport default ThresholdSettings\n"],"sourceRoot":""}